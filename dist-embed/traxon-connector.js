var CargoImpConnector=(function(St){"use strict";var kt,I,gr,Le,mr,hr,br,fr,$t,Gt,Vt,ot={},xr=[],ya=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nt=Array.isArray;function Ce(t,r){for(var a in r)t[a]=r[a];return t}function zt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ie(t,r,a){var n,o,s,l={};for(s in r)s=="key"?n=r[s]:s=="ref"?o=r[s]:l[s]=r[s];if(arguments.length>2&&(l.children=arguments.length>3?kt.call(arguments,2):a),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)l[s]===void 0&&(l[s]=t.defaultProps[s]);return _t(t,l,n,o,null)}function _t(t,r,a,n,o){var s={type:t,props:r,key:a,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++gr,__i:-1,__u:0};return o==null&&I.vnode!=null&&I.vnode(s),s}function ae(t){return t.children}function ye(t,r){this.props=t,this.context=r}function je(t,r){if(r==null)return t.__?je(t.__,t.__i+1):null;for(var a;r<t.__k.length;r++)if((a=t.__k[r])!=null&&a.__e!=null)return a.__e;return typeof t.type=="function"?je(t):null}function vr(t){var r,a;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if((a=t.__k[r])!=null&&a.__e!=null){t.__e=t.__c.base=a.__e;break}return vr(t)}}function wr(t){(!t.__d&&(t.__d=!0)&&Le.push(t)&&!At.__r++||mr!=I.debounceRendering)&&((mr=I.debounceRendering)||hr)(At)}function At(){for(var t,r,a,n,o,s,l,c=1;Le.length;)Le.length>c&&Le.sort(br),t=Le.shift(),c=Le.length,t.__d&&(a=void 0,n=void 0,o=(n=(r=t).__v).__e,s=[],l=[],r.__P&&((a=Ce({},n)).__v=n.__v+1,I.vnode&&I.vnode(a),qt(r.__P,a,n,r.__n,r.__P.namespaceURI,32&n.__u?[o]:null,s,o??je(n),!!(32&n.__u),l),a.__v=n.__v,a.__.__k[a.__i]=a,kr(s,a,l),n.__e=n.__=null,a.__e!=o&&vr(a)));At.__r=0}function Cr(t,r,a,n,o,s,l,c,d,u,i){var p,b,m,x,C,A,_,f=n&&n.__k||xr,O=r.length;for(d=Na(a,r,f,d,O),p=0;p<O;p++)(m=a.__k[p])!=null&&(b=m.__i==-1?ot:f[m.__i]||ot,m.__i=p,A=qt(t,m,b,o,s,l,c,d,u,i),x=m.__e,m.ref&&b.ref!=m.ref&&(b.ref&&Yt(b.ref,null,m),i.push(m.ref,m.__c||x,m)),C==null&&x!=null&&(C=x),(_=!!(4&m.__u))||b.__k===m.__k?d=yr(m,d,t,_):typeof m.type=="function"&&A!==void 0?d=A:x&&(d=x.nextSibling),m.__u&=-7);return a.__e=C,d}function Na(t,r,a,n,o){var s,l,c,d,u,i=a.length,p=i,b=0;for(t.__k=new Array(o),s=0;s<o;s++)(l=r[s])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=t.__k[s]=_t(null,l,null,null,null):nt(l)?l=t.__k[s]=_t(ae,{children:l},null,null,null):l.constructor==null&&l.__b>0?l=t.__k[s]=_t(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):t.__k[s]=l,d=s+b,l.__=t,l.__b=t.__b+1,c=null,(u=l.__i=Sa(l,a,d,p))!=-1&&(p--,(c=a[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(o>i?b--:o<i&&b++),typeof l.type!="function"&&(l.__u|=4)):u!=d&&(u==d-1?b--:u==d+1?b++:(u>d?b--:b++,l.__u|=4))):t.__k[s]=null;if(p)for(s=0;s<i;s++)(c=a[s])!=null&&(2&c.__u)==0&&(c.__e==n&&(n=je(c)),Ar(c,c));return n}function yr(t,r,a,n){var o,s;if(typeof t.type=="function"){for(o=t.__k,s=0;o&&s<o.length;s++)o[s]&&(o[s].__=t,r=yr(o[s],r,a,n));return r}t.__e!=r&&(n&&(r&&t.type&&!r.parentNode&&(r=je(t)),a.insertBefore(t.__e,r||null)),r=t.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function it(t,r){return r=r||[],t==null||typeof t=="boolean"||(nt(t)?t.some(function(a){it(a,r)}):r.push(t)),r}function Sa(t,r,a,n){var o,s,l,c=t.key,d=t.type,u=r[a],i=u!=null&&(2&u.__u)==0;if(u===null&&c==null||i&&c==u.key&&d==u.type)return a;if(n>(i?1:0)){for(o=a-1,s=a+1;o>=0||s<r.length;)if((u=r[l=o>=0?o--:s++])!=null&&(2&u.__u)==0&&c==u.key&&d==u.type)return l}return-1}function Nr(t,r,a){r[0]=="-"?t.setProperty(r,a??""):t[r]=a==null?"":typeof a!="number"||ya.test(r)?a:a+"px"}function Et(t,r,a,n,o){var s,l;e:if(r=="style")if(typeof a=="string")t.style.cssText=a;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(r in n)a&&r in a||Nr(t.style,r,"");if(a)for(r in a)n&&a[r]==n[r]||Nr(t.style,r,a[r])}else if(r[0]=="o"&&r[1]=="n")s=r!=(r=r.replace(fr,"$1")),l=r.toLowerCase(),r=l in t||r=="onFocusOut"||r=="onFocusIn"?l.slice(2):r.slice(2),t.l||(t.l={}),t.l[r+s]=a,a?n?a.u=n.u:(a.u=$t,t.addEventListener(r,s?Vt:Gt,s)):t.removeEventListener(r,s?Vt:Gt,s);else{if(o=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in t)try{t[r]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&r[4]!="-"?t.removeAttribute(r):t.setAttribute(r,r=="popover"&&a==1?"":a))}}function Sr(t){return function(r){if(this.l){var a=this.l[r.type+t];if(r.t==null)r.t=$t++;else if(r.t<a.u)return;return a(I.event?I.event(r):r)}}}function qt(t,r,a,n,o,s,l,c,d,u){var i,p,b,m,x,C,A,_,f,O,k,T,R,L,j,V,S,Y=r.type;if(r.constructor!=null)return null;128&a.__u&&(d=!!(32&a.__u),s=[c=r.__e=a.__e]),(i=I.__b)&&i(r);e:if(typeof Y=="function")try{if(_=r.props,f="prototype"in Y&&Y.prototype.render,O=(i=Y.contextType)&&n[i.__c],k=i?O?O.props.value:i.__:n,a.__c?A=(p=r.__c=a.__c).__=p.__E:(f?r.__c=p=new Y(_,k):(r.__c=p=new ye(_,k),p.constructor=Y,p.render=_a),O&&O.sub(p),p.state||(p.state={}),p.__n=n,b=p.__d=!0,p.__h=[],p._sb=[]),f&&p.__s==null&&(p.__s=p.state),f&&Y.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Ce({},p.__s)),Ce(p.__s,Y.getDerivedStateFromProps(_,p.__s))),m=p.props,x=p.state,p.__v=r,b)f&&Y.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),f&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(f&&Y.getDerivedStateFromProps==null&&_!==m&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(_,k),r.__v==a.__v||!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(_,p.__s,k)===!1){for(r.__v!=a.__v&&(p.props=_,p.state=p.__s,p.__d=!1),r.__e=a.__e,r.__k=a.__k,r.__k.some(function(te){te&&(te.__=r)}),T=0;T<p._sb.length;T++)p.__h.push(p._sb[T]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(_,p.__s,k),f&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(m,x,C)})}if(p.context=k,p.props=_,p.__P=t,p.__e=!1,R=I.__r,L=0,f){for(p.state=p.__s,p.__d=!1,R&&R(r),i=p.render(p.props,p.state,p.context),j=0;j<p._sb.length;j++)p.__h.push(p._sb[j]);p._sb=[]}else do p.__d=!1,R&&R(r),i=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++L<25);p.state=p.__s,p.getChildContext!=null&&(n=Ce(Ce({},n),p.getChildContext())),f&&!b&&p.getSnapshotBeforeUpdate!=null&&(C=p.getSnapshotBeforeUpdate(m,x)),V=i,i!=null&&i.type===ae&&i.key==null&&(V=_r(i.props.children)),c=Cr(t,nt(V)?V:[V],r,a,n,o,s,l,c,d,u),p.base=r.__e,r.__u&=-161,p.__h.length&&l.push(p),A&&(p.__E=p.__=null)}catch(te){if(r.__v=null,d||s!=null)if(te.then){for(r.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,r.__e=c}else{for(S=s.length;S--;)zt(s[S]);jt(r)}else r.__e=a.__e,r.__k=a.__k,te.then||jt(r);I.__e(te,r,a)}else s==null&&r.__v==a.__v?(r.__k=a.__k,r.__e=a.__e):c=r.__e=ka(a.__e,r,a,n,o,s,l,d,u);return(i=I.diffed)&&i(r),128&r.__u?void 0:c}function jt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(jt)}function kr(t,r,a){for(var n=0;n<a.length;n++)Yt(a[n],a[++n],a[++n]);I.__c&&I.__c(r,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(s){s.call(o)})}catch(s){I.__e(s,o.__v)}})}function _r(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:nt(t)?t.map(_r):Ce({},t)}function ka(t,r,a,n,o,s,l,c,d){var u,i,p,b,m,x,C,A=a.props||ot,_=r.props,f=r.type;if(f=="svg"?o="http://www.w3.org/2000/svg":f=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((m=s[u])&&"setAttribute"in m==!!f&&(f?m.localName==f:m.nodeType==3)){t=m,s[u]=null;break}}if(t==null){if(f==null)return document.createTextNode(_);t=document.createElementNS(o,f,_.is&&_),c&&(I.__m&&I.__m(r,s),c=!1),s=null}if(f==null)A===_||c&&t.data==_||(t.data=_);else{if(s=s&&kt.call(t.childNodes),!c&&s!=null)for(A={},u=0;u<t.attributes.length;u++)A[(m=t.attributes[u]).name]=m.value;for(u in A)if(m=A[u],u!="children"){if(u=="dangerouslySetInnerHTML")p=m;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Et(t,u,null,m,o)}}for(u in _)m=_[u],u=="children"?b=m:u=="dangerouslySetInnerHTML"?i=m:u=="value"?x=m:u=="checked"?C=m:c&&typeof m!="function"||A[u]===m||Et(t,u,m,A[u],o);if(i)c||p&&(i.__html==p.__html||i.__html==t.innerHTML)||(t.innerHTML=i.__html),r.__k=[];else if(p&&(t.innerHTML=""),Cr(r.type=="template"?t.content:t,nt(b)?b:[b],r,a,n,f=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,l,s?s[0]:a.__k&&je(a,0),c,d),s!=null)for(u=s.length;u--;)zt(s[u]);c||(u="value",f=="progress"&&x==null?t.removeAttribute("value"):x!=null&&(x!==t[u]||f=="progress"&&!x||f=="option"&&x!=A[u])&&Et(t,u,x,A[u],o),u="checked",C!=null&&C!=t[u]&&Et(t,u,C,A[u],o))}return t}function Yt(t,r,a){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&r==null||(t.__u=t(r))}else t.current=r}catch(o){I.__e(o,a)}}function Ar(t,r,a){var n,o;if(I.unmount&&I.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Yt(n,null,r)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){I.__e(s,r)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&Ar(n[o],r,a||typeof t.type!="function");a||zt(t.__e),t.__c=t.__=t.__e=void 0}function _a(t,r,a){return this.constructor(t,a)}function Er(t,r,a){var n,o,s,l;r==document&&(r=document.documentElement),I.__&&I.__(t,r),o=(n=!1)?null:r.__k,s=[],l=[],qt(r,t=r.__k=Ie(ae,null,[t]),o||ot,ot,r.namespaceURI,o?null:r.firstChild?kt.call(r.childNodes):null,s,o?o.__e:r.firstChild,n,l),kr(s,t,l)}kt=xr.slice,I={__e:function(t,r,a,n){for(var o,s,l;r=r.__;)if((o=r.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(t)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),l=o.__d),l)return o.__E=o}catch(c){t=c}throw t}},gr=0,ye.prototype.setState=function(t,r){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ce({},this.state),typeof t=="function"&&(t=t(Ce({},a),this.props)),t&&Ce(a,t),t!=null&&this.__v&&(r&&this._sb.push(r),wr(this))},ye.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),wr(this))},ye.prototype.render=ae,Le=[],hr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,br=function(t,r){return t.__v.__b-r.__v.__b},At.__r=0,fr=/(PointerCapture)$|Capture$/i,$t=0,Gt=Sr(!1),Vt=Sr(!0);var Aa=0;function e(t,r,a,n,o,s){r||(r={});var l,c,d=r;if("ref"in d)for(c in d={},r)c=="ref"?l=r[c]:d[c]=r[c];var u={type:t,props:d,key:a,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Aa,__i:-1,__u:0,__source:o,__self:s};if(typeof t=="function"&&(l=t.defaultProps))for(c in l)d[c]===void 0&&(d[c]=l[c]);return I.vnode&&I.vnode(u),u}var st,Q,Xt,Tr,lt=0,Fr=[],J=I,Rr=J.__b,Or=J.__r,Lr=J.diffed,Ir=J.__c,Pr=J.unmount,Dr=J.__;function Kt(t,r){J.__h&&J.__h(Q,t,lt||r),lt=0;var a=Q.__H||(Q.__H={__:[],__h:[]});return t>=a.__.length&&a.__.push({}),a.__[t]}function M(t){return lt=1,Ea(Ur,t)}function Ea(t,r,a){var n=Kt(st++,2);if(n.t=t,!n.__c&&(n.__=[a?a(r):Ur(void 0,r),function(c){var d=n.__N?n.__N[0]:n.__[0],u=n.t(d,c);d!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=Q,!Q.__f)){var o=function(c,d,u){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(b){return!!b.__c});if(i.every(function(b){return!b.__N}))return!s||s.call(this,c,d,u);var p=n.__c.props!==c;return i.forEach(function(b){if(b.__N){var m=b.__[0];b.__=b.__N,b.__N=void 0,m!==b.__[0]&&(p=!0)}}),s&&s.call(this,c,d,u)||p};Q.__f=!0;var s=Q.shouldComponentUpdate,l=Q.componentWillUpdate;Q.componentWillUpdate=function(c,d,u){if(this.__e){var i=s;s=void 0,o(c,d,u),s=i}l&&l.call(this,c,d,u)},Q.shouldComponentUpdate=o}return n.__N||n.__}function Ye(t,r){var a=Kt(st++,3);!J.__s&&Mr(a.__H,r)&&(a.__=t,a.u=r,Q.__H.__h.push(a))}function Hr(t){return lt=5,ct(function(){return{current:t}},[])}function ct(t,r){var a=Kt(st++,7);return Mr(a.__H,r)&&(a.__=t(),a.__H=r,a.__h=t),a.__}function K(t,r){return lt=8,ct(function(){return t},r)}function Ta(){for(var t;t=Fr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Tt),t.__H.__h.forEach(Zt),t.__H.__h=[]}catch(r){t.__H.__h=[],J.__e(r,t.__v)}}J.__b=function(t){Q=null,Rr&&Rr(t)},J.__=function(t,r){t&&r.__k&&r.__k.__m&&(t.__m=r.__k.__m),Dr&&Dr(t,r)},J.__r=function(t){Or&&Or(t),st=0;var r=(Q=t.__c).__H;r&&(Xt===Q?(r.__h=[],Q.__h=[],r.__.forEach(function(a){a.__N&&(a.__=a.__N),a.u=a.__N=void 0})):(r.__h.forEach(Tt),r.__h.forEach(Zt),r.__h=[],st=0)),Xt=Q},J.diffed=function(t){Lr&&Lr(t);var r=t.__c;r&&r.__H&&(r.__H.__h.length&&(Fr.push(r)!==1&&Tr===J.requestAnimationFrame||((Tr=J.requestAnimationFrame)||Fa)(Ta)),r.__H.__.forEach(function(a){a.u&&(a.__H=a.u),a.u=void 0})),Xt=Q=null},J.__c=function(t,r){r.some(function(a){try{a.__h.forEach(Tt),a.__h=a.__h.filter(function(n){return!n.__||Zt(n)})}catch(n){r.some(function(o){o.__h&&(o.__h=[])}),r=[],J.__e(n,a.__v)}}),Ir&&Ir(t,r)},J.unmount=function(t){Pr&&Pr(t);var r,a=t.__c;a&&a.__H&&(a.__H.__.forEach(function(n){try{Tt(n)}catch(o){r=o}}),a.__H=void 0,r&&J.__e(r,a.__v))};var Br=typeof requestAnimationFrame=="function";function Fa(t){var r,a=function(){clearTimeout(n),Br&&cancelAnimationFrame(r),setTimeout(t)},n=setTimeout(a,35);Br&&(r=requestAnimationFrame(a))}function Tt(t){var r=Q,a=t.__c;typeof a=="function"&&(t.__c=void 0,a()),Q=r}function Zt(t){var r=Q;t.__c=t.__(),Q=r}function Mr(t,r){return!t||t.length!==r.length||r.some(function(a,n){return a!==t[n]})}function Ur(t,r){return typeof r=="function"?r(t):r}const Ft={EAP:{code:"EAP",description:"e-AWB Participant",default:!0},ECC:{code:"ECC",description:"Electronic Consignment with Accompanying Paper",default:!1},SPX:{code:"SPX",description:"Secure - Examined",default:!1},PER:{code:"PER",description:"Perishable Cargo",default:!1},PEP:{code:"PEP",description:"Perishable Fruits & Vegetables",default:!1},PEF:{code:"PEF",description:"Perishable Fresh Fish/Seafood",default:!1},PES:{code:"PES",description:"Live Tropical Fish",default:!1},RFL:{code:"RFL",description:"Flowers",default:!1},COL:{code:"COL",description:"Cool Goods",default:!1},FRO:{code:"FRO",description:"Frozen Goods",default:!1},PIL:{code:"PIL",description:"Pharmaceuticals",default:!1},VAL:{code:"VAL",description:"Valuable Cargo",default:!1},VUN:{code:"VUN",description:"Vulnerable Cargo",default:!1},SPF:{code:"SPF",description:"Secure - Protected Freight",default:!1},AVI:{code:"AVI",description:"Live Animals",default:!1},DGR:{code:"DGR",description:"Dangerous Goods",default:!1},HEA:{code:"HEA",description:"Heavy Cargo",default:!1},BIG:{code:"BIG",description:"Outsized Cargo",default:!1}},Wr={RA:{code:"REGULATED_AGENT",short:"RA",description:"Agente Regulado (seguridad)",default:!0},SPX:{code:"SECURITY_STATUS",short:"SPX",description:"Estado de Seguridad (examinado)",default:!0},KC:{code:"KNOWN_CONSIGNOR",short:"KC",description:"Consignatario Conocido",default:!1},AEO:{code:"AUTHORISED_ECONOMIC_OPERATOR",short:"AEO",description:"Operador Económico Autorizado",default:!1},SM:{code:"SCREENING_METHOD",short:"SM",description:"Método de Inspección",default:!1},TIN:{code:"TRADER_IDENTIFICATION_NUMBER",short:"TIN",description:"NIT/Tax ID (Shipper o Consignee)",default:!1},EORI:{code:"TRADER_IDENTIFICATION_NUMBER",short:"EORI",description:"EORI Number (EU)",default:!1}},dt={sphByAirline:{"075":["ECC","EAP","PER"],145:["EAP"],985:["EAP"],"074":["EAP"],"057":["EAP"],"020":["EAP"],"006":["EAP"],"001":["EAP"],205:["EAP"],DEFAULT:["EAP"]},ociByOriginCountry:{CO:[],EC:[],PE:[],DEFAULT:[]},includeShipperTIN:!1,includeConsigneeTIN:!0,tinOciFormat:"legacy",shipperTINField:"oci",airlinesRequiringECC:["075"],securityOci:{enabled:!1,regulatedAgentNumber:"",expiryDate:"",screeningMethod:"",screeningDate:"",screenerName:""},messageConfig:{autoGenerateCSL:!0,sendTimeoutMs:3e4,maxRetries:3},cargoImp:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!1,ociWithEori:!1,defaultSphCodes:["EAP","PER"],enabledFwbSegments:["AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","SPH","OCI","CER","ISU"],enabledFhlSegments:["MBI","TXT","HBS","OCI"],controlNumber:"96728316614806",senderId:"REUAGT89COCRGMASTER/BOG01:PIMA",defaultSignature:"CARGOOP",airlinePolicies:{"075":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["ECC","EAP","PER"],enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","SSR","ACC","OTH","CER","NFY"]},145:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},"074":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],notes:"KLM requiere todos los segmentos incluyendo OTH"},157:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","NFY"]},369:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!1,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI"],disabledSegments:["FWB","FTR","OTH","NFY"],notes:"Atlas/Ethiopian: sin header UNB/UNH ni footer UNT/UNZ"},"057":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},"020":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},205:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],notes:"Emirates: prefijo AWB 205"},176:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],useAgencyNameForCER:!0,notes:"Emirates 176: CER usa nombre de agencia"},235:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],requiresHTS:!0,notes:"Turkish Airlines: requiere código HTS"},985:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],useConsolidatedNG:!0,notes:"LATAM Cargo: NG especial para consolidados"},"045":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},992:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],fhlAlwaysWithHeader:!0,notes:"DHL Aviation: Caso 7 - FHL siempre incluye header/footer EDIFACT"},999:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],fhlAlwaysWithHeader:!0,notes:"Polar Air (DHL): Caso 7"},155:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],fhlAlwaysWithHeader:!0,notes:"ABX Air: Caso 7 - FHL siempre incluye header/footer EDIFACT"},DEFAULT:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],notes:"Política por defecto para aerolíneas no configuradas. Ajustar según requisitos."}}},lastUpdated:new Date().toISOString()};function Xe(){try{const t=localStorage.getItem("cargo_imp_connector_config");if(t){const r=JSON.parse(t);return{...dt,...r}}}catch(t){console.warn("Error loading connector config:",t)}return dt}function $r(t){try{t.lastUpdated=new Date().toISOString(),localStorage.setItem("cargo_imp_connector_config",JSON.stringify(t))}catch(r){console.error("Error saving connector config:",r)}}function Ra(t,r){for(var a in r)t[a]=r[a];return t}function Qt(t,r){for(var a in t)if(a!=="__source"&&!(a in r))return!0;for(var n in r)if(n!=="__source"&&t[n]!==r[n])return!0;return!1}function Gr(t,r){this.props=t,this.context=r}function Oa(t,r){function a(o){var s=this.props.ref,l=s==o.ref;return!l&&s&&(s.call?s(null):s.current=null),r?!r(this.props,o)||!l:Qt(this.props,o)}function n(o){return this.shouldComponentUpdate=a,Ie(t,o)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n.type=t,n}(Gr.prototype=new ye).isPureReactComponent=!0,Gr.prototype.shouldComponentUpdate=function(t,r){return Qt(this.props,t)||Qt(this.state,r)};var Vr=I.__b;I.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Vr&&Vr(t)};var La=I.__e;I.__e=function(t,r,a,n){if(t.then){for(var o,s=r;s=s.__;)if((o=s.__c)&&o.__c)return r.__e==null&&(r.__e=a.__e,r.__k=a.__k),o.__c(t,r)}La(t,r,a,n)};var zr=I.unmount;function qr(t,r,a){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Ra({},t)).__c!=null&&(t.__c.__P===a&&(t.__c.__P=r),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return qr(n,r,a)})),t}function jr(t,r,a){return t&&a&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return jr(n,r,a)}),t.__c&&t.__c.__P===r&&(t.__e&&a.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=a)),t}function Jt(){this.__u=0,this.o=null,this.__b=null}function Yr(t){var r=t.__.__c;return r&&r.__a&&r.__a(t)}function Rt(){this.i=null,this.l=null}I.unmount=function(t){var r=t.__c;r&&r.__R&&r.__R(),r&&32&t.__u&&(t.type=null),zr&&zr(t)},(Jt.prototype=new ye).__c=function(t,r){var a=r.__c,n=this;n.o==null&&(n.o=[]),n.o.push(a);var o=Yr(n.__v),s=!1,l=function(){s||(s=!0,a.__R=null,o?o(c):c())};a.__R=l;var c=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=jr(d,d.__c.__P,d.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.o.pop();)u.forceUpdate()}};n.__u++||32&r.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(l,l)},Jt.prototype.componentWillUnmount=function(){this.o=[]},Jt.prototype.render=function(t,r){if(this.__b){if(this.__v.__k){var a=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=qr(this.__b,a,n.__O=n.__P)}this.__b=null}var o=r.__a&&Ie(ae,null,t.fallback);return o&&(o.__u&=-33),[Ie(ae,null,r.__a?null:t.children),o]};var Xr=function(t,r,a){if(++a[1]===a[0]&&t.l.delete(r),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(a=t.i;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;t.i=a=a[2]}};(Rt.prototype=new ye).__a=function(t){var r=this,a=Yr(r.__v),n=r.l.get(t);return n[0]++,function(o){var s=function(){r.props.revealOrder?(n.push(o),Xr(r,t,n)):o()};a?a(s):s()}},Rt.prototype.render=function(t){this.i=null,this.l=new Map;var r=it(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&r.reverse();for(var a=r.length;a--;)this.l.set(r[a],this.i=[1,0,this.i]);return t.children},Rt.prototype.componentDidUpdate=Rt.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(r,a){Xr(t,a,r)})};var Ia=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Pa=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Da=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ha=/[A-Z0-9]/g,Ba=typeof document<"u",Ma=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};ye.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ye.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(r){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:r})}})});var Kr=I.event;function Ua(){}function Wa(){return this.cancelBubble}function $a(){return this.defaultPrevented}I.event=function(t){return Kr&&(t=Kr(t)),t.persist=Ua,t.isPropagationStopped=Wa,t.isDefaultPrevented=$a,t.nativeEvent=t};var Ga={enumerable:!1,configurable:!0,get:function(){return this.class}},Zr=I.vnode;I.vnode=function(t){typeof t.type=="string"&&(function(r){var a=r.props,n=r.type,o={},s=n.indexOf("-")===-1;for(var l in a){var c=a[l];if(!(l==="value"&&"defaultValue"in a&&c==null||Ba&&l==="children"&&n==="noscript"||l==="class"||l==="className")){var d=l.toLowerCase();l==="defaultValue"&&"value"in a&&a.value==null?l="value":l==="download"&&c===!0?c="":d==="translate"&&c==="no"?c=!1:d[0]==="o"&&d[1]==="n"?d==="ondoubleclick"?l="ondblclick":d!=="onchange"||n!=="input"&&n!=="textarea"||Ma(a.type)?d==="onfocus"?l="onfocusin":d==="onblur"?l="onfocusout":Da.test(l)&&(l=d):d=l="oninput":s&&Pa.test(l)?l=l.replace(Ha,"-$&").toLowerCase():c===null&&(c=void 0),d==="oninput"&&o[l=d]&&(l="oninputCapture"),o[l]=c}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=it(a.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=it(a.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),a.class&&!a.className?(o.class=a.class,Object.defineProperty(o,"className",Ga)):(a.className&&!a.class||a.class&&a.className)&&(o.class=o.className=a.className),r.props=o})(t),t.$$typeof=Ia,Zr&&Zr(t)};var Qr=I.__r;I.__r=function(t){Qr&&Qr(t),t.__c};var Jr=I.diffed;I.diffed=function(t){Jr&&Jr(t);var r=t.props,a=t.__e;a!=null&&t.type==="textarea"&&"value"in r&&r.value!==a.value&&(a.value=r.value==null?"":r.value)};let er=null,ea=0;const Va=5e3;function za(){const t=Date.now();return(!er||t-ea>Va)&&(er=Xe(),ea=t),er}const qa=t=>{const r=za();return r.sphByAirline[t]||r.sphByAirline.DEFAULT||["EAP"]},tr=t=>t.split("-")[0]||t.substring(0,3),rr=t=>qa(t),ta=(t,r=150)=>{if(!t||t.trim()==="")return"";const c=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ñÑ]/g,"N").replace(/\bHS\s*\d{6,10}\b/gi,"").replace(/\b\d{6,10}\b/g,"").replace(/[^A-Za-z0-9\s]/g,"").toUpperCase().replace(/\s+/g," ").trim();if(c.length===0)return"";const d=c.split(" "),u=[];let i="";for(const b of d){if(b.length>25){i.length>0&&(u.push(i.trim()),i="");for(let m=0;m<b.length;m+=25)u.push(b.substring(m,m+25));continue}i.length+b.length+1>25?(i.length>0&&u.push(i.trim()),i=b):i=i.length>0?i+" "+b:b}return i.length>0&&u.push(i.trim()),u.join(`
`).substring(0,r)},Ne={FWB:{code:"FWB",name:"Message Header",description:"Cabecera del mensaje FWB con versión (incluye UNB/UNH en Caso 7)",required:!0,maxLength:200,order:1,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"version",description:"Versión del mensaje",maxLength:7,required:!0,type:"string"}]},AWB:{code:"AWB",name:"Air Waybill Number",description:"Número de guía aérea con origen, destino, piezas y peso",required:!0,maxLength:50,order:2,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"awbNumber",description:"Número AWB (11 dígitos sin guión)",maxLength:11,required:!0,type:"string"},{name:"origin",description:"Aeropuerto origen (3 chars)",maxLength:3,required:!0,type:"code"},{name:"destination",description:"Aeropuerto destino (3 chars)",maxLength:3,required:!0,type:"code"},{name:"pieces",description:"Número de piezas",maxLength:5,required:!0,type:"number"},{name:"weight",description:"Peso bruto",maxLength:10,required:!0,type:"number"}]},FLT:{code:"FLT",name:"Flight",description:"Información de vuelo(s)",required:!1,maxLength:80,order:3,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"flight1",description:"Vuelo 1 (carrier+número)",maxLength:10,required:!1,type:"string"},{name:"date1",description:"Fecha vuelo 1 (DDMMM)",maxLength:5,required:!1,type:"date"},{name:"flight2",description:"Vuelo 2",maxLength:10,required:!1,type:"string"},{name:"date2",description:"Fecha vuelo 2",maxLength:5,required:!1,type:"date"}]},RTG:{code:"RTG",name:"Routing",description:"Ruta del envío (aeropuertos y aerolíneas)",required:!0,maxLength:100,order:4,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"segment1",description:"Primer segmento (AEROPUERTO+CARRIER)",maxLength:6,required:!0,type:"string"},{name:"segment2",description:"Segundo segmento",maxLength:6,required:!1,type:"string"},{name:"segment3",description:"Tercer segmento",maxLength:6,required:!1,type:"string"}]},SHP:{code:"SHP",name:"Shipper",description:"Información del exportador/embarcador",required:!0,maxLength:200,order:5,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"country",description:"País (2 chars ISO)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal (máx 9 chars)",maxLength:9,required:!1,type:"string"},{name:"phone",description:"Teléfono",maxLength:25,required:!1,type:"string"}]},CNE:{code:"CNE",name:"Consignee",description:"Información del importador/consignatario",required:!0,maxLength:200,order:6,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"state",description:"Estado (solo USA, 2 chars)",maxLength:2,required:!1,type:"code"},{name:"country",description:"País (2 chars ISO)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal (máx 9 chars)",maxLength:9,required:!0,type:"string"},{name:"phone",description:"Teléfono",maxLength:25,required:!1,type:"string"}]},AGT:{code:"AGT",name:"Agent",description:"Información del agente de carga",required:!0,maxLength:100,order:7,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"iataCode",description:"Código IATA (7 dígitos)",maxLength:7,required:!0,type:"string"},{name:"cassCode",description:"Código CASS (4 dígitos)",maxLength:4,required:!1,type:"string"},{name:"name",description:"Nombre agencia",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"}]},SSR:{code:"SSR",name:"Special Service Request",description:"Instrucciones especiales de manejo",required:!1,maxLength:200,order:8,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"line1",description:"Línea 1 (máx 65 chars)",maxLength:65,required:!1,type:"string"},{name:"line2",description:"Línea 2 (máx 65 chars)",maxLength:65,required:!1,type:"string"},{name:"line3",description:"Línea 3 (máx 65 chars)",maxLength:65,required:!1,type:"string"}]},ACC:{code:"ACC",name:"Accounting Information",description:"Información contable",required:!1,maxLength:50,order:9,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"accountingInfo",description:"Info contable (máx 34 chars)",maxLength:34,required:!1,type:"string"}]},CVD:{code:"CVD",name:"Charge Declarations",description:"Declaraciones de cargos (moneda, prepaid/collect, valores)",required:!0,maxLength:80,order:10,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"currency",description:"Código moneda (3 chars)",maxLength:3,required:!0,type:"code"},{name:"wtOt",description:"Weight/Other (PP, CC, PC, CP)",maxLength:2,required:!0,type:"code",allowedValues:["PP","CC","PC","CP"]},{name:"declaredCarriage",description:"Valor declarado transporte (o NVD)",maxLength:15,required:!0,type:"string"},{name:"declaredCustoms",description:"Valor declarado aduanas (o NCV)",maxLength:15,required:!0,type:"string"},{name:"declaredInsurance",description:"Valor asegurado (o XXX)",maxLength:15,required:!0,type:"string"}]},RTD:{code:"RTD",name:"Rate Description",description:"Descripción de tarifas (líneas de cobro)",required:!0,maxLength:300,order:11,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"lineNumber",description:"Número de línea",maxLength:2,required:!0,type:"number"},{name:"pieces",description:"Número de piezas",maxLength:5,required:!0,type:"number"},{name:"weight",description:"Peso bruto",maxLength:10,required:!0,type:"number"},{name:"rateClass",description:"Clase de tarifa (C, M, N, Q)",maxLength:2,required:!0,type:"code"},{name:"commodity",description:"Código commodity (4 dígitos)",maxLength:4,required:!1,type:"string"},{name:"chargeableWeight",description:"Peso cobrable",maxLength:10,required:!1,type:"number"},{name:"rate",description:"Tarifa",maxLength:10,required:!1,type:"number"},{name:"total",description:"Total línea",maxLength:15,required:!1,type:"number"}]},NG:{code:"NG",name:"Nature of Goods",description:"Naturaleza de la mercancía",required:!0,maxLength:30,order:12,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"description",description:"Descripción mercancía (máx 20 chars)",maxLength:20,required:!0,type:"string"}]},NH:{code:"NH",name:"Harmonized Code",description:"Códigos arancelarios HTS",required:!1,maxLength:200,order:13,versions:["FWB/16","FWB/17"],fields:[{name:"codes",description:"Códigos HTS separados (múltiples)",maxLength:15,required:!1,type:"string"}]},OTH:{code:"OTH",name:"Other Charges",description:"Otros cargos (AWC, AWA, MY)",required:!1,maxLength:150,order:14,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"prepaidOrCollect",description:"P=Prepaid, C=Collect",maxLength:1,required:!0,type:"code",allowedValues:["P","C"]},{name:"chargeCode",description:"Código cargo (AWC, AWA, MY)",maxLength:3,required:!0,type:"code"},{name:"amount",description:"Monto",maxLength:15,required:!0,type:"number"}]},PPD:{code:"PPD",name:"Prepaid Charges",description:"Resumen de cargos prepagados",required:!1,maxLength:100,order:15,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"weightCharge",description:"Cargo por peso",maxLength:15,required:!1,type:"number"},{name:"dueAgent",description:"Due Agent",maxLength:15,required:!1,type:"number"},{name:"dueCarrier",description:"Due Carrier",maxLength:15,required:!1,type:"number"},{name:"total",description:"Total",maxLength:15,required:!0,type:"number"}]},COL:{code:"COL",name:"Collect Charges",description:"Resumen de cargos por cobrar",required:!1,maxLength:100,order:16,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"weightCharge",description:"Cargo por peso",maxLength:15,required:!1,type:"number"},{name:"dueAgent",description:"Due Agent",maxLength:15,required:!1,type:"number"},{name:"dueCarrier",description:"Due Carrier",maxLength:15,required:!1,type:"number"},{name:"total",description:"Total",maxLength:15,required:!0,type:"number"}]},CER:{code:"CER",name:"Certification",description:"Certificación del embarcador",required:!1,maxLength:30,order:17,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"signature",description:"Firma (máx 20 chars)",maxLength:20,required:!1,type:"string"}]},ISU:{code:"ISU",name:"Issue",description:"Ejecución del transportista (fecha, lugar, firma)",required:!0,maxLength:60,order:18,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"date",description:"Fecha (DDMMMYY)",maxLength:7,required:!0,type:"date"},{name:"place",description:"Lugar",maxLength:17,required:!0,type:"string"},{name:"signature",description:"Firma (máx 20 chars)",maxLength:20,required:!1,type:"string"}]},REF:{code:"REF",name:"Reference",description:"Referencia del remitente (agente)",required:!0,maxLength:50,order:19,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"agentRef",description:"Referencia AGT/IATA/CASS/ORIGEN",maxLength:30,required:!0,type:"string"}]},SPH:{code:"SPH",name:"Special Handling",description:"Códigos de manejo especial (EAP, PER, etc.)",required:!0,maxLength:50,order:20,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"codes",description:"Códigos SPH separados por /",maxLength:40,required:!0,type:"string"}]},OCI:{code:"OCI",name:"Other Customs Information",description:"Información aduanera/seguridad (EORI, TIN)",required:!1,maxLength:200,order:21,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"countryCode",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"party",description:"Parte (CNE, SHP, AGT)",maxLength:3,required:!0,type:"code",allowedValues:["CNE","SHP","AGT"]},{name:"type",description:"Tipo (T=TIN, RA=RegAgent)",maxLength:2,required:!0,type:"code"},{name:"value",description:"Valor (NIT, EORI, etc.)",maxLength:35,required:!0,type:"string"}]},NFY:{code:"NFY",name:"Notify",description:"Información de notificación (también notify party)",required:!1,maxLength:200,order:22,versions:["FWB/16","FWB/17"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!1,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!1,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!1,type:"string"},{name:"country",description:"País (2 chars ISO)",maxLength:2,required:!1,type:"code"},{name:"phone",description:"Teléfono",maxLength:25,required:!1,type:"string"}]},FTR:{code:"FTR",name:"Footer",description:"Pie del mensaje (UNT/UNZ)",required:!0,maxLength:100,order:23,versions:["FWB/9","FWB/16","FWB/17"],fields:[]}},se={FHL:{code:"FHL",name:"Message Header",description:"Cabecera del mensaje FHL con versión (incluye UNB/UNH en Caso 7)",required:!0,maxLength:200,order:1,versions:["FHL/2","FHL/4"],fields:[{name:"version",description:"Versión del mensaje",maxLength:7,required:!0,type:"string"}]},MBI:{code:"MBI",name:"Master Bill Information",description:"Información del Master AWB",required:!0,maxLength:60,order:2,versions:["FHL/2","FHL/4"],fields:[{name:"awbNumber",description:"Número AWB master",maxLength:11,required:!0,type:"string"},{name:"origin",description:"Origen",maxLength:3,required:!0,type:"code"},{name:"destination",description:"Destino",maxLength:3,required:!0,type:"code"},{name:"totalPieces",description:"Piezas totales master",maxLength:5,required:!0,type:"number"},{name:"totalWeight",description:"Peso total master",maxLength:10,required:!0,type:"number"}]},HBS:{code:"HBS",name:"House Bill Summary",description:"Resumen de guía hija (HAWB)",required:!0,maxLength:80,order:3,versions:["FHL/2","FHL/4"],fields:[{name:"hawbNumber",description:"Número HAWB",maxLength:20,required:!0,type:"string"},{name:"origin",description:"Origen",maxLength:3,required:!0,type:"code"},{name:"destination",description:"Destino",maxLength:3,required:!0,type:"code"},{name:"pieces",description:"Piezas",maxLength:5,required:!0,type:"number"},{name:"weight",description:"Peso",maxLength:10,required:!0,type:"number"},{name:"natureOfGoods",description:"Descripción (máx 11 chars)",maxLength:11,required:!0,type:"string"}]},HTS:{code:"HTS",name:"Harmonized Tariff Schedule",description:"Código arancelario para la house",required:!1,maxLength:20,order:4,versions:["FHL/4"],fields:[{name:"code",description:"Código HTS",maxLength:15,required:!1,type:"string"}]},OCI:{code:"OCI",name:"Other Customs Information",description:"Información aduanera para la house",required:!1,maxLength:100,order:5,versions:["FHL/2","FHL/4"],fields:[{name:"countryCode",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"party",description:"Parte (CNE, SHP)",maxLength:3,required:!0,type:"code"},{name:"type",description:"Tipo (T=TIN)",maxLength:2,required:!0,type:"code"},{name:"value",description:"Valor (NIT, EORI)",maxLength:35,required:!0,type:"string"}]},SHP:{code:"SHP",name:"Shipper (House)",description:"Exportador de la guía hija",required:!0,maxLength:150,order:6,versions:["FHL/2","FHL/4"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"country",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal",maxLength:9,required:!1,type:"string"}]},CNE:{code:"CNE",name:"Consignee (House)",description:"Importador de la guía hija",required:!0,maxLength:150,order:7,versions:["FHL/2","FHL/4"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"state",description:"Estado (solo USA)",maxLength:2,required:!1,type:"code"},{name:"country",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal",maxLength:9,required:!0,type:"string"}]},CVD:{code:"CVD",name:"Charge Declarations (House)",description:"Declaraciones de cargos para la house",required:!0,maxLength:50,order:8,versions:["FHL/2","FHL/4"],fields:[{name:"currency",description:"Moneda",maxLength:3,required:!0,type:"code"},{name:"wtOt",description:"PP/CC",maxLength:2,required:!0,type:"code"},{name:"declaredCarriage",description:"NVD",maxLength:10,required:!0,type:"string"},{name:"declaredCustoms",description:"NCV",maxLength:10,required:!0,type:"string"},{name:"declaredInsurance",description:"XXX",maxLength:10,required:!0,type:"string"}]},TXT:{code:"TXT",name:"Free Text",description:"Texto libre adicional",required:!1,maxLength:100,order:9,versions:["FHL/4"],fields:[{name:"text",description:"Texto libre",maxLength:70,required:!1,type:"string"}]},FTR:{code:"FTR",name:"Footer",description:"Pie del mensaje",required:!0,maxLength:100,order:10,versions:["FHL/2","FHL/4"],fields:[]}},ja={recipientAddress:"DSGUNXA",senderPrefix:"DSGTPXA",originAddress:"TDVAGT03OPERFLOR/BOG1",defaultOrigin:"BOG",defaultPriority:"QK",functionCode:"FF",includeTimestamp:!0},Pe={"075":{awbPrefix:"075",name:"Iberia",policy:20,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","SSR","ACC","OTH","CER","NFY"],defaultSphCodes:["ECC","EAP","PER"],ociFormat:"withPrefix",includeUnbUnz:!0},145:{awbPrefix:"145",name:"LATAM",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0},"074":{awbPrefix:"074",name:"KLM",policy:24,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"KLM requiere todos los segmentos incluyendo OTH"},157:{awbPrefix:"157",name:"Qatar Airways",policy:23,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0},369:{awbPrefix:"369",name:"Atlas Air / Ethiopian",policy:22,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI"],disabledSegments:["FTR","OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!1,notes:"Atlas/Ethiopian: sin header UNB/UNH ni footer UNT/UNZ, pero SÍ incluye línea FWB/16"},176:{awbPrefix:"176",name:"Emirates",policy:41,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,useAgencyNameForCER:!0,notes:"Emirates: CER usa nombre de agencia"},235:{awbPrefix:"235",name:"Turkish Airlines",policy:41,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,requiresHTS:!0,notes:"Turkish: requiere código HTS"},992:{awbPrefix:"992",name:"DHL Aviation (992)",policy:71,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,fhlAlwaysWithHeader:!0,notes:"DHL Aviation: Caso 7 - FHL siempre incluye header/footer EDIFACT"},999:{awbPrefix:"999",name:"Polar Air Cargo (DHL)",policy:71,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,fhlAlwaysWithHeader:!0,notes:"Polar Air (DHL): Caso 7"},985:{awbPrefix:"985",name:"LATAM Cargo",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,useConsolidatedNG:!0,notes:"LATAM Cargo: NG especial para consolidados"},"045":{awbPrefix:"045",name:"Avianca Cargo",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0},155:{awbPrefix:"155",name:"ABX Air",policy:71,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,fhlAlwaysWithHeader:!0,notes:"ABX Air Caso 7: FHL siempre incluye header/footer EDIFACT"},"057":{awbPrefix:"057",name:"Air France",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"Air France: destino UE, requiere EORI en OCI"},"020":{awbPrefix:"020",name:"Lufthansa",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"Lufthansa: destino UE, requiere EORI en OCI"},205:{awbPrefix:"205",name:"Emirates",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"Emirates: prefijo AWB 205 (176 es código IATA numérico alternativo)"},DEFAULT:{awbPrefix:"DEFAULT",name:"Default (todas las demás)",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0}},Ya=Object.keys(se),Xa=new Set;function ra(){return{cargoImp:{policyOverrides:{},fwbVersion:void 0,fhlVersion:void 0,includeUnbUnz:void 0,useTypeBHeader:!0,typeBPriority:"QK"},traxon:{apiEndpoint:void 0,senderId:void 0,settings:{}},descartes:{apiEndpoint:void 0,senderId:void 0,settings:{}}}}let ee=ra();function Ka(){ee=ra(),pt()}function pt(){Xa.forEach(t=>t(ee))}function ar(t){const r=Pe[t]||Pe.DEFAULT,a=ee.cargoImp.policyOverrides[t]||{},n=a.enabledFhlSegments||r.enabledFhlSegments||Ya,o=a.disabledFhlSegments||r.disabledFhlSegments||[];return{...r,...a,enabledSegments:a.enabledSegments||r.enabledSegments||[],disabledSegments:a.disabledSegments||r.disabledSegments||[],enabledFhlSegments:n,disabledFhlSegments:o,fwbVersion:a.fwbVersion||ee.cargoImp.fwbVersion||r.fwbVersion,fhlVersion:a.fhlVersion||ee.cargoImp.fhlVersion||r.fhlVersion,includeUnbUnz:a.includeUnbUnz??ee.cargoImp.includeUnbUnz??r.includeUnbUnz,useTypeBHeader:a.useTypeBHeader??ee.cargoImp.useTypeBHeader??r.useTypeBHeader??!0,typeBPriority:a.typeBPriority||ee.cargoImp.typeBPriority||r.typeBPriority||"QK"}}function Za(t,r,a){const n=ar(t),o=ee.cargoImp.policyOverrides[t]||{};let s=[...o.enabledSegments||n.enabledSegments||[]],l=[...o.disabledSegments||n.disabledSegments||[]];a?(s.includes(r)||s.push(r),l=l.filter(c=>c!==r)):(l.includes(r)||l.push(r),s=s.filter(c=>c!==r)),ee.cargoImp.policyOverrides[t]={...o,enabledSegments:s,disabledSegments:l},pt()}function Qa(t,r,a){const n=ar(t),o=ee.cargoImp.policyOverrides[t]||{};let s=[...o.enabledFhlSegments||n.enabledFhlSegments||[]],l=[...o.disabledFhlSegments||n.disabledFhlSegments||[]];a?(s.includes(r)||s.push(r),l=l.filter(c=>c!==r)):(l.includes(r)||l.push(r),s=s.filter(c=>c!==r)),ee.cargoImp.policyOverrides[t]={...o,enabledFhlSegments:s,disabledFhlSegments:l},pt()}function Ja(t){ee.cargoImp.useTypeBHeader=t,pt()}function aa(){return ee.cargoImp.useTypeBHeader??!0}function Ot(){const t=ee.cargoImp.typeBConfig;return{...ja,...t}}function eo(t){ee.cargoImp.typeBConfig={...ee.cargoImp.typeBConfig,...t},pt()}function $(t,r=0,a=!1,n=!0){if(!t)return"";const o=a?" ":"";return t=t.replace(/,/g,"."),t=t.replace(/Ü/g,"U").replace(/ü/g,"u"),t=t.replace(/-/g,o),t=t.replace(/\//g,o),t=t.replace(/#/g,o),t=t.replace(/'/g,o),t=t.replace(/\?/g,o),t=t.replace(/ñ/g,o).replace(/Ñ/g,o),t=t.replace(/\*/g,o),t=t.replace(/&/g,o),t=t.replace(/°/g,o),t=t.replace(/:/g,o),t=t.replace(/\n/g,o).replace(/\r/g,o),t=t.replace(/\+/g,o),t=t.replace(/"/g," ").replace(/"/g," ").replace(/"/g," "),t=t.replace(/`/g," ").replace(/´/g," "),t=t.replace(/_/g,o),t=t.replace(/@/g,o),n&&(t=t.replace(/\./g,o)),r>0&&t.length>r&&(t=t.substring(0,r)),t=t.trim(),t=t.replace(/\s+/g," "),t.toUpperCase()}function to(t){return t.replace(/:/g," ").replace(/\$/g," ").replace(/=/g," ").replace(/»/g," ")}function ut(t,r=!1){let a=t.replace(/\(/g,"").replace(/\)/g,"").replace(/,/g,"").replace(/&/g,"").replace(/Ñ/g,"N").replace(/ñ/g,"n");return r&&(a=a.replace(/\?/g,"")),a}function ro(t,r=["CM","SK","LG"]){let a=t.toUpperCase().trim();for(const n of r)if(a.startsWith(n)){a="0"+a;break}return a}function oe(t,r=1){const a=typeof t=="string"?parseFloat(t):t;return isNaN(a)?"0.0":a.toFixed(r)}function ao(t){const r=t?new Date(t):new Date,a=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],n=r.getDate().toString().padStart(2,"0"),o=a[r.getMonth()],s=r.getFullYear().toString().slice(-2);return`${n}${o}${s}`}function oa(){const t=new Date,r=t.getFullYear().toString().slice(-2),a=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0");return`${r}${a}${n}:${o}${s}`}function or(){const t=mt();return t.controlNumber&&t.controlNumber.trim()?t.controlNumber.trim():Date.now().toString().slice(-14)}function gt(t){return t.replace(/-/g,"").replace(/\s/g,"")}function na(t){const r=t.replace(/\s/g,"").replace(/-/g,"");return r.length>=11?r.substring(0,3)+"-"+r.substring(3):r}function oo(t){return t.replace(/-/g,"").replace(/\s/g,"").toUpperCase()}function xe(t){return gt(t).substring(0,3)}function De(t){return{LON:"LHR",RNG:"MDE"}[t.toUpperCase()]||t.toUpperCase()}const _e={senderIds:{EC:{senderId:"REUAGT89ECRGML/UIO01:PIMA",senderIdDescartes:"TDVAGT03DSV/BOG01:PIMA"},CO:{senderId:"REUAGT89COCRGMASTER/BOG01:PIMA",senderIdDescartes:"TDVAGT03DSV/BOG01:PIMA"}},defaultPostalCodes:{EC:"00000",CO:"110111",DEFAULT:"10"},chinaPostalCode:"170452",controlNumber:"96728316614806",senderId:"REUAGT89COCRGMASTER/BOG01:PIMA",defaultSignature:"CARGOOP"};function mt(){if(typeof localStorage>"u")return _e;try{const t=localStorage.getItem("traxon_connector_config");if(t){const a=JSON.parse(t);if(a.cargoImp)return{..._e,controlNumber:a.cargoImp.controlNumber||_e.controlNumber,senderId:a.cargoImp.senderId||_e.senderId,defaultSignature:a.cargoImp.defaultSignature||_e.defaultSignature}}const r=localStorage.getItem("cargoimp_global_config");if(r)return{..._e,...JSON.parse(r)}}catch(t){console.warn("Error loading CARGO-IMP global config:",t)}return{..._e}}function He(t,r,a){if(t&&t.trim())return t.trim().substring(0,9);if(a&&a.trim())return a.trim().substring(0,9);const o=mt().defaultPostalCodes;return r==="EC"?o.EC||"00000":r==="CO"?o.CO||"110111":o.DEFAULT||"10"}function ia(){return mt().chinaPostalCode||"170452"}function sa(){return mt().senderId||_e.senderId}function Lt(){return mt().defaultSignature||"CARGOOP"}class no{constructor(){this.config=Xe()}getAirlinePolicy(r){return ar(r)}reloadConfig(){this.config=Xe()}getPolicyInfo(r){var s;const a=(s=this.config.cargoImp)==null?void 0:s.airlinePolicies,n=[];if(a&&a[r])return{policy:this.getAirlinePolicy(r),source:"custom",airlineName:`Aerolínea ${r} (Configuración personalizada)`,isDefault:!1,warnings:n};if(Pe[r])return{policy:this.getAirlinePolicy(r),source:"configured",airlineName:Pe[r].name,isDefault:!1,warnings:n};const o=this.getAirlinePolicy(r);return n.push(`⚠️ Aerolínea ${r} no tiene política específica configurada. Se usará la política DEFAULT.`),n.push("💡 Puedes agregar una política personalizada en Configuración → CARGO-IMP."),{policy:o,source:"default",airlineName:`Aerolínea ${r} (usando DEFAULT)`,isDefault:!0,warnings:n}}generateFWB(r,a){const n=xe(r.awbNumber),o=this.getAirlinePolicy(n),s=a||o.fwbVersion,l=this.buildFwbSegments(r,o,s),c=this.assembleMessage(l,o),d=[];return l.forEach(u=>{u.errors.length>0&&d.push(...u.errors.map(i=>`${u.code}: ${i}`))}),{type:"FWB",version:s,awbNumber:r.awbNumber,segments:l,fullMessage:c,isValid:d.length===0,errors:d,policy:o,timestamp:new Date().toISOString()}}generateFHL(r,a,n){const o=xe(r.awbNumber),s=this.getAirlinePolicy(o),l=n||s.fhlVersion,c=this.buildFhlSegments(r,a,s,l),d=this.assembleFhlMessage(c),u=[];return c.forEach(i=>{i.errors.length>0&&u.push(...i.errors.map(p=>`${i.code}: ${p}`))}),{type:"FHL",version:l,awbNumber:r.awbNumber,hawbNumber:a.hawbNumber,segments:c,fullMessage:d,isValid:u.length===0,errors:u,policy:s,timestamp:new Date().toISOString()}}generateConcatenatedFHL(r,a){if(!r.houseBills||r.houseBills.length===0)return"";const n=xe(r.awbNumber),o=this.getAirlinePolicy(n),s=a||o.fhlVersion,l=[];return r.houseBills.forEach((c,d)=>{const u=this.generateFHL(r,c,s),i=ut(u.fullMessage,!0);l.push(i)}),l.join(`&
`)}generateFHLCase7(r,a,n){const o=xe(r.awbNumber),s=this.getAirlinePolicy(o),l=n||s.fhlVersion,c={...s,includeUnbUnz:!0,fhlAlwaysWithHeader:!0},d=this.buildFhlSegments(r,a,c,l,!0);let u=this.assembleFhlMessage(d);u=ut(u,!1);const i=[];return d.forEach(p=>{p.errors.length>0&&i.push(...p.errors.map(b=>`${p.code}: ${b}`))}),{type:"FHL",version:l,awbNumber:r.awbNumber,hawbNumber:a.hawbNumber,segments:d,fullMessage:u,isValid:i.length===0,errors:i,policy:c,timestamp:new Date().toISOString()}}generateAllFHLCase8(r,a){if(!r.houseBills||r.houseBills.length===0)return"";const n=xe(r.awbNumber),o=this.getAirlinePolicy(n),s=a||o.fhlVersion;let l=s+`
`;return r.houseBills.forEach((c,d)=>{const u=d===0,i=this.buildFhlSegmentsCase8(r,c,o,s,u),p=this.assembleFhlMessageWithoutHeader(i),b=ut(p,!0);l+=b}),l}generateMessageBundle(r){const a=xe(r.awbNumber),n=this.getAirlinePolicy(a),o=Math.floor(n.policy/10),s=n.policy%10,l=this.generateFWB(r);l.fullMessage=to(l.fullMessage);const c=[];let d;if(r.houseBills&&r.houseBills.length>0)switch(o){case 2:case 4:r.houseBills.forEach(u=>{const i=this.generateFHL(r,u);i.fullMessage=ut(i.fullMessage,!1),c.push(i)});break;case 5:d=this.generateConcatenatedFHL(r);break;case 7:r.houseBills.forEach(u=>{const i=this.generateFHLCase7(r,u);c.push(i)});break;case 8:d=this.generateAllFHLCase8(r);break;default:r.houseBills.forEach(u=>{const i=this.generateFHL(r,u);i.fullMessage=ut(i.fullMessage,!1),c.push(i)})}return{fwb:l,fhls:c,concatenatedFhl:d,policyCase:o,policyOption:s}}buildFwbSegments(r,a,n){const o=[],s=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","NFY","FTR"],l=a.enabledSegments||[],c=a.disabledSegments||[];return s.forEach((d,u)=>{Ne[d];const i=l.length>0?l.includes(d)&&!c.includes(d):!c.includes(d),p=this.buildFwbSegment(d,r,a,n,i,u+1);o.push(p)}),o.sort((d,u)=>d.order-u.order)}buildFwbSegment(r,a,n,o,s,l){var m,x,C,A,_,f,O,k,T,R,L,j;const c=Ne[r];let d="",u=[];const i=[],p=[];switch(r){case"FWB":d=this.buildFwbHeader(a,n,o),u=[{name:"version",value:o,originalValue:o,maxLength:7,required:!0,modified:!1}];break;case"AWB":d=this.buildAwbSegment(a),u=[{name:"awbNumber",value:gt(a.awbNumber),originalValue:gt(a.awbNumber),maxLength:11,required:!0,modified:!1},{name:"origin",value:a.origin,originalValue:a.origin,maxLength:3,required:!0,modified:!1},{name:"destination",value:De(a.destination),originalValue:De(a.destination),maxLength:3,required:!0,modified:!1},{name:"pieces",value:a.pieces.toString(),originalValue:a.pieces.toString(),maxLength:5,required:!0,modified:!1},{name:"weight",value:oe(a.weight),originalValue:oe(a.weight),maxLength:10,required:!0,modified:!1}];break;case"FLT":d=this.buildFltSegment(a),a.flights&&a.flights.length>0&&(u=a.flights.slice(0,2).map((ce,me)=>({name:`flight${me+1}`,value:ce.flightNumber,originalValue:ce.flightNumber,maxLength:10,required:!1,modified:!1})));break;case"RTG":d=this.buildRtgSegment(a),u=[{name:"routing",value:d,originalValue:d,maxLength:100,required:!0,modified:!1}];break;case"SHP":const V=(x=(m=a.agent)==null?void 0:m.address)==null?void 0:x.postalCode;d=this.buildShpSegment(a.shipper,((A=(C=a.consignee)==null?void 0:C.address)==null?void 0:A.countryCode)||"",a.awbNumber,o,V),u=[{name:"name",value:$(a.shipper.name,35,!0),originalValue:$(a.shipper.name,35,!0),maxLength:35,required:!0,modified:!1},{name:"address",value:$(a.shipper.address.street,35,!0),originalValue:$(a.shipper.address.street,35,!0),maxLength:35,required:!0,modified:!1},{name:"city",value:a.shipper.address.place,originalValue:a.shipper.address.place,maxLength:17,required:!0,modified:!1},{name:"country",value:a.shipper.address.countryCode,originalValue:a.shipper.address.countryCode,maxLength:2,required:!0,modified:!1},{name:"postalCode",value:He(a.shipper.address.postalCode,a.shipper.address.countryCode,V),originalValue:He(a.shipper.address.postalCode,a.shipper.address.countryCode,V),maxLength:9,required:!1,modified:!1}];break;case"CNE":const S=(f=(_=a.agent)==null?void 0:_.address)==null?void 0:f.postalCode;d=this.buildCneSegment(a.consignee,o,S),u=[{name:"name",value:$(a.consignee.name,35,!0),originalValue:$(a.consignee.name,35,!0),maxLength:35,required:!0,modified:!1},{name:"address",value:$(a.consignee.address.street,35,!0),originalValue:$(a.consignee.address.street,35,!0),maxLength:35,required:!0,modified:!1},{name:"city",value:a.consignee.address.place,originalValue:a.consignee.address.place,maxLength:17,required:!0,modified:!1},{name:"country",value:a.consignee.address.countryCode,originalValue:a.consignee.address.countryCode,maxLength:2,required:!0,modified:!1},{name:"postalCode",value:He(a.consignee.address.postalCode,a.consignee.address.countryCode,S),originalValue:He(a.consignee.address.postalCode,a.consignee.address.countryCode,S),maxLength:9,required:!0,modified:!1}];break;case"AGT":d=this.buildAgtSegment(a),u=[{name:"iataCode",value:a.agent.iataCode,originalValue:a.agent.iataCode,maxLength:7,required:!0,modified:!1},{name:"cassCode",value:a.agent.cassCode||"",originalValue:a.agent.cassCode||"",maxLength:4,required:!1,modified:!1},{name:"name",value:a.agent.name,originalValue:a.agent.name,maxLength:35,required:!0,modified:!1}];break;case"SSR":d=this.buildSsrSegment(a),u=[{name:"ssr",value:a.specialServiceRequest||"",originalValue:a.specialServiceRequest||"",maxLength:65,required:!1,modified:!1}];break;case"ACC":d=this.buildAccSegment(a),a.accounting&&a.accounting.length>0&&(u=a.accounting.map((ce,me)=>({name:`acc${me+1}`,value:ce.accountingInformation||"",originalValue:ce.accountingInformation||"",maxLength:34,required:!1,modified:!1})));break;case"CVD":d=this.buildCvdSegment(a);const Y=this.calculateWtOt(a);u=[{name:"currency",value:a.currency,originalValue:a.currency,maxLength:3,required:!0,modified:!1},{name:"wtOt",value:Y,originalValue:Y,maxLength:2,required:!0,modified:!1},{name:"declaredCarriage",value:a.declaredValueCarriage||"NVD",originalValue:a.declaredValueCarriage||"NVD",maxLength:15,required:!0,modified:!1},{name:"declaredCustoms",value:a.declaredValueCustoms||"NCV",originalValue:a.declaredValueCustoms||"NCV",maxLength:15,required:!0,modified:!1}];break;case"RTD":d=this.buildRtdSegment(a,n);break;case"NG":d=this.buildNgSegment(a,n);const te=this.getNatureOfGoods(a,n);u=[{name:"description",value:te,originalValue:te,maxLength:20,required:!0,modified:!1}];break;case"NH":d=this.buildNhSegment(a);break;case"OTH":d=this.buildOthSegment(a);break;case"PPD":d=a.paymentMethod==="Prepaid"?this.buildChargeSummary(a,"PPD"):"";break;case"COL":d=a.paymentMethod==="Collect"?this.buildChargeSummary(a,"COL"):"";break;case"CER":d=this.buildCerSegment(a,n);break;case"ISU":d=this.buildIsuSegment(a,n);break;case"REF":d=this.buildRefSegment(a);break;case"SPH":d=this.buildSphSegment(a,n);const ge=this.getSphCodes(a,n);u=[{name:"codes",value:ge.join("/"),originalValue:ge.join("/"),maxLength:40,required:!0,modified:!1}];break;case"OCI":d=this.buildOciSegment(a,n);break;case"NFY":d=this.buildNfySegment(a),a.alsoNotify&&(u=[{name:"name",value:a.alsoNotify.name||"",originalValue:a.alsoNotify.name||"",maxLength:35,required:!1,modified:!1},{name:"address",value:((O=a.alsoNotify.address)==null?void 0:O.street)||"",originalValue:((k=a.alsoNotify.address)==null?void 0:k.street)||"",maxLength:35,required:!1,modified:!1},{name:"city",value:((T=a.alsoNotify.address)==null?void 0:T.place)||"",originalValue:((R=a.alsoNotify.address)==null?void 0:R.place)||"",maxLength:17,required:!1,modified:!1},{name:"country",value:((L=a.alsoNotify.address)==null?void 0:L.countryCode)||"",originalValue:((j=a.alsoNotify.address)==null?void 0:j.countryCode)||"",maxLength:2,required:!1,modified:!1}]);break;case"FTR":d=this.buildFwbFooter(n);break}const b=d.length>c.maxLength?d:void 0;return d.length>c.maxLength&&i.push(`Excede límite: ${d.length}/${c.maxLength} caracteres (${d.length-c.maxLength} de más)`),{type:r,code:r,name:c.name,content:d,originalContent:b,order:l,enabled:s,editable:!["FWB","FTR","AWB"].includes(r),currentLength:d.length,maxLength:c.maxLength,errors:i,warnings:p,fields:u}}buildTypeBHeader(r,a,n){const o=this.getTypeBConfig(),s=a.typeBPriority||o.defaultPriority,l=o.recipientAddress||"DSGUNXA",c=o.senderPrefix||"DSGTPXA",d=o.originAddress||"TDVAGT03OPERFLOR/BOG1",u=o.includeTimestamp??!0;let i=`.${c}`;if(u){const p=new Date,b=String(p.getUTCDate()).padStart(2,"0")+String(p.getUTCHours()).padStart(2,"0")+String(p.getUTCMinutes()).padStart(2,"0");i+=` ${b}`}return i+=` ${d}`,`${s} ${l}
${i}
${n}`}getCarrierCodeForTypeB(r){if(r.flights&&r.flights.length>0&&r.flights[0].carrierCode)return r.flights[0].carrierCode.toUpperCase().substring(0,2);const a=xe(r.awbNumber);return{729:"AV",134:"AV",743:"QT",270:"LA",145:"LA",985:"LA",105:"CM",230:"P5","044":"AD",957:"G3",999:"C$",695:"CX",406:"5Y","023":"5X",580:"UX","001":"AA","006":"DL","016":"UA","014":"AC",992:"AA","057":"AF","074":"KL","075":"IB","045":"IB",220:"LH","020":"LH",235:"TK",125:"BA",932:"VS",555:"SU",176:"EK",157:"QR",607:"EY","071":"ET",131:"JL",180:"KE",160:"CA",618:"SQ"}[a]||"XX"}getTypeBConfig(){return Ot()}buildFwbHeader(r,a,n){var d;if(a.useTypeBHeader)return this.buildTypeBHeader(r,a,n);if(!a.includeUnbUnz)return n;const o=sa(),s=or(),l=((d=r.routing)==null?void 0:d.recipientAddress)||a.airlineAddress||"AIRLINE_ADDRESS",c=n.replace("FWB/","");return`UNB+IATA:1+${o}+${l}:PIMA+${oa()}+${s}+0++L'UNH+${s}+CIMFWB:${c}'${n}`}buildAwbSegment(r){const a=na(r.awbNumber),n=r.origin.toUpperCase(),o=De(r.destination);return`${a}${n}${o}/T${r.pieces}K${oe(r.weight)}`}buildFltSegment(r){if(!r.flights||r.flights.length===0)return"";const a=["FLT"];return r.flights.slice(0,2).forEach(n=>{const o=n.date?new Date(n.date).getDate().toString().padStart(2,"0"):"";a.push(`/${n.flightNumber}/${o}`)}),a.join("")}buildRtgSegment(r){const a=["RTG"];return r.flights&&r.flights.length>0?r.flights.forEach(n=>{const o=De(n.destination);a.push(`/${o}${n.carrierCode}`)}):a.push(`/${r.origin}XX/${De(r.destination)}XX`),a.join("")}buildShpSegment(r,a,n,o,s){var m;const l=$(r.name,35,!0),c=$(r.address.street,35,!0),d=r.address.place.toUpperCase(),u=r.address.countryCode.toUpperCase();let i=He(r.address.postalCode,u,s);const p=xe(n);u==="EC"&&(a==="CN"||p==="992"||p==="176")&&(i=ia());let b="";return o==="FWB/17"?b=`SHP
NAM/${l}
ADR/${c}
LOC/${d}
/${u}/${i}`:b=`SHP
/${l}
/${c}
/${d}
/${u}/${i}`,(m=r.contact)!=null&&m.number&&(b+=`/TE/${r.contact.number.replace(/\s/g,"")}`),b}buildCneSegment(r,a,n){var b,m;const o=$(r.name,35,!0),s=$(r.address.street,35,!0),l=r.address.place.toUpperCase(),c=r.address.countryCode.toUpperCase(),d=((b=r.address.state)==null?void 0:b.toUpperCase())||"",u=He(r.address.postalCode,c,n);let i=l;c==="US"&&d&&(i=`${l}/${d}`);let p=`CNE
/${o}
/${s}
/${i}
/${c}/${u}`;return(m=r.contact)!=null&&m.number&&(p+=`/TE/${r.contact.number.replace(/\s/g,"")}`),p}buildAgtSegment(r){const a=r.agent.iataCode,n=r.agent.cassCode||"",o=$(r.agent.name,35,!0),s=r.agent.place.toUpperCase();return`AGT//${a}/${n}
/${o}
/${s}`}buildSsrSegment(r){if(!r.specialServiceRequest)return"";const a=$(r.specialServiceRequest,195,!0).split(`
`).filter(n=>n.trim()).slice(0,3);return a.length===0?"":"SSR/"+a.map(n=>$(n,65,!1,!1)).join(`
/`)}buildCvdSegment(r){const a=r.currency,n=this.calculateWtOt(r),o=r.declaredValueCarriage||"NVD",s=r.declaredValueCustoms||"NCV";return`CVD/${a}//${n}/${o}/${s}/XXX`}calculateWtOt(r){const a=r.paymentMethod==="Prepaid";let n=!1,o=!1;return r.otherCharges&&r.otherCharges.length>0&&r.otherCharges.forEach(s=>{s.paymentMethod==="Collect"&&(n=!0),s.paymentMethod==="Prepaid"&&(o=!0)}),a?n&&!o?"PC":"PP":o&&!n?"CP":"CC"}buildRtdSegment(r,a){const n=[],o=a.policy%10;return r.rates.forEach((s,l)=>{let c=`RTD/${l+1}/P${s.pieces}`;if(c+=`/K${oe(s.weight)}`,c+=`/C${this.mapRateClass(s.rateClassCode)}`,s.commodityCode&&/^\d+$/.test(s.commodityCode)&&(c+=`/S${s.commodityCode.padStart(4,"0").substring(0,4)}`),s.chargeableWeight&&(c+=`/W${oe(s.chargeableWeight)}`),o>=1){const d=s.rateOrCharge?oe(s.rateOrCharge,2):"0.0",u=s.total?oe(s.total,2):"0.0";c+=`/R${d}/T${u}`}n.push(c)}),n.join(`
`)}mapRateClass(r){const a={QUANTITY_RATE:"Q",NORMAL_RATE:"N",MINIMUM_CHARGE:"M",SPECIFIC_COMMODITY_RATE:"C",BASIC_CHARGE:"B"};return r.length===1?r:a[r]||"Q"}buildNgSegment(r,a){const n=xe(r.awbNumber);if(n==="985"||n==="145"){const s=r.rates[0],l=(s==null?void 0:s.commodityCode)||"";return r.hasHouses&&(l==="0609"||l==="609")?"/NC/CONSOLIDATE FLOWERS":"/NG/CUT FLOWERS"}return`/NG/${this.getNatureOfGoods(r,a)}`}getNatureOfGoods(r,a){return r.goodsDescriptionOverride?$(r.goodsDescriptionOverride,20,!0):r.description?$(r.description,20,!0):"FRESHPERISH"}buildNhSegment(r){const a=[];return r.rates.forEach(o=>{o.hsCodes?a.push(...o.hsCodes):o.hsCode&&a.push(o.hsCode)}),r.hasHouses&&r.houseBills&&r.houseBills.length>0&&r.houseBills.forEach(o=>{o.htsCodes&&o.htsCodes.length>0&&a.push(...o.htsCodes)}),a.length===0?"":[...new Set(a)].map((o,s)=>`/${s+2}/NH/${o}`).join(`
`)}buildOthSegment(r){if(!r.otherCharges||r.otherCharges.length===0)return"";const a=["OTH"];return r.otherCharges.forEach(n=>{const o=n.paymentMethod==="Prepaid"?"P":"C";a.push(`/${o}/${n.code}${oe(n.amount,2)}`)}),a.join(`
`)}buildChargeSummary(r,a){if(r.chargeSummaryOverride){const d=r.chargeSummaryOverride;let u=`${a}`;return d.totalWeightCharge&&(u+=`/WT${d.totalWeightCharge}`),d.totalOtherChargesDueAgent&&(u+=`
/OA${d.totalOtherChargesDueAgent}`),d.totalOtherChargesDueCarrier&&(u+=`/OC${d.totalOtherChargesDueCarrier}`),u+=`/CT${d.chargeSummaryTotal}`,u}let n=0,o=0,s=0;r.rates.forEach(d=>{n+=d.total||0}),r.otherCharges&&r.otherCharges.forEach(d=>{d.entitlement==="DueAgent"?o+=d.amount:s+=d.amount});const l=n+o+s;let c=`${a}/WT${oe(n,2)}`;return(o>0||s>0)&&(c+=`
/OA${oe(o,2)}/OC${oe(s,2)}`),c+=`/CT${oe(l,2)}`,c}buildCerSegment(r,a){let n;return a.useAgencyNameForCER?n=$(r.agent.name||Lt(),20,!0):n=$(r.signature||Lt(),20,!0),`CER/${n}`}buildIsuSegment(r,a){const n=ao(r.executionDate),o=(r.executionPlace||r.origin).toUpperCase();let s;return a!=null&&a.useAgencyNameForCER?s=$(r.agent.name||Lt(),20,!0):s=$(r.signature||Lt(),20,!0),`ISU/${n}/${o}/${s}`}buildRefSegment(r){const a=r.agent.iataCode,n=r.agent.cassCode||"",o=r.origin.toUpperCase();return`REF///AGT/${a}${n}/${o}`}buildSphSegment(r,a){return`SPH/${this.getSphCodes(r,a).join("/")}`}getSphCodes(r,a){return r.specialHandlingCodes&&r.specialHandlingCodes.length>0?r.specialHandlingCodes:a.defaultSphCodes}buildOciSegment(r,a){const n=r.consignee.address.countryCode.toUpperCase(),o=r.shipper.address.countryCode.toUpperCase(),s=r.consignee.taxId||r.consignee.accountNumber||"";let l="OCI";return o==="EC"?s?l+=`/${n}/CNE/T/${s.replace(/\s/g,"")}`:l+=`/${n}/CNE/T/EORI`:s?l+=`/${n}/CNE/T/EORI${s.replace(/\s/g,"")}`:l+=`/${n}/CNE/T/EORI`,l}buildAccSegment(r){if(!r.accounting||r.accounting.length===0)return"";const a=[];for(const n of r.accounting){let o=n.identifier||"GEN";o={GovernmentBillOfLading:"GBL",CreditCardNumber:"CC",CreditCardExpiryDate:"CCE",CreditCardIssuanceName:"CCN",GeneralInformation:"GEN",ModeOfSettlement:"MOS",ShippersReferenceNumber:"SRN"}[o]||o.substring(0,3).toUpperCase();const l=$(n.accountingInformation||"",34,!0);l&&a.push(`ACC/${o}/${l}`)}return a.join(`
`)}buildNfySegment(r){if(!r.alsoNotify)return"";const a=r.alsoNotify,n=[],o=$(a.name||"",35,!0);if(!o)return"";if(n.push(`NFY/${o}`),a.name2&&n.push(`/${$(a.name2,35,!0)}`),a.address){const s=$(a.address.street||"",35,!0);s&&n.push(`/${s}`),a.address.street2&&n.push(`/${$(a.address.street2,35,!0)}`)}if(a.address){const s=$(a.address.place||"",17,!0),l=a.address.state||"",c=a.address.countryCode||"",d=a.address.postalCode||"";(s||c)&&n.push(`/${s}/${l}/${c}/${d}`)}if(a.contact&&a.contact.number){const s=a.contact.identifier||"TE",l=$(a.contact.number,25,!0);n.push(`/${s}${l}`)}return n.join(`
`)}buildFwbFooter(r){if(r!=null&&r.useTypeBHeader)return"";const a=or();return`'UNT+3+${a}'UNZ+1+${a}'`}getCountryFromAirport(r){return{BOG:"CO",MDE:"CO",CLO:"CO",CTG:"CO",UIO:"EC",GYE:"EC",MIA:"US",JFK:"US",LAX:"US",AMS:"NL",FRA:"DE",MAD:"ES",CDG:"FR",LHR:"GB"}[r.toUpperCase()]||"CO"}isFhlSegmentEnabled(r,a){return a.disabledFhlSegments&&a.disabledFhlSegments.length>0&&a.disabledFhlSegments.includes(r)?!1:a.enabledFhlSegments&&a.enabledFhlSegments.length>0?a.enabledFhlSegments.includes(r):!0}buildFhlSegments(r,a,n,o,s=!1){const l=[],c=s||n.fhlAlwaysWithHeader||n.includeUnbUnz&&n.policy%10<2,d=this.isFhlSegmentEnabled("FHL",n);if(c){const L=this.buildFhlEdifactHeader(r,n,o);l.push(this.createFhlSegment("FHL",L,1,d,[]))}else l.push(this.createFhlSegment("FHL",o,1,d,[]));const u=this.buildMbiSegment(r),i=this.isFhlSegmentEnabled("MBI",n);l.push(this.createFhlSegment("MBI",u,2,i,[{name:"awbNumber",value:gt(r.awbNumber),originalValue:gt(r.awbNumber),maxLength:11,required:!0,modified:!1},{name:"origin",value:r.origin,originalValue:r.origin,maxLength:3,required:!0,modified:!1},{name:"destination",value:r.destination,originalValue:r.destination,maxLength:3,required:!0,modified:!1}]));const p=this.buildHbsSegment(a,r,n),b=this.isFhlSegmentEnabled("HBS",n);l.push(this.createFhlSegment("HBS",p,3,b,[{name:"hawbNumber",value:a.hawbNumber,originalValue:a.hawbNumber,maxLength:20,required:!0,modified:!1},{name:"pieces",value:a.pieces.toString(),originalValue:a.pieces.toString(),maxLength:5,required:!0,modified:!1},{name:"weight",value:oe(a.weight),originalValue:oe(a.weight),maxLength:10,required:!0,modified:!1}]));const m=this.isFhlSegmentEnabled("HTS",n);if(a.htsCodes&&a.htsCodes.length>0){const L=`HTS/${a.htsCodes[0]}`;l.push(this.createFhlSegment("HTS",L,4,m,[]))}else l.push(this.createFhlSegment("HTS","",4,!1,[]));const x=this.buildFhlOciSegment(a,r,n),C=this.isFhlSegmentEnabled("OCI",n)&&!!x;l.push(this.createFhlSegment("OCI",x,5,C,[]));const A=this.buildFhlShpSegment(a,r,n),_=this.isFhlSegmentEnabled("SHP",n);l.push(this.createFhlSegment("SHP",A,6,_,[]));const f=this.buildFhlCneSegment(a,r,n),O=this.isFhlSegmentEnabled("CNE",n);l.push(this.createFhlSegment("CNE",f,7,O,[]));const k=`CVD/${r.currency}/PP/NVD/NCV/XXX`,T=this.isFhlSegmentEnabled("CVD",n);l.push(this.createFhlSegment("CVD",k,8,T,[]));const R=this.isFhlSegmentEnabled("FTR",n)&&!n.useTypeBHeader;return c&&!n.useTypeBHeader?l.push(this.createFhlSegment("FTR",this.buildFwbFooter(n),9,R,[])):l.push(this.createFhlSegment("FTR","",9,!1,[])),l}buildFhlEdifactHeader(r,a,n){var d;if(a.useTypeBHeader)return this.buildTypeBHeaderFhl(r,a,n);const o=sa(),s=or(),l=((d=r.routing)==null?void 0:d.recipientAddress)||a.airlineAddress||"AIRLINE_ADDRESS",c=n.replace("FHL/","");return`UNB+IATA:1+${o}+${l}:PIMA+${oa()}+${s}+0++L'UNH+${s}+CIMFHL:${c}'${n}`}buildTypeBHeaderFhl(r,a,n){const o=this.getTypeBConfig(),s=a.typeBPriority||o.defaultPriority,l=o.recipientAddress||"DSGUNXA",c=o.senderPrefix||"DSGTPXA",d=o.originAddress||"TDVAGT03OPERFLOR/BOG1",u=o.includeTimestamp??!0;let i=`.${c}`;if(u){const p=new Date,b=String(p.getUTCDate()).padStart(2,"0")+String(p.getUTCHours()).padStart(2,"0")+String(p.getUTCMinutes()).padStart(2,"0");i+=` ${b}`}return i+=` ${d}`,`${s} ${l}
${i}
${n}`}buildFhlSegmentsCase8(r,a,n,o,s){const l=[];if(s){const b=this.buildMbiSegment(r);l.push(this.createFhlSegment("MBI",b,1,!0,[]))}const c=this.buildHbsSegment(a,r,n);if(l.push(this.createFhlSegment("HBS",c,2,!0,[])),a.htsCodes&&a.htsCodes.length>0){const b=`HTS/${a.htsCodes[0]}`;l.push(this.createFhlSegment("HTS",b,3,!0,[]))}const d=this.buildFhlOciSegment(a,r,n);d&&l.push(this.createFhlSegment("OCI",d,4,!0,[]));const u=this.buildFhlShpSegment(a,r,n);l.push(this.createFhlSegment("SHP",u,5,!0,[]));const i=this.buildFhlCneSegment(a,r,n);l.push(this.createFhlSegment("CNE",i,6,!0,[]));const p=`CVD/${r.currency}/PP/NVD/NCV/XXX`;return l.push(this.createFhlSegment("CVD",p,7,!0,[])),l}assembleFhlMessageWithoutHeader(r){return r.filter(a=>a.enabled&&a.content).sort((a,n)=>a.order-n.order).map(a=>a.content).join(`
`)+`
`}createFhlSegment(r,a,n,o,s){const l=se[r],c=[],d=a.length>l.maxLength?a:void 0;return a.length>l.maxLength&&c.push(`Excede límite: ${a.length}/${l.maxLength} caracteres (${a.length-l.maxLength} de más)`),{type:r,code:r,name:l.name,content:a,originalContent:d,order:n,enabled:o,editable:!["FHL","FTR","MBI"].includes(r),currentLength:a.length,maxLength:l.maxLength,errors:c,warnings:[],fields:s}}buildMbiSegment(r){const a=na(r.awbNumber),n=r.origin.toUpperCase(),o=De(r.destination);return`MBI/${a}${n}${o}/T${r.pieces}K${oe(r.weight,0)}`}buildHbsSegment(r,a,n){const o=(r.origin||a.origin).toUpperCase(),s=De(r.destination||a.destination),l=$(r.natureOfGoods,11,!1,!1)||"CUTFLOWERS",c=n.hawbPrefixAdd0||["CM","SK","LG"];let d=oo(r.hawbNumber);d=ro(d,c);const u=n.fhlVersion==="FHL/4"?"//":"/";return`HBS/${d}/${o}${s}/${r.pieces}/K${oe(r.weight)}${u}${l}`}buildFhlOciSegment(r,a,n){var d,u,i,p;const o=r.consignee||a.consignee,s=((u=(d=o.address)==null?void 0:d.countryCode)==null?void 0:u.toUpperCase())||"US",l=o.taxId||o.accountNumber||"";return l?(((p=(i=(r.shipper||a.shipper).address)==null?void 0:i.countryCode)==null?void 0:p.toUpperCase())||"CO")==="EC"||n.ociFormat==="withoutPrefix"?`OCI/${s}/CNE/T/${l.replace(/\s/g,"")}`:`OCI/${s}/CNE/T/EORI${l.replace(/\s/g,"")}`:""}buildFhlShpSegment(r,a,n){var b,m,x,C,A,_,f,O;const o=r.shipper||{name:r.shipperName,address:a.shipper.address},s=$(o.name||r.shipperName,35,!0),l=$(((b=o.address)==null?void 0:b.street)||"",35,!0),c=(((m=o.address)==null?void 0:m.place)||"").toUpperCase(),d=(((x=o.address)==null?void 0:x.countryCode)||"CO").toUpperCase(),u=(A=(C=a.agent)==null?void 0:C.address)==null?void 0:A.postalCode;let i=He((_=o.address)==null?void 0:_.postalCode,d,u);if(n.requiresChinaPostalCode&&d==="EC"){const k=((O=(f=(r.consignee||a.consignee).address)==null?void 0:f.countryCode)==null?void 0:O.toUpperCase())||"",T=xe(a.awbNumber);(k==="CN"||T==="992"||T==="176")&&(i=ia())}return`SHP/${s}
/${l}
/${c}
/${d}/${i||""}`}buildFhlCneSegment(r,a,n){var x,C,A,_,f,O,k;const o=r.consignee||{name:r.consigneeName,address:a.consignee.address},s=$(o.name||r.consigneeName,35,!0),l=$(((x=o.address)==null?void 0:x.street)||"",35,!0),c=(((C=o.address)==null?void 0:C.place)||"").toUpperCase(),d=(((A=o.address)==null?void 0:A.countryCode)||"US").toUpperCase(),u=((f=(_=o.address)==null?void 0:_.state)==null?void 0:f.toUpperCase())||"";let i=((O=o.address)==null?void 0:O.postalCode)||"";i.length>9&&(i=i.substring(0,9)),i||(i="10");let p=c;d==="US"&&u&&(p=`${c}/${u}`);let b=`CNE/${s}
/${l}
/${p}
/${d}/${i}`;const m=(k=o.contact)==null?void 0:k.number;return m&&(b+=`/TE/${m.replace(/\s/g,"")}`),b}assembleMessage(r,a){return r.filter(n=>n.enabled&&n.content).sort((n,o)=>n.order-o.order).map(n=>n.content).join(`
`)}assembleFhlMessage(r){return r.filter(a=>a.enabled&&a.content).sort((a,n)=>a.order-n.order).map(a=>a.content).join(`
`)}getAllFwbSegments(){return Ne}getAllFhlSegments(){return se}getAllAirlinePolicies(){return Pe}updateSegment(r,a){return{...r,content:a,currentLength:a.length,errors:a.length>r.maxLength?[`Excede límite de ${r.maxLength} caracteres`]:[]}}regenerateMessage(r,a){return this.assembleMessage(r,a)}}const It=new no;class io{constructor(r){this.credentials=r}updateCredentials(r){this.credentials={...this.credentials,...r}}isConfigured(){return!!(this.credentials.endpoint&&this.credentials.username&&this.credentials.password)}getAuthHeader(){const r=`${this.credentials.username}:${this.credentials.password}`;return`Basic ${btoa(r)}`}parseDescartesXml(r){const a={};try{const o=new DOMParser().parseFromString(r,"text/xml"),s=o.querySelector("parsererror");if(s)return console.warn("Error parseando XML de Descartes:",s.textContent),a;const l=u=>{const i=o.querySelector(u);return(i==null?void 0:i.textContent)||void 0};a.host=l("host"),a.service=l("service"),a.created=l("created"),a.version=l("version"),a.status=l("status"),a.tid=l("tid"),a.error=l("error"),a.errorShort=l("errorShort"),a.errorDetail=l("errorDetail"),a.unhandledException=l("unhandledException");const c=l("bytesReceived");c&&(a.bytesReceived=parseInt(c,10));const d=l("retryAfter");d&&(a.retryAfter=parseInt(d,10))}catch(n){console.error("Error parseando respuesta Descartes:",n)}return a}isSuccessResponse(r){return r.error||r.errorShort||r.errorDetail||r.unhandledException?!1:!!(r.status||r.tid)}async sendMessage(r,a,n){const o=new Date().toISOString();if(!this.isConfigured())return{success:!1,messageType:a,reference:n,error:"Servicio no configurado. Falta endpoint, usuario o contraseña.",timestamp:o};try{const s=await fetch(this.credentials.endpoint,{method:"POST",headers:{"Content-Type":"application/x-CARGO-IMP",Authorization:this.getAuthHeader()},body:r}),l=await s.text(),c=this.parseDescartesXml(l);if(s.ok&&this.isSuccessResponse(c))return{success:!0,messageType:a,reference:n,httpStatus:s.status,responseMessage:c.status||"OK",descartesResponse:c,timestamp:o};{let u="";return c.error?u=c.error:c.errorShort?u=c.errorShort:c.errorDetail?u=c.errorDetail:c.unhandledException?u=`Exception: ${c.unhandledException}`:s.ok?u="Error desconocido en respuesta":u=`HTTP ${s.status}: ${s.statusText}`,{success:!1,messageType:a,reference:n,httpStatus:s.status,responseMessage:l,descartesResponse:c,error:u,timestamp:o}}}catch(s){return{success:!1,messageType:a,reference:n,error:s instanceof Error?s.message:"Error de conexión desconocido",timestamp:o}}}async sendBundle(r,a,n=[],o=[]){const s=[];let l=0,c=0;console.log(`📤 Transmitiendo FWB ${a} a Descartes...`);const d=await this.sendMessage(r,"FWB",a);if(d.success?(l++,console.log(`✅ FWB ${a} transmitido exitosamente`)):(c++,console.error(`❌ Error transmitiendo FWB ${a}:`,d.error)),d.success&&n.length>0)for(let b=0;b<n.length;b++){const m=n[b],x=o[b]||`HAWB-${b+1}`;console.log(`📤 Transmitiendo FHL ${x} (${b+1}/${n.length})...`);const C=await this.sendMessage(m,"FHL",x);s.push(C),C.success?(l++,console.log(`✅ FHL ${x} transmitido exitosamente`)):(c++,console.error(`❌ Error transmitiendo FHL ${x}:`,C.error)),b<n.length-1&&await this.delay(100)}const u=1+n.length,i=c===0;let p;return i?p=`✅ Transmisión exitosa: FWB${n.length>0?` + ${n.length} FHL`:""} enviados a Descartes`:l===0?p="❌ Error en transmisión: No se pudo enviar ningún mensaje":p=`⚠️ Transmisión parcial: ${l}/${u} mensajes enviados (${c} fallidos)`,{allSuccess:i,fwbResult:d,fhlResults:s,summary:p,totalSent:u,totalSuccess:l,totalFailed:c}}delay(r){return new Promise(a=>setTimeout(a,r))}}/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lo=(...t)=>t.filter((r,a,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===a).join(" ").trim();/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var co={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:n,children:o,iconNode:s,class:l="",...c})=>Ie("svg",{...co,width:String(r),height:r,stroke:t,"stroke-width":n?Number(a)*24/Number(r):a,class:["lucide",l].join(" "),...c},[...s.map(([d,u])=>Ie(d,u)),...it(o)]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=(t,r)=>{const a=({class:n="",children:o,...s})=>Ie(po,{...s,iconNode:r,class:lo(`lucide-${so(t)}`,n)},o);return a.displayName=`${t}`,a};/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=P("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=P("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=P("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=P("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=P("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=P("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=P("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=P("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=P("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=P("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=P("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=P("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=P("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=P("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=P("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=P("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=P("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=P("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=P("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=P("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=P("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=P("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=P("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=P("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=P("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=P("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=P("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=P("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=P("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=P("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=P("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=P("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=P("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=P("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=P("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=P("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=P("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=P("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=P("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let Ue={...dt};function vo(){Ue={...dt}}const We=({title:t,icon:r,children:a,defaultOpen:n=!1,badge:o})=>{const[s,l]=M(n);return e("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[e("button",{onClick:()=>l(!s),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"text-purple-600",children:r}),e("span",{className:"font-semibold text-slate-700",children:t}),o&&e("span",{className:"text-xs bg-sky-100 text-sky-600 px-2 py-0.5 rounded-full",children:o})]}),s?e(Dt,{size:18,className:"text-slate-400"}):e(Ke,{size:18,className:"text-slate-400"})]}),s&&e("div",{className:"p-4 bg-white border-t border-slate-100",children:a})]})},wo=({isOpen:t,onClose:r,onConfigChange:a,onSaveConfig:n})=>{var le,ke,de,E,$e,Te,Ge,Ve,D,re,we,q,ze,wt,Ct,rt,yt,Wt;const[o,s]=M(()=>({...Ue})),[l,c]=M(null),[d,u]=M(""),[i,p]=M([]),[b,m]=M(""),[x,C]=M("AGT"),[A,_]=M("RA"),[f,O]=M(null),[k,T]=M(()=>aa()),[R,L]=M(()=>Ot()),j=K(h=>{Ja(h),T(h),a&&setTimeout(()=>a(Ue),0)},[a]),V=K(h=>{eo(h),L(Ot()),a&&setTimeout(()=>a(Ue),0)},[a]);Ye(()=>{t&&(s({...Ue}),T(aa()),L(Ot()),c(null))},[t]);const S=K((h,N)=>{s(G=>{const z={...G,[h]:N};return Ue=z,z}),c(null),a&&setTimeout(()=>{a(Ue)},0)},[a]),Y=()=>{if(d&&d.length===3&&i.length>0){const h={...o.sphByAirline,[d]:i};S("sphByAirline",h),u(""),p([])}},te=h=>{if(h==="DEFAULT")return;const N={...o.sphByAirline};delete N[h],S("sphByAirline",N)},ge=()=>{if(b&&b.length===2){const h={...o.ociByOriginCountry,[b]:[{countryCode:b,infoIdentifier:x,controlInfo:A}]};S("ociByOriginCountry",h),m(""),C("AGT"),_("RA")}},ce=(h,N,G)=>{const z=o.ociByOriginCountry[h]||[];if(z.some(H=>H.infoIdentifier===N&&H.controlInfo===G))return;const F={...o.ociByOriginCountry,[h]:[...z,{countryCode:h,infoIdentifier:N,controlInfo:G}]};S("ociByOriginCountry",F)},me=(h,N)=>{const G=o.ociByOriginCountry[h]||[];if(G.length<=1)return;const z={...o.ociByOriginCountry,[h]:G.filter((F,H)=>H!==N)};S("ociByOriginCountry",z)},Se=h=>{if(h==="DEFAULT")return;const N={...o.ociByOriginCountry};delete N[h],S("ociByOriginCountry",N)};return t?e("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[e("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),e("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-purple-300 bg-purple-600 flex items-center justify-between",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"bg-white/30 p-2 rounded-lg",children:e(cr,{size:22,className:"text-white"})}),e("div",{children:[e("h2",{className:"font-bold text-lg text-white",children:"Configuración del Conector"}),e("p",{className:"text-sm text-purple-200",children:"Lógicas de negocio dinámicas por aerolínea y país"})]})]}),e("button",{onClick:r,className:"hover:bg-white/20 p-2 rounded-lg transition-colors",children:e(Ee,{size:20,className:"text-white"})})]}),e("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l&&e("div",{className:`flex items-center gap-2 p-3 rounded-lg ${l.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[l.type==="success"?e(Ae,{size:18}):e(ve,{size:18}),e("span",{className:"text-sm font-medium",children:l.text})]}),e("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e("div",{className:"flex items-start gap-3",children:[e(Qe,{className:"text-purple-600 mt-0.5 flex-shrink-0",size:18}),e("div",{className:"text-sm text-purple-800",children:[e("p",{className:"font-semibold mb-1",children:"📋 Aclaración: Campo accountNumber vs NIT/RUC"}),e("p",{className:"text-purple-700",children:["El campo ",e("code",{className:"bg-purple-100 px-1 rounded",children:"accountNumber"})," en Shipper/Consignee es un",e("strong",{children:" código de cuenta asignado por la aerolínea"}),", NO el NIT/RUC del cliente."]})]})]})}),e(We,{title:"Formato de Mensaje (Descartes)",icon:e(ua,{size:18}),badge:k?"Type B":"EDIFACT",defaultOpen:!0,children:e("div",{className:"space-y-4",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:["Selecciona el formato de envelope para los mensajes EDI. ",e("strong",{children:"Type B"})," es requerido para envío directo a Descartes."]}),e("div",{className:"grid grid-cols-2 gap-4",children:[e("button",{onClick:()=>j(!1),className:`p-4 rounded-lg border-2 text-left transition-all ${k?"border-slate-200 bg-white hover:border-slate-300":"border-purple-500 bg-purple-50"}`,children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${k?"border-slate-300":"border-purple-500"}`,children:!k&&e("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),e("span",{className:`font-semibold ${k?"text-slate-700":"text-purple-700"}`,children:"EDIFACT (UNB/UNZ)"})]}),e("p",{className:"text-xs text-slate-500",children:"Envelope EDIFACT estándar con segmentos UNB, UNH, UNT, UNZ"}),e("div",{className:"mt-2 text-xs font-mono bg-slate-100 p-2 rounded text-slate-600",children:["UNB+IATA:1+SENDER...",e("br",{}),"FWB/17",e("br",{}),"...",e("br",{}),"'UNT+3+...'UNZ+1+...'"]})]}),e("button",{onClick:()=>j(!0),className:`p-4 rounded-lg border-2 text-left transition-all ${k?"border-sky-500 bg-sky-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${k?"border-sky-500":"border-slate-300"}`,children:k&&e("div",{className:"w-2 h-2 bg-sky-500 rounded-full"})}),e("span",{className:`font-semibold ${k?"text-sky-700":"text-slate-700"}`,children:"Type B (Descartes)"})]}),e("p",{className:"text-xs text-slate-500",children:"Formato IATA Type B para envío a Descartes GLN"}),e("div",{className:"mt-2 text-xs font-mono bg-slate-100 p-2 rounded text-slate-600",children:["QK ",R.recipientAddress||"DSGUNXA",e("br",{}),".",R.senderPrefix||"DSGTPXA",R.includeTimestamp?" DDHHmm":""," ",R.originAddress||"TDVAGT03OPERFLOR/BOG1",e("br",{}),"FWB/17",e("br",{}),"..."]}),e("p",{className:"text-xs text-slate-400 mt-1",children:"DSGUNXA = Descartes Universal Header (enruta automáticamente)"})]})]}),k&&e("div",{className:"mt-4 p-4 bg-sky-50 border border-sky-200 rounded-lg space-y-3",children:[e("p",{className:"text-sm font-semibold text-sky-800 flex items-center gap-2",children:[e(ua,{size:16})," Configuración Type B"]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Recipient Address (Descartes)"}),e("input",{type:"text",value:R.recipientAddress||"DSGUNXA",onChange:h=>V({recipientAddress:h.target.value}),className:"w-full border border-sky-300 rounded px-3 py-2 text-sm font-mono bg-white",placeholder:"DSGUNXA"}),e("p",{className:"text-xs text-sky-600 mt-1",children:"DSGUNXA = Descartes Universal Header (enruta automáticamente a la aerolínea)"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Sender Prefix (Línea 2)"}),e("input",{type:"text",value:R.senderPrefix||"DSGTPXA",onChange:h=>V({senderPrefix:h.target.value}),className:"w-full border border-sky-300 rounded px-3 py-2 text-sm font-mono bg-white",placeholder:"DSGTPXA"}),e("p",{className:"text-xs text-sky-600 mt-1",children:"Prefijo fijo de Descartes para la línea del sender"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Origin Address (Tu identificador)"}),e("input",{type:"text",value:R.originAddress||"TDVAGT03OPERFLOR/BOG1",onChange:h=>V({originAddress:h.target.value}),className:"w-full border border-sky-300 rounded px-3 py-2 text-sm font-mono bg-white",placeholder:"TDVAGT03OPERFLOR/BOG1"}),e("p",{className:"text-xs text-sky-600 mt-1",children:"Tu identificador de agente (proporcionado por Descartes)"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Timestamp en línea origen"}),e("div",{className:"flex items-center gap-3",children:[e("button",{onClick:()=>V({includeTimestamp:!1}),className:`px-3 py-1.5 rounded text-sm transition-colors ${R.includeTimestamp?"bg-white border border-sky-300 text-sky-700 hover:bg-sky-100":"bg-sky-600 text-white"}`,children:"Sin timestamp"}),e("button",{onClick:()=>V({includeTimestamp:!0}),className:`px-3 py-1.5 rounded text-sm transition-colors ${R.includeTimestamp?"bg-sky-600 text-white":"bg-white border border-sky-300 text-sky-700 hover:bg-sky-100"}`,children:"Con timestamp (DDHHmm)"})]}),e("p",{className:"text-xs text-sky-600 mt-1",children:R.includeTimestamp?"Ej: .DSGTPXA 031545 TDVAGT03OPERFLOR/BOG1":"Ej: .DSGTPXA TDVAGT03OPERFLOR/BOG1"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Prioridad"}),e("div",{className:"flex gap-2",children:["QK","QD","QP","QU"].map(h=>e("button",{onClick:()=>V({defaultPriority:h}),className:`px-3 py-1.5 rounded text-sm font-mono transition-colors ${R.defaultPriority===h?"bg-sky-600 text-white":"bg-white border border-sky-300 text-sky-700 hover:bg-sky-100"}`,children:h},h))}),e("p",{className:"text-xs text-sky-600 mt-1",children:"QK=Normal, QD=Deferred, QP=Priority, QU=Urgent"})]})]})]})}),e(We,{title:"Special Handling Codes (SPH) por Aerolínea",icon:e(Je,{size:18}),badge:`${Object.keys(o.sphByAirline).length} aerolíneas`,defaultOpen:!1,children:e("div",{className:"space-y-3",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:"Define qué códigos SPH se agregan automáticamente según el prefijo AWB (primeros 3 dígitos)."}),e("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Object.entries(o.sphByAirline).map(([h,N])=>e("div",{className:`flex items-center justify-between p-3 rounded-lg border ${h==="DEFAULT"?"bg-purple-50 border-purple-200":"bg-slate-50 border-slate-200"}`,children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"font-mono font-bold text-slate-700 w-12",children:h}),e("span",{className:"text-slate-400",children:"→"}),e("div",{className:"flex flex-wrap gap-1",children:N.map(G=>e("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-medium",children:G},G))})]}),h!=="DEFAULT"&&e("button",{onClick:()=>te(h),className:"text-red-500 hover:bg-red-100 p-1.5 rounded transition-colors",children:e(pr,{size:14})}),h==="DEFAULT"&&e("span",{className:"text-xs text-amber-600 font-medium",children:"Por defecto"})]},h))}),e("div",{className:"flex items-end gap-2 pt-4 border-t border-slate-200",children:[e("div",{className:"flex-shrink-0",children:[e("label",{className:"text-xs text-slate-500 font-medium block mb-1",children:"Prefijo AWB"}),e("input",{type:"text",value:d,onChange:h=>u(h.target.value.toUpperCase().slice(0,3)),placeholder:"075",className:"w-20 border border-slate-300 rounded px-2 py-1.5 text-sm font-mono",maxLength:3})]}),e("div",{className:"flex-1",children:[e("label",{className:"text-xs text-slate-500 font-medium block mb-1",children:"Códigos SPH (seleccione)"}),e("div",{className:"flex flex-wrap gap-1 border border-slate-300 rounded p-2 bg-white max-h-20 overflow-y-auto",children:Object.values(Ft).map(h=>e("button",{onClick:()=>{i.includes(h.code)?p(N=>N.filter(G=>G!==h.code)):p(N=>[...N,h.code])},className:`text-xs px-2 py-0.5 rounded-full transition-colors ${i.includes(h.code)?"bg-purple-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,title:h.description,children:h.code},h.code))})]}),e("button",{onClick:Y,disabled:!d||d.length!==3||i.length===0,className:"flex-shrink-0 bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e(Bt,{size:14})," Agregar"]})]}),e("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:[e("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"📋 Prefijos AWB comunes:"}),e("div",{className:"grid grid-cols-4 gap-2 text-xs text-slate-500",children:[e("span",{children:[e("strong",{children:"075"})," = Iberia"]}),e("span",{children:[e("strong",{children:"145"})," = LATAM"]}),e("span",{children:[e("strong",{children:"985"})," = LATAM Cargo"]}),e("span",{children:[e("strong",{children:"074"})," = KLM"]}),e("span",{children:[e("strong",{children:"057"})," = Air France"]}),e("span",{children:[e("strong",{children:"020"})," = Lufthansa"]}),e("span",{children:[e("strong",{children:"205"})," = Emirates"]}),e("span",{children:[e("strong",{children:"176"})," = Emirates (alt)"]}),e("span",{children:[e("strong",{children:"235"})," = Turkish"]}),e("span",{children:[e("strong",{children:"157"})," = Qatar"]}),e("span",{children:[e("strong",{children:"045"})," = Avianca"]}),e("span",{children:[e("strong",{children:"369"})," = Atlas/Ethiopian"]}),e("span",{children:[e("strong",{children:"992"})," = DHL Aviation"]}),e("span",{children:[e("strong",{children:"999"})," = Polar/DHL"]}),e("span",{children:[e("strong",{children:"155"})," = ABX Air"]})]})]})]})}),e(We,{title:"OCI (Aduanas/Seguridad) por País de Origen",icon:e(go,{size:18}),badge:`${Object.keys(o.ociByOriginCountry).length} países`,children:e("div",{className:"space-y-3",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:"Define qué información OCI se agrega automáticamente según el país de origen del envío."}),e("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:Object.entries(o.ociByOriginCountry).map(([h,N])=>e("div",{className:`p-3 rounded-lg border ${h==="DEFAULT"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"flex items-center gap-2",children:[e("span",{className:"font-mono font-bold text-slate-700 bg-white px-2 py-1 rounded border",children:h}),h==="DEFAULT"&&e("span",{className:"text-xs text-amber-600 font-medium",children:"Por defecto"})]}),e("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>O(f===h?null:h),className:"text-purple-500 hover:bg-purple-100 p-1 rounded transition-colors text-xs",children:f===h?"Cerrar":"+ Agregar OCI"}),h!=="DEFAULT"&&e("button",{onClick:()=>Se(h),className:"text-red-500 hover:bg-red-100 p-1 rounded transition-colors",children:e(pr,{size:14})})]})]}),e("div",{className:"space-y-1",children:N.map((G,z)=>e("div",{className:"text-xs text-slate-600 flex items-center gap-2 bg-white p-1.5 rounded",children:[e("span",{className:"bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-medium",children:G.infoIdentifier}),e("span",{children:"→"}),e("span",{className:"bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-medium",children:G.controlInfo}),N.length>1&&e("button",{onClick:()=>me(h,z),className:"ml-auto text-red-400 hover:text-red-600",children:e(Ee,{size:12})})]},z))}),f===h&&e("div",{className:"mt-3 pt-3 border-t border-dashed border-slate-300",children:[e("p",{className:"text-xs text-slate-500 mb-2",children:["Agregar nuevo OCI a ",h,":"]}),e("div",{className:"flex flex-wrap gap-2 items-center",children:[e("select",{value:x,onChange:G=>C(G.target.value),className:"border border-slate-300 rounded px-2 py-1 text-sm",children:[e("option",{value:"AGT",children:"AGT - Agent"}),e("option",{value:"CNE",children:"CNE - Consignee"}),e("option",{value:"SHP",children:"SHP - Shipper"}),e("option",{value:"FFW",children:"FFW - Freight Forwarder"})]}),e("select",{value:A,onChange:G=>_(G.target.value),className:"border border-slate-300 rounded px-2 py-1 text-sm",children:Object.entries(Wr).map(([G,z])=>e("option",{value:z.short,children:[z.short," - ",z.description]},G))}),e("button",{onClick:()=>{ce(h,x,A),O(null)},className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:e(Bt,{size:14})})]})]})]},h))}),e("div",{className:"pt-4 border-t border-slate-200",children:[e("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Agregar nuevo país:"}),e("div",{className:"flex flex-wrap items-center gap-2",children:[e("input",{type:"text",value:b,onChange:h=>m(h.target.value.toUpperCase().slice(0,2)),placeholder:"CO",className:"w-16 border border-slate-300 rounded px-2 py-1.5 text-sm font-mono",maxLength:2}),e("select",{value:x,onChange:h=>C(h.target.value),className:"border border-slate-300 rounded px-2 py-1.5 text-sm",children:[e("option",{value:"AGT",children:"AGT - Agent"}),e("option",{value:"CNE",children:"CNE - Consignee"}),e("option",{value:"SHP",children:"SHP - Shipper"}),e("option",{value:"FFW",children:"FFW - Freight Forwarder"})]}),e("select",{value:A,onChange:h=>_(h.target.value),className:"border border-slate-300 rounded px-2 py-1.5 text-sm",children:Object.entries(Wr).map(([h,N])=>e("option",{value:N.short,children:[N.short," - ",N.description]},h))}),e("button",{onClick:ge,disabled:!b||b.length!==2,className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e(Bt,{size:14})," Agregar País"]})]})]}),e("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:[e("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"📋 Códigos de país ISO comunes:"}),e("div",{className:"grid grid-cols-4 gap-2 text-xs text-slate-500",children:[e("span",{children:[e("strong",{children:"CO"})," = Colombia"]}),e("span",{children:[e("strong",{children:"EC"})," = Ecuador"]}),e("span",{children:[e("strong",{children:"PE"})," = Perú"]}),e("span",{children:[e("strong",{children:"PA"})," = Panamá"]}),e("span",{children:[e("strong",{children:"MX"})," = México"]}),e("span",{children:[e("strong",{children:"CL"})," = Chile"]}),e("span",{children:[e("strong",{children:"AR"})," = Argentina"]}),e("span",{children:[e("strong",{children:"BR"})," = Brasil"]})]})]})]})}),e(We,{title:"Opciones de Envío",icon:e(xt,{size:18}),children:e("div",{className:"space-y-4",children:[e("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-green-800",children:"Incluir NIT/RUC del Importer"}),e("p",{className:"text-xs text-green-600",children:"Envía el NIT del consignee/importador como OCI (AGT/T/NIT)"}),e("p",{className:"text-xs text-green-500 mt-1 italic",children:"✅ Este es el default - Solo se envía si el importer tiene taxId"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:o.includeConsigneeTIN??!0,onChange:h=>S("includeConsigneeTIN",h.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),e("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-slate-700",children:"Incluir NIT/RUC del Shipper"}),e("p",{className:"text-xs text-slate-500",children:"Envía también el NIT del shipper/exportador (opcional)"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:o.includeShipperTIN,onChange:h=>S("includeShipperTIN",h.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-slate-700",children:"Generar CSL automático"}),e("p",{className:"text-xs text-slate-500",children:"Crear Consolidation List para envíos con houses"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:o.messageConfig.autoGenerateCSL,onChange:h=>S("messageConfig",{...o.messageConfig,autoGenerateCSL:h.target.checked}),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})}),e(We,{title:"OCI Seguridad (RA/ED/SM/SD/SN)",icon:e(xt,{size:18}),badge:(le=o.securityOci)!=null&&le.enabled?"Activo":"Inactivo",children:e("div",{className:"space-y-4",children:[e("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e("div",{className:"flex items-start gap-2",children:[e(Qe,{size:16,className:"text-blue-600 mt-0.5 flex-shrink-0"}),e("div",{className:"text-xs text-blue-700",children:[e("p",{className:"font-medium mb-1",children:"Información de Seguridad OCI"}),e("p",{children:"Algunos destinos/aerolíneas requieren información de seguridad adicional para documentar quién, cómo y cuándo se aseguró el envío. Active esta opción solo si la aerolínea lo requiere."})]})]})}),e("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-amber-800",children:"Incluir OCI de Seguridad"}),e("p",{className:"text-xs text-amber-600",children:"Enviar RA, ED, SM, SD, SN en el mensaje"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:((ke=o.securityOci)==null?void 0:ke.enabled)||!1,onChange:h=>S("securityOci",{...o.securityOci,enabled:h.target.checked}),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"})]})]}),((de=o.securityOci)==null?void 0:de.enabled)&&e("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"RA"}),"Número de Agente Regulado"]}),e("input",{type:"text",value:((E=o.securityOci)==null?void 0:E.regulatedAgentNumber)||"",onChange:h=>S("securityOci",{...o.securityOci,regulatedAgentNumber:h.target.value}),placeholder:"Ej: 00100-01",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",maxLength:35}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Número de certificado del agente regulado de Colombia"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"ED"}),"Fecha Expiración Certificado"]}),e("input",{type:"text",value:(($e=o.securityOci)==null?void 0:$e.expiryDate)||"",onChange:h=>S("securityOci",{...o.securityOci,expiryDate:h.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,4)}),placeholder:"MMYY (Ej: 1225 = Dic 2025)",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",maxLength:4}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Formato MMYY - Mes y año de expiración del certificado"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-green-100 text-green-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"SM"}),"Método de Screening"]}),e("select",{value:((Te=o.securityOci)==null?void 0:Te.screeningMethod)||"",onChange:h=>S("securityOci",{...o.securityOci,screeningMethod:h.target.value}),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm",children:[e("option",{value:"",children:"-- Seleccionar método --"}),e("option",{value:"XRY",children:"XRY - Rayos X"}),e("option",{value:"EDS",children:"EDS - Sistema de Detección de Explosivos"}),e("option",{value:"ETD",children:"ETD - Detección de Trazas de Explosivos"}),e("option",{value:"VCK",children:"VCK - Verificación Visual"}),e("option",{value:"PHS",children:"PHS - Inspección Física"}),e("option",{value:"EDD",children:"EDD - Perros Detectores de Explosivos"})]}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Método utilizado para inspeccionar la carga"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"SD"}),"Fecha/Hora de Screening"]}),e("input",{type:"text",value:((Ge=o.securityOci)==null?void 0:Ge.screeningDate)||"",onChange:h=>S("securityOci",{...o.securityOci,screeningDate:h.target.value.toUpperCase().substring(0,13)}),placeholder:"DDMMMYYHHmm (Ej: 24DEC252359)",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",maxLength:13}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Formato DDMMMYYHHmm - Fecha y hora local del screening"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-pink-100 text-pink-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"SN"}),"Nombre del Responsable"]}),e("input",{type:"text",value:((Ve=o.securityOci)==null?void 0:Ve.screenerName)||"",onChange:h=>S("securityOci",{...o.securityOci,screenerName:h.target.value.toUpperCase().substring(0,35)}),placeholder:"Ej: JORGE GAMBOA",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm uppercase",maxLength:35}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Nombre de la persona que realizó el screening"})]}),e("div",{className:"mt-4 p-3 bg-slate-800 rounded-lg",children:[e("p",{className:"text-xs text-slate-400 mb-2 font-medium",children:"Vista previa del OCI de seguridad:"}),e("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto",children:`[
${(D=o.securityOci)!=null&&D.regulatedAgentNumber?`  { "isoCountryCode": "CO", "informationIdentifier": "AGT", "additionalControlInformation": "RA", "supplementaryControlInformation": "${o.securityOci.regulatedAgentNumber}" },
`:""}${(re=o.securityOci)!=null&&re.expiryDate?`  { "additionalControlInformation": "ED", "supplementaryControlInformation": "${o.securityOci.expiryDate}" },
`:""}${(we=o.securityOci)!=null&&we.screeningMethod?`  { "additionalControlInformation": "SM", "supplementaryControlInformation": "${o.securityOci.screeningMethod}" },
`:""}${(q=o.securityOci)!=null&&q.screeningDate?`  { "additionalControlInformation": "SD", "supplementaryControlInformation": "${o.securityOci.screeningDate}" },
`:""}${(ze=o.securityOci)!=null&&ze.screenerName?`  { "additionalControlInformation": "SN", "supplementaryControlInformation": "${o.securityOci.screenerName}" }
`:""}]`})]})]})]})}),e(We,{title:"CARGO-IMP (EDI) Configuración",icon:e(vt,{size:18}),badge:"Formato EDI",defaultOpen:!0,children:e("div",{className:"space-y-4",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:"Configura las versiones de mensaje y opciones para el formato CARGO-IMP (IATA CIMP EDI)."}),e("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[e("p",{className:"text-xs font-bold text-emerald-700 uppercase tracking-wide mb-3",children:"⚙️ Configuración Global"}),e("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e("div",{children:[e("label",{className:"text-xs font-medium text-slate-700 block mb-1",children:"Versión FWB"}),e("select",{value:((wt=o.cargoImp)==null?void 0:wt.fwbVersion)||"FWB/16",onChange:h=>S("cargoImp",{...o.cargoImp,fwbVersion:h.currentTarget.value}),className:"w-full border border-emerald-300 rounded px-2 py-1.5 text-sm bg-white focus:ring-2 focus:ring-emerald-400",children:[e("option",{value:"FWB/16",children:"FWB/16 (Estándar)"}),e("option",{value:"FWB/17",children:"FWB/17 (Extendido)"})]})]}),e("div",{children:[e("label",{className:"text-xs font-medium text-slate-700 block mb-1",children:"Versión FHL"}),e("select",{value:((Ct=o.cargoImp)==null?void 0:Ct.fhlVersion)||"FHL/4",onChange:h=>S("cargoImp",{...o.cargoImp,fhlVersion:h.currentTarget.value}),className:"w-full border border-emerald-300 rounded px-2 py-1.5 text-sm bg-white focus:ring-2 focus:ring-emerald-400",children:[e("option",{value:"FHL/4",children:"FHL/4 (Actual)"}),e("option",{value:"FHL/2",children:"FHL/2 (Legacy)"})]})]}),e("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"cargoImpUNB",checked:((rt=o.cargoImp)==null?void 0:rt.includeUNB_UNZ)||!1,onChange:h=>S("cargoImp",{...o.cargoImp,includeUNB_UNZ:h.currentTarget.checked}),className:"w-4 h-4 rounded border-emerald-300 text-emerald-600 focus:ring-emerald-400"}),e("label",{htmlFor:"cargoImpUNB",className:"text-xs text-slate-700",children:["Incluir UNB/UNZ",e("br",{}),e("span",{className:"text-[10px] text-slate-400",children:"(EDIFACT wrapper)"})]})]}),e("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"cargoImpEORI",checked:((yt=o.cargoImp)==null?void 0:yt.ociWithEori)||!1,onChange:h=>S("cargoImp",{...o.cargoImp,ociWithEori:h.currentTarget.checked}),className:"w-4 h-4 rounded border-emerald-300 text-emerald-600 focus:ring-emerald-400"}),e("label",{htmlFor:"cargoImpEORI",className:"text-xs text-slate-700",children:["EORI en OCI",e("br",{}),e("span",{className:"text-[10px] text-slate-400",children:"(Requerido UE)"})]})]})]})]}),e("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e("p",{className:"text-xs font-bold text-purple-700 uppercase tracking-wide mb-3",children:"📦 Códigos SPH por defecto"}),e("div",{className:"flex flex-wrap gap-2",children:["EAP","ECC","PER","SPX","DGR","ICE","VAL","AVI","HEA"].map(h=>{var N;return e("label",{className:"flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-purple-200 cursor-pointer hover:bg-purple-100",children:[e("input",{type:"checkbox",checked:(((N=o.cargoImp)==null?void 0:N.defaultSphCodes)||[]).includes(h),onChange:G=>{var H;const z=((H=o.cargoImp)==null?void 0:H.defaultSphCodes)||[],F=G.currentTarget.checked?[...z,h]:z.filter(W=>W!==h);S("cargoImp",{...o.cargoImp,defaultSphCodes:F})},className:"w-3 h-3 rounded border-purple-300 text-purple-600"}),e("span",{className:"text-xs font-mono text-purple-700",children:h})]},h)})})]}),e("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("p",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide",children:"✈️ Políticas por Aerolínea (Pre-configuradas)"}),e("button",{onClick:()=>{S("cargoImp",{...o.cargoImp,airlinePolicies:{...Pe}})},className:"text-[10px] bg-indigo-100 text-indigo-700 px-2 py-1 rounded hover:bg-indigo-200",title:"Actualiza 992=DHL, 999=Polar Air, etc.",children:"🔄 Sincronizar predefinidas"})]}),e("p",{className:"text-xs text-slate-500 mb-3",children:"Haz clic en una aerolínea para expandir y editar. Los segmentos son clickeables para activar/desactivar."}),e("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:Object.entries({...Pe,...((Wt=o.cargoImp)==null?void 0:Wt.airlinePolicies)||{}}).sort(([h],[N])=>h==="DEFAULT"?1:N==="DEFAULT"?-1:h.localeCompare(N)).map(([h,N])=>{const G=Object.keys(Ne),z=Math.floor((N.policy||20)/10);return e("details",{className:"group bg-white rounded-lg border border-slate-200 overflow-hidden",children:[e("summary",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-50",children:[e("div",{className:"flex items-center gap-3 flex-wrap",children:[e("span",{className:"font-mono font-bold text-slate-700 bg-slate-100 px-2 py-0.5 rounded w-12 text-center",children:h}),e("span",{className:"text-xs text-slate-600",children:N.name||h}),e("span",{className:`text-[10px] px-2 py-0.5 rounded ${z===7?"bg-orange-100 text-orange-700":z===5?"bg-purple-100 text-purple-700":z===4?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:["Caso ",z]}),e("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded",children:N.fwbVersion||"FWB/16"}),e("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:N.fhlVersion||"FHL/4"})]}),e("div",{className:"flex items-center gap-2",children:[e(Ke,{size:14,className:"text-slate-400 group-open:rotate-90 transition-transform"}),h!=="DEFAULT"&&e("button",{onClick:F=>{var W;F.preventDefault(),F.stopPropagation();const H={...(W=o.cargoImp)==null?void 0:W.airlinePolicies};delete H[h],S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"text-red-500 hover:text-red-700 p-1",children:e(pr,{size:14})})]})]}),e("div",{className:"px-3 pb-3 border-t border-slate-100 pt-3 space-y-3",children:[e("div",{className:"p-2 bg-amber-50 rounded border border-amber-200",children:[e("label",{className:"text-[10px] text-amber-700 font-bold block mb-1",children:"🔧 Política de Caso"}),e("select",{value:N.policy||20,onChange:F=>{var Nt;const H=parseInt(F.currentTarget.value),W=Object.keys(Ne),ie=Object.keys(se),pe=["FWB","AWB","RTG","SHP","CNE","AGT","CVD","ISU","FTR"],he=ie;let Z=[...pe],ne=[],be=!0,fe=!1;switch(Math.floor(H/10)){case 2:Z=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],ne=W.filter(ue=>!Z.includes(ue));break;case 4:Z=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],ne=W.filter(ue=>!Z.includes(ue));break;case 5:Z=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","REF","SPH","OCI","FTR"],ne=W.filter(ue=>!Z.includes(ue));break;case 7:Z=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],ne=W.filter(ue=>!Z.includes(ue)),fe=!0;break;case 8:Z=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","SPH","OCI","FTR"],ne=W.filter(ue=>!Z.includes(ue));break}const Fe={...((Nt=o.cargoImp)==null?void 0:Nt.airlinePolicies)||{},[h]:{...N,policy:H,enabledSegments:Z,disabledSegments:ne,enabledFhlSegments:he,disabledFhlSegments:[],includeUnbUnz:be,fhlAlwaysWithHeader:fe}};S("cargoImp",{...o.cargoImp,airlinePolicies:Fe}),console.log(`[ConfigPanel] Caso cambiado a ${H} para ${h}, segmentos FWB: ${Z.length} habilitados`)},className:"w-full border border-amber-300 rounded px-2 py-1 text-xs bg-white",children:[e("optgroup",{label:"📦 Consolidados",children:[e("option",{value:20,children:"Caso 2: FWB + FHL individuales"}),e("option",{value:40,children:"Caso 4: FWB_NEW + FHL individuales"}),e("option",{value:50,children:"Caso 5: FWB_NEW + FHL concatenados"}),e("option",{value:70,children:"Caso 7: DHL/ABX (FHL con header)"}),e("option",{value:80,children:"Caso 8: Todas FHL en 1 mensaje"})]}),e("optgroup",{label:"📄 Directos",children:[e("option",{value:21,children:"Caso 2: FWB directo"}),e("option",{value:41,children:"Caso 4: FWB_NEW directo"}),e("option",{value:71,children:"Caso 7: DHL/ABX directo"})]})]})]}),e("div",{className:"grid grid-cols-4 gap-2",children:[e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"FWB"}),e("select",{value:N.fwbVersion||"FWB/16",onChange:F=>{var W;const H={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[h]:{...N,fwbVersion:F.currentTarget.value}};S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"w-full border border-slate-300 rounded px-1 py-1 text-xs",children:[e("option",{value:"FWB/16",children:"FWB/16"}),e("option",{value:"FWB/17",children:"FWB/17"}),e("option",{value:"FWB/9",children:"FWB/9"})]})]}),e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"FHL"}),e("select",{value:N.fhlVersion||"FHL/4",onChange:F=>{var W;const H={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[h]:{...N,fhlVersion:F.currentTarget.value}};S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"w-full border border-slate-300 rounded px-1 py-1 text-xs",children:[e("option",{value:"FHL/4",children:"FHL/4"}),e("option",{value:"FHL/2",children:"FHL/2"})]})]}),e("label",{className:"flex items-center gap-1 text-[10px] p-1 bg-slate-100 rounded",children:[e("input",{type:"checkbox",checked:N.includeUnbUnz!==!1,onChange:F=>{var W;const H={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[h]:{...N,includeUnbUnz:F.currentTarget.checked}};S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"w-3 h-3"}),"UNB/UNZ"]}),e("label",{className:"flex items-center gap-1 text-[10px] p-1 bg-slate-100 rounded",children:[e("input",{type:"checkbox",checked:N.ociFormat==="withPrefix",onChange:F=>{var W;const H={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[h]:{...N,ociFormat:F.currentTarget.checked?"withPrefix":"withoutPrefix"}};S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"w-3 h-3"}),"EORI"]})]}),e("div",{children:[e("div",{className:"flex items-center justify-between mb-1",children:[e("label",{className:"text-[10px] font-bold text-slate-700",children:"📋 Segmentos (click para toggle):"}),e("div",{className:"flex gap-2",children:[e("button",{onClick:()=>{var H;const F={...((H=o.cargoImp)==null?void 0:H.airlinePolicies)||{},[h]:{...N,enabledSegments:[...G],disabledSegments:[]}};S("cargoImp",{...o.cargoImp,airlinePolicies:F})},className:"text-[9px] text-green-600 hover:underline",children:"Todos"}),e("button",{onClick:()=>{var W;const F=["FWB","AWB","SHP","CNE","CVD","ISU","FTR"],H={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[h]:{...N,enabledSegments:F,disabledSegments:G.filter(ie=>!F.includes(ie))}};S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"text-[9px] text-amber-600 hover:underline",children:"Mínimos"})]})]}),e("div",{className:"grid grid-cols-8 gap-1",children:G.map(F=>{var W;const H=(N.enabledSegments||[]).includes(F);return e("button",{onClick:()=>{var be;const ie=N.enabledSegments||G,pe=N.disabledSegments||[];let he,Z;H?(he=ie.filter(fe=>fe!==F),Z=[...pe,F]):(he=[...ie,F],Z=pe.filter(fe=>fe!==F));const ne={...((be=o.cargoImp)==null?void 0:be.airlinePolicies)||{},[h]:{...N,enabledSegments:he,disabledSegments:Z}};S("cargoImp",{...o.cargoImp,airlinePolicies:ne})},className:`p-1 rounded text-[9px] font-mono font-bold text-center transition-all ${H?"bg-green-100 text-green-700 border border-green-300 hover:bg-green-200":"bg-red-50 text-red-400 border border-red-200 line-through hover:bg-red-100"}`,title:((W=Ne[F])==null?void 0:W.name)||F,children:F},F)})}),e("p",{className:"text-[9px] text-slate-400 mt-1",children:["✓ ",(N.enabledSegments||[]).length," activos | ✗ ",(N.disabledSegments||[]).length," deshabilitados"]})]}),e("div",{children:[e("div",{className:"flex items-center justify-between mb-1",children:[e("label",{className:"text-[10px] font-bold text-blue-700",children:"📦 Segmentos FHL (Houses - click para toggle):"}),e("div",{className:"flex gap-2",children:[e("button",{onClick:()=>{var W;const F=Object.keys(se),H={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[h]:{...N,enabledFhlSegments:[...F],disabledFhlSegments:[]}};S("cargoImp",{...o.cargoImp,airlinePolicies:H})},className:"text-[9px] text-blue-600 hover:underline",children:"Todos"}),e("button",{onClick:()=>{var ie;const F=["FHL","MBI","HBS","SHP","CNE","CVD"],H=Object.keys(se),W={...((ie=o.cargoImp)==null?void 0:ie.airlinePolicies)||{},[h]:{...N,enabledFhlSegments:F,disabledFhlSegments:H.filter(pe=>!F.includes(pe))}};S("cargoImp",{...o.cargoImp,airlinePolicies:W})},className:"text-[9px] text-amber-600 hover:underline",children:"Mínimos"})]})]}),e("div",{className:"grid grid-cols-5 gap-1",children:Object.keys(se).map(F=>{var pe;const H=Object.keys(se),ie=(N.enabledFhlSegments||H).includes(F);return e("button",{onClick:()=>{var at;const he=N.enabledFhlSegments||H,Z=N.disabledFhlSegments||[];let ne,be;ie?(ne=he.filter(Fe=>Fe!==F),be=[...Z,F]):(ne=[...he,F],be=Z.filter(Fe=>Fe!==F));const fe={...((at=o.cargoImp)==null?void 0:at.airlinePolicies)||{},[h]:{...N,enabledFhlSegments:ne,disabledFhlSegments:be}};S("cargoImp",{...o.cargoImp,airlinePolicies:fe})},className:`p-1 rounded text-[9px] font-mono font-bold text-center transition-all ${ie?"bg-blue-100 text-blue-700 border border-blue-300 hover:bg-blue-200":"bg-red-50 text-red-400 border border-red-200 line-through hover:bg-red-100"}`,title:((pe=se[F])==null?void 0:pe.name)||F,children:F},F)})}),e("p",{className:"text-[9px] text-blue-400 mt-1",children:["✓ ",(N.enabledFhlSegments||Object.keys(se)).length," FHL activos"]})]}),N.notes&&e("div",{className:"bg-amber-50 border border-amber-200 rounded p-2",children:e("p",{className:"text-[10px] text-amber-700",children:[e(Qe,{size:10,className:"inline mr-1"}),N.notes]})})]})]},h)})}),e("div",{className:"mt-3 p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[e("p",{className:"text-xs font-semibold text-emerald-700 mb-2",children:"+ Agregar política de aerolínea"}),e("div",{className:"flex items-end gap-2 flex-wrap",children:[e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"Prefijo AWB"}),e("input",{type:"text",maxLength:3,placeholder:"Ej: 075",value:d,onChange:h=>u(h.currentTarget.value.replace(/\D/g,"").slice(0,3)),className:"w-16 border border-emerald-300 rounded px-2 py-1 text-xs font-mono"})]}),e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"Nombre"}),e("input",{type:"text",placeholder:"Ej: DHL",id:"newPolicyName",className:"w-24 border border-emerald-300 rounded px-2 py-1 text-xs"})]}),e("button",{onClick:()=>{var h;if(d&&d.length===3){const N=document.getElementById("newPolicyName"),G=Object.keys(Ne),z={...((h=o.cargoImp)==null?void 0:h.airlinePolicies)||{},[d]:{awbPrefix:d,name:(N==null?void 0:N.value)||`Aerolínea ${d}`,policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUnbUnz:!0,ociFormat:"withPrefix",enabledSegments:G,disabledSegments:[],defaultSphCodes:["EAP"]}};S("cargoImp",{...o.cargoImp,airlinePolicies:z}),u(""),N&&(N.value="")}},disabled:!d||d.length!==3,className:"bg-emerald-600 text-white px-3 py-1 rounded text-xs font-medium hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e(Bt,{size:12})," Agregar"]})]})]})]}),e("details",{className:"mt-4",children:[e("summary",{className:"cursor-pointer text-sm text-slate-600 hover:text-slate-800 flex items-center gap-2 py-2 font-medium",children:[e(Ke,{size:14})," Ver referencia de segmentos FWB/FHL"]}),e("div",{className:"mt-2 p-3 bg-slate-100 rounded-lg",children:e("div",{className:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("p",{className:"text-xs font-bold text-purple-700 mb-2",children:["Segmentos FWB (",Object.keys(Ne).length,")"]}),e("div",{className:"flex flex-wrap gap-1",children:Object.keys(Ne).map(h=>e("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-mono",children:h},h))})]}),e("div",{children:[e("p",{className:"text-xs font-bold text-blue-700 mb-2",children:["Segmentos FHL (",Object.keys(se).length,")"]}),e("div",{className:"flex flex-wrap gap-1",children:Object.keys(se).map(h=>e("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded font-mono",children:h},h))})]})]})})]})]})}),e(We,{title:"Configuración de Red",icon:e(nr,{size:18}),children:e("div",{className:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:"Timeout (ms)"}),e("input",{type:"number",value:o.messageConfig.sendTimeoutMs,onChange:h=>S("messageConfig",{...o.messageConfig,sendTimeoutMs:parseInt(h.target.value)||3e4}),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm",min:5e3,max:12e4,step:1e3})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:"Reintentos máximos"}),e("input",{type:"number",value:o.messageConfig.maxRetries,onChange:h=>S("messageConfig",{...o.messageConfig,maxRetries:parseInt(h.target.value)||3}),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm",min:0,max:10})]})]})})]}),e("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex items-center justify-between",children:[e("p",{className:"text-xs text-slate-500",children:'Los cambios se aplican inmediatamente. Use "Guardar" para persistir en su sistema.'}),e("div",{className:"flex items-center gap-3",children:[e("button",{onClick:r,className:"bg-slate-200 text-slate-700 px-6 py-2 rounded-lg text-sm font-medium hover:bg-slate-300 flex items-center gap-2",children:"Cerrar"}),n&&e("button",{onClick:()=>{n(o),c({type:"success",text:"✓ Configuración emitida para guardar"})},className:"bg-emerald-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-emerald-700 flex items-center gap-2",children:[e(Ae,{size:16})," Guardar"]})]})]})]})]}):null},Co={FWB:e(sr,{size:14}),FHL:e(sr,{size:14}),AWB:e(Be,{size:14}),MBI:e(Be,{size:14}),FLT:e(Je,{size:14}),RTG:e(lr,{size:14}),SHP:e(et,{size:14}),CNE:e(et,{size:14}),AGT:e(Pt,{size:14}),SSR:e(Qe,{size:14}),ACC:e(bt,{size:14}),CVD:e(bt,{size:14}),RTD:e(mo,{size:14}),NG:e(dr,{size:14}),NH:e(dr,{size:14}),HBS:e(Be,{size:14}),HTS:e(dr,{size:14}),OTH:e(bt,{size:14}),PPD:e(bt,{size:14}),COL:e(bt,{size:14}),CER:e(xt,{size:14}),ISU:e(nr,{size:14}),REF:e(Ze,{size:14}),SPH:e(xt,{size:14}),OCI:e(xt,{size:14}),NFY:e(et,{size:14}),TXT:e(Ze,{size:14}),FTR:e(sr,{size:14})},yo={FWB:{bg:"bg-slate-100",border:"border-slate-300",text:"text-slate-700"},FHL:{bg:"bg-slate-100",border:"border-slate-300",text:"text-slate-700"},FTR:{bg:"bg-slate-100",border:"border-slate-300",text:"text-slate-700"},AWB:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-700"},MBI:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-700"},HBS:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-700"},FLT:{bg:"bg-sky-50",border:"border-sky-300",text:"text-sky-700"},RTG:{bg:"bg-sky-50",border:"border-sky-300",text:"text-sky-700"},SHP:{bg:"bg-green-50",border:"border-green-300",text:"text-green-700"},CNE:{bg:"bg-emerald-50",border:"border-emerald-300",text:"text-emerald-700"},AGT:{bg:"bg-teal-50",border:"border-teal-300",text:"text-teal-700"},NFY:{bg:"bg-cyan-50",border:"border-cyan-300",text:"text-cyan-700"},CVD:{bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700"},RTD:{bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700"},OTH:{bg:"bg-orange-50",border:"border-orange-300",text:"text-orange-700"},PPD:{bg:"bg-green-50",border:"border-green-300",text:"text-green-700"},COL:{bg:"bg-red-50",border:"border-red-300",text:"text-red-700"},ACC:{bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700"},NG:{bg:"bg-indigo-50",border:"border-indigo-300",text:"text-indigo-700"},NH:{bg:"bg-indigo-50",border:"border-indigo-300",text:"text-indigo-700"},HTS:{bg:"bg-indigo-50",border:"border-indigo-300",text:"text-indigo-700"},SSR:{bg:"bg-rose-50",border:"border-rose-300",text:"text-rose-700"},SPH:{bg:"bg-fuchsia-50",border:"border-fuchsia-300",text:"text-fuchsia-700"},OCI:{bg:"bg-violet-50",border:"border-violet-300",text:"text-violet-700"},CER:{bg:"bg-pink-50",border:"border-pink-300",text:"text-pink-700"},ISU:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-700"},REF:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-700"},TXT:{bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-700"}},No=({segment:t,onEdit:r,onToggle:a,readOnly:n=!1,cardSize:o="normal"})=>{var T,R;const[s,l]=M(!1),c=t.originalContent||t.content,[d,u]=M(c),[i,p]=M(o==="expanded"),b=t.originalContent&&t.originalContent.length>t.content.length,m=t.currentLength>t.maxLength||t.originalContent&&t.originalContent.length>t.maxLength;Ye(()=>{u(t.originalContent||t.content)},[t.content,t.originalContent]);const x=yo[t.code]||{bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-700"},C=Co[t.code]||e(Ze,{size:14}),A=()=>{r&&r(t.code,d),l(!1)},_=()=>{u(t.content),l(!1)},f=()=>{navigator.clipboard.writeText(t.content)},O=t.currentLength>t.maxLength,k=Math.min(100,t.currentLength/t.maxLength*100);return t.enabled?e("div",{className:`
      rounded-lg border-2 ${x.border} ${x.bg}
      transition-all duration-200 hover:shadow-md
      ${t.errors.length>0?"ring-2 ring-red-400":""}
      ${m?"ring-2 ring-orange-500 border-orange-400":""}
    `,children:[m&&e("div",{className:"bg-orange-500 text-white px-3 py-1.5 text-xs font-medium flex items-center gap-2 rounded-t-md",children:[e(ve,{size:14,className:"flex-shrink-0"}),e("span",{children:["⚠️ EXCEDE LÍMITE: ",((T=t.originalContent)==null?void 0:T.length)||t.currentLength," / ",t.maxLength," caracteres (",(((R=t.originalContent)==null?void 0:R.length)||t.currentLength)-t.maxLength," de más)"]}),!n&&t.editable&&e("button",{onClick:L=>{L.stopPropagation(),l(!0),p(!0)},className:"ml-auto px-2 py-0.5 bg-white/20 hover:bg-white/30 rounded text-[10px] flex items-center gap-1",children:[e(Me,{size:10})," Editar para corregir"]})]}),e("div",{className:`
          flex items-center gap-2 p-2 cursor-pointer
          ${o==="compact"?"py-1":""}
        `,onClick:()=>!s&&p(!i),children:[e("div",{className:x.text,children:C}),e("span",{className:`font-mono font-bold ${x.text} text-sm`,children:t.code}),e("span",{className:`text-[10px] ${x.text} opacity-70 truncate flex-1`,children:t.name}),e("div",{className:"flex items-center gap-1",children:[e("div",{className:`
              text-[9px] font-mono px-1.5 py-0.5 rounded
              ${O?"bg-red-100 text-red-700":"bg-white/50 text-slate-500"}
            `,title:`${t.currentLength} / ${t.maxLength} caracteres`,children:[t.currentLength,"/",t.maxLength]}),e("div",{className:"w-8 h-1 bg-white/50 rounded-full overflow-hidden",children:e("div",{className:`h-full transition-all ${O?"bg-red-500":"bg-green-500"}`,style:{width:`${k}%`}})})]}),!n&&t.editable&&!s&&e("button",{onClick:L=>{L.stopPropagation(),l(!0),p(!0)},className:"p-1 hover:bg-white/50 rounded transition-colors",title:"Editar segmento",children:e(Me,{size:12,className:x.text})}),e("button",{onClick:L=>{L.stopPropagation(),f()},className:"p-1 hover:bg-white/50 rounded transition-colors",title:"Copiar contenido",children:e(ht,{size:12,className:x.text})}),a&&!t.required&&e("button",{onClick:L=>{L.stopPropagation(),a(t.code,!1)},className:"p-1 hover:bg-red-100 rounded transition-colors text-red-400 hover:text-red-600",title:"Deshabilitar segmento",children:e(ir,{size:12})}),i?e(Dt,{size:14,className:x.text}):e(Ke,{size:14,className:x.text})]}),t.errors.length>0&&e("div",{className:"px-2 pb-1",children:t.errors.map((L,j)=>e("div",{className:"flex items-center gap-1 text-[10px] text-red-600",children:[e(ve,{size:10}),e("span",{children:L})]},j))}),i&&e("div",{className:"border-t border-white/50 p-2",children:[s?e("div",{className:"space-y-2",children:[e("textarea",{value:d,onChange:L=>u(L.target.value),className:`
                  w-full font-mono text-xs p-2 rounded border
                  ${d.length>t.maxLength?"border-red-300 bg-red-50":"border-slate-300 bg-white"}
                  focus:outline-none focus:ring-2 focus:ring-purple-400
                  resize-none
                `,rows:Math.min(10,Math.max(3,c.split(`
`).length+1)),spellcheck:!1}),e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex flex-col gap-0.5",children:[e("span",{className:`text-[10px] ${d.length>t.maxLength?"text-red-600 font-semibold":"text-slate-500"}`,children:[d.length," / ",t.maxLength," caracteres",d.length>t.maxLength&&e("span",{className:"ml-1 text-red-600",children:["(⚠️ ",d.length-t.maxLength," de más - ¡Debe reducir!)"]})]}),b&&e("span",{className:"text-[9px] text-orange-600",children:"ℹ️ Mostrando texto original completo para edición"})]}),e("div",{className:"flex gap-1",children:[e("button",{onClick:_,className:"px-2 py-1 text-xs bg-slate-200 hover:bg-slate-300 rounded flex items-center gap-1",children:[e(Ee,{size:12})," Cancelar"]}),e("button",{onClick:A,className:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded flex items-center gap-1",children:[e(pa,{size:12})," Guardar"]})]})]})]}):e("pre",{className:`
              font-mono text-[11px] whitespace-pre-wrap break-all
              ${x.text} opacity-90 leading-relaxed
            `,children:t.content||e("span",{className:"italic text-slate-400",children:"Sin contenido"})}),t.fields.length>0&&!s&&e("div",{className:"mt-2 pt-2 border-t border-white/30",children:[e("div",{className:"text-[9px] text-slate-500 mb-1 uppercase tracking-wide font-semibold",children:"Campos:"}),e("div",{className:"flex flex-wrap gap-1",children:t.fields.map((L,j)=>{var V;return e("div",{className:"text-[10px] bg-white/60 px-1.5 py-0.5 rounded border border-white/80",title:`${L.name}: máx ${L.maxLength} chars${L.required?" (requerido)":""}`,children:[e("span",{className:"font-medium text-slate-600",children:[L.name,":"]})," ",e("span",{className:`font-mono ${L.modified?"text-purple-600 font-bold":"text-slate-700"}`,children:L.value||"-"}),e("span",{className:"text-slate-400 ml-1",children:["(",((V=L.value)==null?void 0:V.length)||0,"/",L.maxLength,")"]})]},j)})})]})]})]}):e("div",{className:"relative group",children:[e("div",{className:`
          p-2 rounded-lg border-2 border-dashed border-slate-200 bg-slate-50/50
          opacity-60 hover:opacity-80
          transition-all duration-200 ${a?"cursor-pointer hover:border-green-400 hover:bg-green-50/30":"cursor-not-allowed"}
        `,onClick:()=>a&&a(t.code,!0),children:[e("div",{className:"flex items-center gap-2",children:[e("div",{className:"text-slate-400",children:C}),e("span",{className:"font-mono text-xs font-bold text-slate-400",children:t.code}),e("span",{className:"text-[10px] text-slate-400 truncate flex-1",children:t.name}),a?e("button",{onClick:L=>{L.stopPropagation(),a(t.code,!0)},className:"p-1 hover:bg-green-100 rounded transition-colors text-green-600",title:"Habilitar segmento",children:e(Ht,{size:12})}):e(ir,{size:12,className:"text-slate-400"})]}),o!=="compact"&&e("div",{className:"mt-1 text-[10px] text-slate-400 italic flex items-center justify-between",children:[e("span",{children:"Deshabilitado por política de aerolínea"}),a&&e("span",{className:"text-green-600 font-medium",children:"Clic para habilitar →"})]})]}),e("div",{className:"absolute hidden group-hover:block bottom-full left-0 mb-1 p-2 bg-slate-800 text-white text-xs rounded shadow-lg z-50 w-56",children:a?"Clic para HABILITAR este segmento y ver sus datos":"Este segmento no se incluye según la política configurada para esta aerolínea."})]})},ma=({message:t,policy:r,onSegmentChange:a,onRegenerate:n,onToggleSegment:o,showDisabled:s=!0,readOnly:l=!1,cardSize:c="normal"})=>{const[d,u]=M(t.segments),[i,p]=M(!1),[b,m]=M(!1);Ye(()=>{u(t.segments)},[t]);const x=K((T,R)=>{u(L=>L.map(j=>j.code===T?{...j,content:R,currentLength:R.length}:j)),a&&a(T,R)},[a]),C=()=>{n&&n(d)},A=()=>{navigator.clipboard.writeText(t.fullMessage),m(!0),setTimeout(()=>m(!1),2e3)},_=s?d:d.filter(T=>T.enabled),f=d.filter(T=>T.enabled).length,O=d.filter(T=>!T.enabled).length,k=d.reduce((T,R)=>T+R.errors.length,0);return e("div",{className:"space-y-4",children:[e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"flex items-center gap-2",children:[e("div",{className:`
              px-3 py-1.5 rounded-lg font-bold text-sm
              ${t.type==="FWB"?"bg-purple-600 text-white":"bg-sky-600 text-white"}
            `,children:[t.type,"/",t.version.split("/")[1]]}),e("span",{className:"font-mono text-sm text-slate-600",children:t.awbNumber}),t.hawbNumber&&e("span",{className:"font-mono text-xs text-slate-400",children:["→ ",t.hawbNumber]})]}),e("div",{className:`flex items-center gap-1 text-xs ${t.isValid?"text-green-600":"text-red-600"}`,children:[t.isValid?e(Ae,{size:14}):e(ve,{size:14}),t.isValid?"Válido":`${k} error${k!==1?"es":""}`]})]}),e("div",{className:"flex items-center gap-2",children:[e("div",{className:"text-xs text-slate-500 space-x-2",children:[e("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:[f," activos"]}),O>0&&e("span",{className:"bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full",children:[O," inactivos"]})]}),e("button",{onClick:()=>p(!i),className:"px-3 py-1.5 text-xs bg-slate-100 hover:bg-slate-200 rounded-lg flex items-center gap-1",children:[i?e(ir,{size:12}):e(Ht,{size:12}),i?"Ocultar":"Ver mensaje"]}),e("button",{onClick:A,className:`
              px-3 py-1.5 text-xs rounded-lg flex items-center gap-1
              ${b?"bg-green-500 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}
            `,children:[e(ht,{size:12}),b?"¡Copiado!":"Copiar todo"]})]})]}),r&&e("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-50 rounded-lg p-2",children:[e(Qe,{size:12}),e("span",{children:["Política: ",e("strong",{children:r.name})," (",r.awbPrefix,")"]}),e("span",{className:"text-slate-300",children:"|"}),e("span",{children:["Versión: ",r.fwbVersion]}),e("span",{className:"text-slate-300",children:"|"}),e("span",{children:["SPH: ",r.defaultSphCodes.join(", ")]}),r.notes&&e(ae,{children:[e("span",{className:"text-slate-300",children:"|"}),e("span",{className:"italic",children:r.notes})]})]}),i&&e("div",{className:"bg-slate-900 rounded-lg p-4 overflow-x-auto",children:e("pre",{className:"font-mono text-xs text-green-400 whitespace-pre-wrap",children:t.fullMessage})}),e("div",{className:`
        grid gap-2
        ${c==="compact"?"grid-cols-3 md:grid-cols-4 lg:grid-cols-6":""}
        ${c==="normal"?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":""}
        ${c==="expanded"?"grid-cols-1 md:grid-cols-2":""}
      `,children:_.map(T=>e(No,{segment:T,onEdit:x,onToggle:o,readOnly:l,cardSize:c},`${T.code}-${T.order}`))}),!l&&n&&e("div",{className:"flex justify-end pt-2",children:e("button",{onClick:C,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm font-medium flex items-center gap-2",children:[e(pa,{size:16}),"Regenerar mensaje"]})}),e("div",{className:"border-t border-slate-200 pt-4",children:[e("div",{className:"text-xs text-slate-500 mb-2 font-semibold",children:"Leyenda de segmentos:"}),e("div",{className:"flex flex-wrap gap-2 text-[10px]",children:[e("span",{className:"bg-purple-50 border border-purple-300 text-purple-700 px-2 py-0.5 rounded",children:"AWB/Carga"}),e("span",{className:"bg-sky-50 border border-sky-300 text-sky-700 px-2 py-0.5 rounded",children:"Vuelo/Ruta"}),e("span",{className:"bg-green-50 border border-green-300 text-green-700 px-2 py-0.5 rounded",children:"Partes"}),e("span",{className:"bg-amber-50 border border-amber-300 text-amber-700 px-2 py-0.5 rounded",children:"Cargos"}),e("span",{className:"bg-indigo-50 border border-indigo-300 text-indigo-700 px-2 py-0.5 rounded",children:"Mercancía"}),e("span",{className:"bg-fuchsia-50 border border-fuchsia-300 text-fuchsia-700 px-2 py-0.5 rounded",children:"Manejo/Seguridad"}),e("span",{className:"bg-slate-50 border-2 border-dashed border-slate-300 text-slate-400 px-2 py-0.5 rounded",children:"Deshabilitado"})]})]})]})},ha=Oa(({house:t,index:r,isExpanded:a,onToggle:n,onUpdate:o,masterOrigin:s,masterDestination:l,isReadOnly:c})=>{const d=K(m=>{var C,A,_,f,O,k,T,R;const x=`shipper${m.charAt(0).toUpperCase()+m.slice(1)}`;return t[x]!==void 0&&t[x]!==""?t[x]:m==="name"?t.shipperName||((C=t.shipper)==null?void 0:C.name)||"":m==="taxId"?((A=t.shipper)==null?void 0:A.taxId)||"":m==="address"?((f=(_=t.shipper)==null?void 0:_.address)==null?void 0:f.street)||"":m==="city"?((k=(O=t.shipper)==null?void 0:O.address)==null?void 0:k.place)||"":m==="country"&&((R=(T=t.shipper)==null?void 0:T.address)==null?void 0:R.countryCode)||""},[t]),u=K(m=>{var C,A,_,f,O,k,T,R;const x=`consignee${m.charAt(0).toUpperCase()+m.slice(1)}`;return t[x]!==void 0&&t[x]!==""?t[x]:m==="name"?t.consigneeName||((C=t.consignee)==null?void 0:C.name)||"":m==="taxId"?((A=t.consignee)==null?void 0:A.taxId)||"":m==="address"?((f=(_=t.consignee)==null?void 0:_.address)==null?void 0:f.street)||"":m==="city"?((k=(O=t.consignee)==null?void 0:O.address)==null?void 0:k.place)||"":m==="country"&&((R=(T=t.consignee)==null?void 0:T.address)==null?void 0:R.countryCode)||""},[t]),i=K((m,x)=>{const C={...t,[m]:x};o(r,C)},[t,r,o]),p=K((m,x)=>{const C={...t},A=`shipper${m.charAt(0).toUpperCase()+m.slice(1)}`;C[A]=x,C.shipper||(C.shipper={name:"",address:{street:"",place:"",countryCode:"",postalCode:""}}),m==="name"?(C.shipper.name=x,C.shipperName=x):m==="taxId"?C.shipper.taxId=x:m==="address"?C.shipper.address.street=x:m==="city"?C.shipper.address.place=x:m==="country"&&(C.shipper.address.countryCode=x),o(r,C)},[t,r,o]),b=K((m,x)=>{const C={...t},A=`consignee${m.charAt(0).toUpperCase()+m.slice(1)}`;C[A]=x,C.consignee||(C.consignee={name:"",address:{street:"",place:"",countryCode:"",postalCode:""}}),m==="name"?(C.consignee.name=x,C.consigneeName=x):m==="taxId"?C.consignee.taxId=x:m==="address"?C.consignee.address.street=x:m==="city"?C.consignee.address.place=x:m==="country"&&(C.consignee.address.countryCode=x),o(r,C)},[t,r,o]);return e("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[e("button",{type:"button",onClick:()=>n(r),className:"w-full bg-slate-50 px-3 py-2 border-b border-slate-200 flex items-center justify-between hover:bg-slate-100 transition-colors",children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"bg-sky-100 text-sky-700 w-6 h-6 rounded-full text-xs font-bold flex items-center justify-center",children:r+1}),e("span",{className:"font-mono font-bold text-slate-800 text-sm",children:t.hawbNumber||"Sin HAWB"}),e("span",{className:"text-slate-400 text-xs",children:"|"}),e("span",{className:"text-xs text-slate-600 truncate max-w-[150px]",title:String(d("name")||""),children:[String(d("name")||"?")," → ",String(u("name")||"?")]})]}),e("div",{className:"flex items-center gap-4",children:[e("div",{className:"text-right",children:[e("span",{className:"text-sm font-semibold text-slate-700",children:[t.pieces," pcs"]}),e("span",{className:"text-slate-400 mx-1",children:"/"}),e("span",{className:"text-sm font-semibold text-slate-700",children:[t.weight," kg"]})]}),a?e(Dt,{size:16,className:"text-slate-400"}):e(Ke,{size:16,className:"text-slate-400"})]})]}),a&&e("div",{className:"p-3 space-y-3 animate-in slide-in-from-top-1 duration-150",children:[e("div",{className:"grid grid-cols-5 gap-2",children:[e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-purple-600 uppercase font-bold mb-0.5",children:"HAWB *"}),e("input",{type:"text",value:t.hawbNumber||"",onChange:m=>i("hawbNumber",m.target.value),readOnly:c,maxLength:12,className:"text-sm border border-purple-200 rounded px-2 py-1 focus:ring-1 focus:ring-purple-400 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Origen"}),e("input",{type:"text",value:t.origin||s,onChange:m=>i("origin",m.target.value),readOnly:c,maxLength:3,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Destino"}),e("input",{type:"text",value:t.destination||l,onChange:m=>i("destination",m.target.value),readOnly:c,maxLength:3,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Piezas *"}),e("input",{type:"number",value:t.pieces,onChange:m=>i("pieces",parseInt(m.target.value)||0),readOnly:c,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Peso *"}),e("input",{type:"number",step:"0.01",value:t.weight,onChange:m=>i("weight",parseFloat(m.target.value)||0),readOnly:c,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]})]}),e("div",{className:"grid grid-cols-2 gap-2",children:[e("div",{className:"bg-sky-50/50 border border-sky-100 rounded p-2",children:[e("div",{className:"text-[10px] font-bold text-sky-600 mb-1 flex items-center gap-1",children:[e(Pt,{size:10})," SHIPPER"]}),e("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[e("input",{placeholder:"Nombre *",value:d("name"),onChange:m=>p("name",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border border-sky-200 rounded text-xs"}),e("input",{placeholder:"NIT/Tax ID",value:d("taxId"),onChange:m=>p("taxId",m.target.value),readOnly:c,className:"px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Dirección",value:d("address"),onChange:m=>p("address",m.target.value),readOnly:c,className:"col-span-3 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Ciudad",value:d("city"),onChange:m=>p("city",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"País",value:d("country"),onChange:m=>p("country",m.target.value),readOnly:c,maxLength:2,className:"px-1.5 py-1 border rounded text-xs"})]})]}),e("div",{className:"bg-purple-50/50 border border-purple-100 rounded p-2",children:[e("div",{className:"text-[10px] font-bold text-purple-600 mb-1 flex items-center gap-1",children:[e(et,{size:10})," CONSIGNEE"]}),e("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[e("input",{placeholder:"Nombre *",value:u("name"),onChange:m=>b("name",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border border-purple-200 rounded text-xs"}),e("input",{placeholder:"NIT/Tax ID",value:u("taxId"),onChange:m=>b("taxId",m.target.value),readOnly:c,className:"px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Dirección",value:u("address"),onChange:m=>b("address",m.target.value),readOnly:c,className:"col-span-3 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Ciudad",value:u("city"),onChange:m=>b("city",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"País",value:u("country"),onChange:m=>b("country",m.target.value),readOnly:c,maxLength:2,className:"px-1.5 py-1 border rounded text-xs"})]})]})]}),e("div",{className:"grid grid-cols-2 gap-2",children:[e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Nature of Goods *"}),e("input",{type:"text",value:t.natureOfGoods||"",onChange:m=>i("natureOfGoods",m.target.value),readOnly:c,maxLength:500,className:"text-xs border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-0.5",children:"Common Name"}),e("input",{type:"text",value:t.commonName||"",onChange:m=>i("commonName",m.target.value),readOnly:c,maxLength:500,className:"text-xs border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-purple-600 uppercase font-bold mb-0.5 flex items-center gap-1",children:[e(uo,{size:10})," HTS Codes (Arancelarios)"]}),e("div",{className:"flex flex-wrap gap-1 min-h-[28px] p-1.5 bg-purple-50 border border-purple-200 rounded",children:[(t.htsCodes||[]).length>0&&t.htsCodes.map((m,x)=>e("span",{className:"inline-flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-0.5 rounded text-xs font-mono",children:[m,!c&&e("button",{onClick:()=>{const C=t.htsCodes.filter((A,_)=>_!==x);i("htsCodes",C)},className:"hover:text-red-600",children:e(Ee,{size:10})})]},x)),!c&&e("input",{type:"text",placeholder:(t.htsCodes||[]).length>0?"+ Agregar HTS":"Escribe código HTS y presiona Enter",className:"flex-1 min-w-[120px] px-1 py-0.5 text-xs border-0 bg-transparent outline-none placeholder:text-purple-400 placeholder:italic",onKeyDown:m=>{if(m.key==="Enter"&&m.currentTarget.value.trim()){const x=m.currentTarget.value.trim().replace(/\D/g,""),C=t.htsCodes||[];x&&!C.includes(x)&&i("htsCodes",[...C,x]),m.currentTarget.value=""}}}),c&&(t.htsCodes||[]).length===0&&e("span",{className:"text-xs text-purple-400 italic",children:"Sin códigos HTS"})]})]})]})]})},(t,r)=>t.house===r.house&&t.isExpanded===r.isExpanded&&t.isReadOnly===r.isReadOnly&&t.index===r.index);ha.displayName="HouseRow";const So=({title:t,children:r,defaultOpen:a=!1})=>{const[n,o]=M(a);return e("div",{className:"border border-slate-100 rounded overflow-hidden mt-2",children:[e("button",{onClick:()=>o(!n),className:"w-full flex items-center justify-between px-2 py-1.5 bg-slate-50 hover:bg-slate-100 text-xs text-slate-600",children:[e("span",{className:"flex items-center gap-1",children:[n?e(Dt,{size:12}):e(Ke,{size:12}),t]}),e("span",{className:"text-[10px] text-slate-400 bg-slate-200 px-1 rounded",children:"opcional"})]}),n&&e("div",{className:"p-2 bg-white border-t border-slate-100",children:r})]})},ko=t=>typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t)),U=({label:t,value:r,onChange:a,readOnly:n=!1,maxLength:o,placeholder:s,className:l="",type:c="text",required:d=!1})=>{const u=(r==null?void 0:r.toString())||"",i=o&&u.length>o,p=d&&!u.trim(),b=d?p||i?"border-red-300 bg-red-50":"border-purple-300 focus:ring-purple-300":i?"border-red-300 bg-red-50":"border-slate-200 focus:ring-slate-200",m=d?"text-slate-600":"text-slate-400";return e("div",{className:`flex flex-col ${l}`,children:[e("div",{className:"flex justify-between items-center mb-0.5",children:[e("label",{className:`text-[10px] uppercase font-bold flex items-center gap-1 ${m}`,children:[t,d&&e("span",{className:"text-purple-500",children:"*"}),!d&&e("span",{className:"text-[9px] text-slate-300 font-normal normal-case",children:"(opt)"})]}),o&&!n&&e("span",{className:`text-[9px] ${i?"text-red-500 font-bold":"text-slate-400"}`,children:[u.length,"/",o]})]}),n?e("div",{className:`text-sm font-medium py-1.5 border-b min-h-[32px] flex items-center px-2 rounded ${d?"border-slate-200 bg-slate-50":"border-slate-100 bg-slate-50/50"} text-slate-700`,children:u||e("span",{className:"text-slate-400 italic text-xs",children:"-"})}):e("input",{type:c,value:u,onChange:x=>a==null?void 0:a(x.target.value),className:`text-sm border ${b} rounded px-2 py-1.5 focus:ring-1 outline-none transition-all h-[34px]`,placeholder:s})]})},ba=({title:t,icon:r,party:a,onUpdate:n,readOnly:o})=>{var l;const s=(c,d)=>{var u;if(c.includes(".")){const[i,p]=c.split(".");i==="address"?n({...a,address:{...a.address,[p]:d}}):i==="contact"&&n({...a,contact:{...a.contact,identifier:((u=a.contact)==null?void 0:u.identifier)||"TE",[p]:d}})}else n({...a,[c]:d})};return e("div",{className:"bg-white border border-slate-200 rounded-lg p-3 shadow-sm",children:[e("div",{className:"flex items-center gap-2 mb-3 border-b border-slate-100 pb-2",children:[e("div",{className:"bg-purple-100 p-1 rounded text-purple-600",children:r}),e("h3",{className:"font-semibold text-slate-800 text-sm",children:t}),!o&&e("span",{className:"ml-auto text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded flex items-center gap-1",children:e(Me,{size:10})})]}),e("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1.5 text-xs",children:[e(U,{label:"Nombre *",value:a.name,onChange:c=>s("name",c),readOnly:o,maxLength:35,required:!0}),e(U,{label:"Nombre 2",value:a.name2||"",onChange:c=>s("name2",c),readOnly:o,maxLength:35}),e(U,{label:"NIT/Tax ID",value:a.taxId||"",onChange:c=>s("taxId",c),readOnly:o,maxLength:17}),e(U,{label:"No. Cuenta",value:a.accountNumber||"",onChange:c=>s("accountNumber",c),readOnly:o,maxLength:14}),e(U,{label:"Dirección 1 *",value:a.address.street,onChange:c=>s("address.street",c),readOnly:o,maxLength:35,required:!0}),e(U,{label:"Dirección 2",value:a.address.street2||"",onChange:c=>s("address.street2",c),readOnly:o,maxLength:35}),e(U,{label:"Ciudad *",value:a.address.place,onChange:c=>s("address.place",c),readOnly:o,maxLength:17,required:!0}),e(U,{label:"Estado",value:a.address.state||"",onChange:c=>s("address.state",c),readOnly:o,maxLength:9}),e(U,{label:"País (ISO) *",value:a.address.countryCode,onChange:c=>s("address.countryCode",c),readOnly:o,maxLength:2,required:!0}),e(U,{label:"Código Postal",value:a.address.postalCode,onChange:c=>s("address.postalCode",c),readOnly:o,maxLength:9}),e(U,{label:"Teléfono",value:((l=a.contact)==null?void 0:l.number)||"",onChange:c=>s("contact.number",c),readOnly:o,maxLength:25,className:"col-span-2"})]}),e(So,{title:"Campos Adicionales",children:e("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1.5 text-xs",children:[e(U,{label:"Email",value:a.email||"",onChange:c=>s("email",c),readOnly:o,maxLength:70}),e(U,{label:"Fax",value:a.fax||"",onChange:c=>s("fax",c),readOnly:o,maxLength:25})]})})]})},_o=({agent:t,onUpdate:r,readOnly:a})=>{const n=(o,s)=>{r({...t,[o]:s})};return e("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 border border-purple-200 rounded-lg p-4 shadow-sm",children:[e("div",{className:"flex items-center gap-2 mb-4 border-b border-purple-200 pb-2",children:[e("div",{className:"bg-purple-100 p-1.5 rounded text-purple-600",children:e(ca,{size:16})}),e("h3",{className:"font-bold text-purple-800",children:"Agente de Carga (IATA)"}),!a&&e("span",{className:"ml-auto text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded flex items-center gap-1",children:[e(Me,{size:10})," Editable"]})]}),e("div",{className:"grid grid-cols-3 gap-3",children:[e(U,{label:"Nombre del Agente",value:t.name,onChange:o=>n("name",o),readOnly:a,maxLength:35,required:!0,className:"col-span-2"}),e(U,{label:"Código IATA",value:t.iataCode,onChange:o=>n("iataCode",o),readOnly:a,maxLength:7,required:!0}),e(U,{label:"Código CASS",value:t.cassCode||"",onChange:o=>n("cassCode",o),readOnly:a,maxLength:4}),e(U,{label:"Ciudad/Lugar",value:t.place,onChange:o=>n("place",o),readOnly:a,maxLength:17,required:!0}),e(U,{label:"Número de Cuenta",value:t.accountNumber||"",onChange:o=>n("accountNumber",o),readOnly:a,maxLength:14})]})]})},tt=({icon:t,label:r,value:a,subvalue:n,color:o="blue"})=>e("div",{className:`rounded-lg border p-3 ${{blue:"bg-purple-50 border-purple-200 text-purple-700",green:"bg-green-50 border-green-200 text-green-700",amber:"bg-amber-50 border-amber-200 text-amber-700",purple:"bg-purple-50 border-purple-200 text-purple-700",slate:"bg-slate-50 border-slate-200 text-slate-700"}[o]}`,children:[e("div",{className:"flex items-center gap-2 mb-1",children:[t,e("span",{className:"text-xs uppercase font-bold opacity-70",children:r})]}),e("div",{className:"text-lg font-bold",children:a}),n&&e("div",{className:"text-xs opacity-60",children:n})]}),fa=({isOpen:t,onClose:r,shipment:a,onSave:n,onCopySuccess:o,onSaveConfig:s})=>{var pe,he,Z,ne,be,fe,at,Fe,Nt,ue,wa,Ca;const[l,c]=M("parties"),[d,u]=M("fwb"),[i,p]=M(null),[b,m]=M(!1),[x,C]=M([]),[A,_]=M(!1),[f,O]=M(null),[k,T]=M("masterAndHouses"),[R,L]=M("shipper"),[j,V]=M(!1),[S,Y]=M(()=>Xe()),[te,ge]=M(0),ce="CARGO_IMP",[me,Se]=M(new Set),le=Hr(null),ke=Hr(!0),de=(i==null?void 0:i.status)==="DRAFT",E=!de,$e=K(g=>{Se(v=>{const w=new Set(v);return w.has(g)?w.delete(g):w.add(g),w})},[]),Te=K(()=>{Ka(),vo(),ge(0),r()},[r]),Ge=K((g,v)=>{p(w=>{if(!w)return w;const y=[...w.houseBills];return y[g]=v,{...w,houseBills:y}})},[]);Ye(()=>(ke.current=!0,()=>{ke.current=!1,le.current!==null&&(window.clearTimeout(le.current),le.current=null)}),[]),Ye(()=>{a&&(p(ko(a)),u("fwb"),c("parties"),C([]),O(null),T("masterAndHouses"),L("shipper"),Se(new Set))},[a]);const Ve=ct(()=>{var g,v;if(!i)return{fwbMessage:null,fhlMessages:null,concatenatedFhl:null,policyInfo:null,error:null};if(l!=="json")return{fwbMessage:null,fhlMessages:null,concatenatedFhl:null,policyInfo:null,error:null};try{const w=((g=i.awbNumber)==null?void 0:g.split("-")[0])||"000",y=It.getPolicyInfo(w);console.log(`[CARGO-IMP] Regenerando (v${te}) con política: ${y.airlineName}, segmentos habilitados: ${((v=y.policy.enabledSegments)==null?void 0:v.length)||0}`);const B=It.generateFWB(i);let X=[],Re="";return i.hasHouses&&i.houseBills.length>0&&(X=i.houseBills.map(Oe=>It.generateFHL(i,Oe)),Re=It.generateConcatenatedFHL(i)),{fwbMessage:B,fhlMessages:X.length>0?X:null,concatenatedFhl:Re,policyInfo:y,error:null}}catch(w){return console.error("[CARGO-IMP Generation Error]",w),{fwbMessage:null,fhlMessages:null,concatenatedFhl:null,policyInfo:null,error:w.message||"Error generando EDI"}}},[l,i,ce,te]),{fwbMessage:D,fhlMessages:re,concatenatedFhl:we,policyInfo:q,error:ze}=Ve,wt=K((g,v)=>{if(!(i!=null&&i.awbNumber))return;const w=i.awbNumber.split("-")[0]||"000",B=Object.keys(se).includes(g);B?Qa(w,g,v):Za(w,g,v),ge(X=>X+1),console.log(`[CARGO-IMP] Toggle segmento ${B?"FHL":"FWB"} ${g} -> ${v?"HABILITADO":"DESHABILITADO"} para ${w}`)},[i]),Ct=K(()=>{if(!(D!=null&&D.fullMessage))return;let g=D.fullMessage;i!=null&&i.hasHouses&&k==="masterAndHouses"&&we&&(g=D.fullMessage+`

`+we),z(g);const v={allSuccess:!0,summary:`✅ Mensaje EDI copiado al clipboard. FWB${i!=null&&i.hasHouses?` + ${i.houseBills.length} FHL`:""}.`,fwbMessage:D.fullMessage,fhlMessages:re==null?void 0:re.map(w=>w.fullMessage)};O(v),i&&o&&o(i.id,g)},[D,we,re,i,k,o]),[rt,yt]=M(!1),[Wt,h]=M(!1),N=ct(()=>{var g,v,w;return!!((g=i==null?void 0:i.descartesConfig)!=null&&g.endpoint&&((v=i==null?void 0:i.descartesConfig)!=null&&v.username)&&((w=i==null?void 0:i.descartesConfig)!=null&&w.password))},[i==null?void 0:i.descartesConfig]),G=K(async()=>{if(!(!(D!=null&&D.fullMessage)||!(i!=null&&i.descartesConfig))){yt(!0),h(!1),O(null);try{const g=new io({endpoint:i.descartesConfig.endpoint,username:i.descartesConfig.username,password:i.descartesConfig.password}),v=D.fullMessage,w=i.awbNumber;let y=[],B=[];i.hasHouses&&k==="masterAndHouses"&&re&&(y=re.map(Oe=>Oe.fullMessage),B=i.houseBills.map(Oe=>Oe.hawbNumber));const X=await g.sendBundle(v,w,y,B),Re={allSuccess:X.allSuccess,summary:X.summary,fwbMessage:v,fhlMessages:y.length>0?y:void 0,transmissionResult:X};O(Re),h(X.allSuccess),X.allSuccess&&o&&o(i.id,`TRANSMITTED: ${w}`)}catch(g){const v=g instanceof Error?g.message:"Error desconocido";O({allSuccess:!1,summary:`❌ Error de transmisión: ${v}`,fwbMessage:D.fullMessage})}finally{yt(!1)}}},[D,re,i,k,o]),z=K(g=>{navigator.clipboard.writeText(g),m(!0),le.current!==null&&window.clearTimeout(le.current),le.current=window.setTimeout(()=>{ke.current&&m(!1),le.current=null},2e3)},[]),{totalWeightCharge:F,totalOtherCharges:H,grandTotal:W}=ct(()=>{if(!i)return{totalWeightCharge:0,totalOtherCharges:0,grandTotal:0};const g=i.rates.reduce((w,y)=>w+y.total,0),v=i.otherCharges.reduce((w,y)=>w+y.amount,0);return{totalWeightCharge:g,totalOtherCharges:v,grandTotal:g+v}},[i]);if(!t||!i)return null;const ie=[{id:"parties",icon:xo,label:"Partes"},{id:"cargo",icon:Be,label:"Carga"},{id:"financials",icon:la,label:"Cargos"},{id:"security",icon:ga,label:"Seguridad"},{id:"houses",icon:ft,label:i.hasHouses?`Houses (${i.houseBills.length})`:"Houses"},{id:"summary",icon:Ht,label:"Resumen"},{id:"json",icon:vt,label:"EDI"}];return e("div",{className:"modal-overlay fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:[e("div",{className:"modal-content bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[88vh] flex flex-col overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-gradient-to-r from-slate-50 to-purple-50",children:[e("div",{className:"flex items-center gap-4",children:[e("div",{className:"bg-purple-600 p-2.5 rounded-lg text-white shadow-md",children:e(Je,{size:22})}),e("div",{children:[e("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[de?"Editor de Envío":"Visualización de Envío",de&&e("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-medium flex items-center gap-1",children:[e(Me,{size:10})," MODO EDICIÓN"]}),!de&&e("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full font-medium",children:"SOLO LECTURA"})]}),e("p",{className:"text-sm text-slate-500 font-mono",children:["AWB: ",e("span",{className:"font-bold text-slate-700",children:i.awbNumber})]})]})]}),e("div",{className:"flex items-center gap-3",children:[e("div",{className:`px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-1 ${i.status==="DRAFT"?"bg-gray-100 text-gray-600":i.status==="TRANSMITTED"?"bg-amber-100 text-amber-700":i.status==="ACKNOWLEDGED"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i.status==="ACKNOWLEDGED"&&e(Ae,{size:12}),i.status==="REJECTED"&&e(ve,{size:12}),i.status==="TRANSMITTED"&&e(nr,{size:12}),i.status]}),e("button",{onClick:()=>V(!0),className:"text-slate-500 hover:text-purple-600 hover:bg-purple-50 p-2 rounded-lg transition-colors",title:"Configuración del Conector",children:e(cr,{size:20})}),e("button",{onClick:Te,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-lg transition-colors",children:e(Ee,{size:20})})]})]}),e("div",{className:"px-6 border-b border-slate-200 flex gap-1 bg-white overflow-x-auto flex-nowrap min-h-[46px]",children:ie.map(g=>e("button",{onClick:()=>c(g.id),className:`py-3 px-4 text-xs font-semibold border-b-2 transition-all flex items-center gap-2 whitespace-nowrap flex-shrink-0 ${l===g.id?"border-purple-600 text-purple-700 bg-purple-50 rounded-t-lg":"border-transparent text-slate-600 hover:text-purple-600 hover:bg-slate-50"}`,children:[e(g.icon,{size:14}),g.label]},g.id))}),x.length>0&&e("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 text-red-700 font-bold mb-2",children:[e(ve,{size:16})," Errores de Validación"]}),e("ul",{className:"text-sm text-red-600 list-disc list-inside",children:x.map((g,v)=>e("li",{children:g},v))})]}),e("div",{className:"flex-1 overflow-y-auto px-4 py-3 bg-slate-50/30",style:{maxHeight:"calc(90vh - 120px)"},children:[l==="summary"&&e("div",{className:"space-y-4",children:[e("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[e(tt,{icon:e(lr,{size:14}),label:"Origen",value:i.origin,color:"blue"}),e(tt,{icon:e(lr,{size:14}),label:"Destino",value:i.destination,color:"green"}),e(tt,{icon:e(Be,{size:14}),label:"Piezas",value:i.pieces,color:"amber"}),e(tt,{icon:e(bo,{size:14}),label:"Peso",value:`${i.weight} ${i.weightUnit==="KILOGRAM"?"KG":"LB"}`,color:"purple"}),e(tt,{icon:e(la,{size:14}),label:"Total",value:`${i.currency} ${W.toFixed(2)}`,color:"green"}),e(tt,{icon:e(Je,{size:14}),label:"Vuelos",value:i.flights.length,subvalue:((pe=i.flights[0])==null?void 0:pe.flightNumber)||"Sin vuelo",color:"slate"})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3 text-purple-600",children:[e(Pt,{size:16})," ",e("span",{className:"font-bold text-sm",children:"SHIPPER (Exportador)"})]}),e("p",{className:"font-bold text-slate-800",children:i.shipper.name}),e("p",{className:"text-sm text-slate-500",children:i.shipper.address.street}),e("p",{className:"text-sm text-slate-500",children:[i.shipper.address.place,", ",i.shipper.address.countryCode]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3 text-green-600",children:[e(et,{size:16})," ",e("span",{className:"font-bold text-sm",children:"CONSIGNEE (Importador)"})]}),e("p",{className:"font-bold text-slate-800",children:i.consignee.name}),e("p",{className:"text-sm text-slate-500",children:i.consignee.address.street}),e("p",{className:"text-sm text-slate-500",children:[i.consignee.address.place,", ",i.consignee.address.countryCode]})]}),e("div",{className:"bg-white border border-amber-200 rounded-lg p-4 bg-amber-50/50",children:[e("div",{className:"flex items-center gap-2 mb-3 text-amber-600",children:[e(ca,{size:16})," ",e("span",{className:"font-bold text-sm",children:"AGENT (Agente IATA)"})]}),e("p",{className:"font-bold text-slate-800",children:i.agent.name}),e("p",{className:"text-sm text-slate-500",children:[e("span",{className:"font-semibold",children:"IATA:"})," ",i.agent.iataCode,i.agent.cassCode&&e("span",{className:"ml-2",children:[e("span",{className:"font-semibold",children:"CASS:"})," ",i.agent.cassCode]})]}),e("p",{className:"text-sm text-slate-500",children:i.agent.place})]})]}),e("div",{className:"bg-gradient-to-r from-purple-50 to-purple-50 border border-purple-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3 text-purple-700",children:[e(Me,{size:16})," ",e("span",{className:"font-bold text-sm",children:"FIRMA Y EJECUCIÓN"})]}),e("div",{className:"grid grid-cols-3 gap-4",children:[e("div",{children:[e("span",{className:"text-xs text-purple-500 uppercase",children:"Firma Autorizada"}),e("p",{className:"font-bold text-lg text-purple-800",children:i.signature||"Sin firma"})]}),e("div",{children:[e("span",{className:"text-xs text-purple-500 uppercase",children:"Fecha de Ejecución"}),e("p",{className:"font-bold text-lg text-purple-800",children:i.executionDate})]}),e("div",{children:[e("span",{className:"text-xs text-purple-500 uppercase",children:"Lugar de Ejecución"}),e("p",{className:"font-bold text-lg text-purple-800",children:i.executionPlace})]})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-3",children:"DESCRIPCIÓN DE MERCANCÍA"}),e("div",{className:"grid grid-cols-3 gap-4",children:[e(U,{label:"Descripción (Backend)",value:i.description,onChange:g=>p({...i,description:g}),readOnly:E,maxLength:500,className:"col-span-2"}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Tipo de Envío"}),e("div",{className:`text-sm font-medium py-2 px-3 rounded ${i.hasHouses?"bg-amber-50 border border-amber-200 text-amber-800":"bg-slate-50 border border-slate-200 text-slate-700"}`,children:i.hasHouses?e("span",{className:"flex items-center gap-2",children:[e(ft,{size:14}),"CONSOLIDADO (",i.houseBills.length," Hijas)"]}):e("span",{className:"flex items-center gap-2",children:[e(Be,{size:14}),"DIRECTO ",i.flights.length>1&&`(${i.flights.length} Rutas)`]})})]})]}),e("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("p",{className:"text-xs font-bold text-blue-800 flex items-center gap-1",children:[e(Ze,{size:12}),"GOODS DESCRIPTION (Lo que se enviará a Traxon)"]}),e("span",{className:"text-[10px] text-blue-600",children:"Máx 25 chars/línea • Usa Enter para saltos"})]}),e("div",{className:"mb-3",children:[e("label",{className:"text-[10px] text-blue-700 font-bold mb-1 block",children:"Override Manual (deja vacío para usar automático):"}),e("textarea",{value:i.goodsDescriptionOverride||"",onChange:g=>p({...i,goodsDescriptionOverride:g.target.value||void 0}),placeholder:`Ej: FRESH CUT FLOWERS
PERISHABLE CARGO`,disabled:E,className:"w-full px-2 py-1.5 border border-blue-300 rounded text-sm font-mono bg-white focus:ring-2 focus:ring-blue-400 outline-none disabled:bg-slate-50 resize-none",rows:3,maxLength:200}),e("div",{className:"flex justify-between text-[10px] text-blue-500 mt-1",children:[e("span",{children:"Usa Enter para nueva línea (cada línea máx 25 chars)"}),e("span",{children:[(i.goodsDescriptionOverride||"").length,"/200"]})]})]}),e("div",{className:"border-t border-blue-200 pt-2",children:[e("p",{className:"text-[10px] text-blue-700 font-bold mb-1",children:"Preview Final:"}),(()=>{var B;const g=((B=i.awbNumber)==null?void 0:B.split("-")[0])||"";let v="",w="";i.goodsDescriptionOverride?(v=i.goodsDescriptionOverride.toUpperCase(),w="override"):i.hasHouses?(v=`CONSOLIDATION AS PER
ATTACHED DOCUMENTS`,w="consolidado"):["145","985"].includes(g)?(v=i.commodityCode==="0609"||i.commodityCode==="609"?"CONSOLIDATE FLOWERS":"CUT FLOWERS",w="latam"):(v=ta(i.description,150)||"FRESH CUT FLOWERS",w="auto");const y=v.split(`
`);return e("div",{className:"font-mono text-sm",children:[y.map((X,Re)=>e("div",{className:"flex items-center gap-2",children:[e("span",{className:`${X.length>25?"text-red-600 bg-red-100":"text-blue-900 bg-white"} px-2 py-0.5 rounded border ${X.length>25?"border-red-300":"border-blue-200"}`,children:X||"(vacío)"}),e("span",{className:`text-[10px] ${X.length>25?"text-red-500 font-bold":"text-blue-500"}`,children:["(",X.length,"/25)",X.length>25&&" ⚠️ EXCEDE"]})]},Re)),e("p",{className:"text-[10px] text-blue-600 mt-2",children:["Total: ",v.length," chars | ",y.length," líneas |",e("span",{className:`ml-1 font-bold ${w==="override"?"text-purple-600":w==="consolidado"?"text-amber-600":w==="latam"?"text-green-600":"text-blue-600"}`,children:[w==="override"&&"✏️ Override manual",w==="consolidado"&&"📦 Consolidado (fijo)",w==="latam"&&"✈️ LATAM (específico)",w==="auto"&&"🔄 Saneado automático"]})]})]})})()]})]}),i.hasHouses&&e("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e("p",{className:"text-xs text-amber-700 font-medium mb-2",children:[e(ft,{size:12,className:"inline mr-1"}),"Este envío consolidado transmitirá: 1 Master AWB (FWB) + 1 Lista de Consolidación (CSL) + ",i.houseBills.length," House Waybills (FHL)"]}),e("div",{className:"flex flex-wrap gap-2",children:i.houseBills.map((g,v)=>e("span",{className:"text-xs bg-white px-2 py-1 rounded border border-amber-200 text-amber-800 font-mono",children:g.hawbNumber},v))})]})]}),de&&e("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[e("div",{className:"flex items-center justify-between",children:[e("div",{children:[e("p",{className:"font-bold text-emerald-800",children:"📟 Generador CARGO-IMP (EDI)"}),e("p",{className:"text-sm text-emerald-600",children:"Formato: FWB/16, FWB/17, FHL/4"}),i.hasHouses&&e("p",{className:"text-xs text-purple-500 mt-1",children:["Consolidado: Master + ",i.houseBills.length," House(s)"]}),!i.hasHouses&&i.flights.length>1&&e("p",{className:"text-xs text-purple-500 mt-1",children:["Directo con ",i.flights.length," rutas"]})]}),e("div",{className:"flex items-center gap-3",children:[i.hasHouses&&e("div",{className:"flex flex-col items-end",children:[e("label",{className:"text-[10px] text-purple-600 uppercase font-bold mb-1",children:"Contenido"}),e("select",{value:k,onChange:g=>T(g.target.value),className:"text-sm border border-purple-300 rounded px-3 py-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white",children:[e("option",{value:"masterAndHouses",children:["FWB + ",i.houseBills.length," FHL"]}),e("option",{value:"masterOnly",children:"Solo FWB (Master)"})]})]}),e("button",{onClick:Ct,disabled:!(D!=null&&D.fullMessage)||rt,className:"bg-slate-600 hover:bg-slate-700 disabled:bg-gray-400 text-white px-4 py-3 rounded-lg flex items-center gap-2 font-medium transition-all shadow-md hover:shadow-lg",children:b?e(ae,{children:[e(da,{size:18})," ¡Copiado!"]}):e(ae,{children:[e(ht,{size:18})," Copiar EDI"]})}),N&&e("button",{onClick:G,disabled:!(D!=null&&D.fullMessage)||rt,className:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-slate-400 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-bold transition-all shadow-lg hover:shadow-xl",children:rt?e(ae,{children:[e(ho,{size:18,className:"animate-spin"})," Transmitiendo..."]}):Wt?e(ae,{children:[e(Ae,{size:18})," ¡Transmitido!"]}):e(ae,{children:[e(fo,{size:18})," Transmitir a Descartes"]})})]})]}),f&&e("div",{className:`mt-4 p-4 rounded-lg border-2 shadow-lg ${f.allSuccess?"bg-gradient-to-r from-green-100 to-emerald-100 border-green-400 animate-pulse":"bg-gradient-to-r from-red-100 to-orange-100 border-red-400 animate-pulse"}`,style:{animationDuration:"2s"},children:[e("div",{className:"flex items-center gap-2 mb-2",children:[f.allSuccess?e(Ae,{size:24,className:"text-green-600 animate-bounce"}):e(ve,{size:24,className:"text-red-600 animate-bounce"}),e("span",{className:`font-bold text-lg ${f.allSuccess?"text-green-700":"text-red-700"}`,children:f.transmissionResult?f.allSuccess?"✅ TRANSMITIDO":"❌ ERROR TRANSMISIÓN":f.allSuccess?"✅ EDI COPIADO":"❌ ERROR"})]}),e("div",{className:`text-base font-bold py-2 px-3 rounded-lg mb-3 ${f.allSuccess?"bg-green-200/70 text-green-800 border border-green-300":"bg-red-200/70 text-red-800 border border-red-300"}`,children:["📊 ",f.summary]}),f.transmissionResult&&e("div",{className:"mt-2 text-xs bg-white/70 p-3 rounded border border-slate-200 space-y-2",children:[e("div",{className:"p-2 rounded bg-slate-50 border border-slate-200",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:`text-lg ${f.transmissionResult.fwbResult.success?"text-green-600":"text-red-600"}`,children:f.transmissionResult.fwbResult.success?"✓":"✗"}),e("strong",{className:"text-sm",children:["FWB (",f.transmissionResult.fwbResult.reference,")"]})]}),f.transmissionResult.fwbResult.descartesResponse&&e("div",{className:"ml-6 text-xs space-y-0.5",children:[f.transmissionResult.fwbResult.descartesResponse.tid&&e("p",{children:[e("span",{className:"text-slate-500",children:"TID:"})," ",e("span",{className:"font-mono text-blue-700",children:f.transmissionResult.fwbResult.descartesResponse.tid})]}),f.transmissionResult.fwbResult.descartesResponse.status&&e("p",{children:[e("span",{className:"text-slate-500",children:"Status:"})," ",e("span",{className:"text-green-700 font-medium",children:f.transmissionResult.fwbResult.descartesResponse.status})]}),f.transmissionResult.fwbResult.descartesResponse.bytesReceived&&e("p",{children:[e("span",{className:"text-slate-500",children:"Bytes:"})," ",f.transmissionResult.fwbResult.descartesResponse.bytesReceived]}),f.transmissionResult.fwbResult.descartesResponse.error&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Error:"})," ",f.transmissionResult.fwbResult.descartesResponse.error]}),f.transmissionResult.fwbResult.descartesResponse.errorDetail&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Detalle:"})," ",f.transmissionResult.fwbResult.descartesResponse.errorDetail]})]}),f.transmissionResult.fwbResult.error&&!f.transmissionResult.fwbResult.descartesResponse&&e("p",{className:"ml-6 text-red-600",children:f.transmissionResult.fwbResult.error})]}),f.transmissionResult.fhlResults.map((g,v)=>e("div",{className:"p-2 rounded bg-slate-50 border border-slate-200",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:`text-lg ${g.success?"text-green-600":"text-red-600"}`,children:g.success?"✓":"✗"}),e("strong",{className:"text-sm",children:["FHL (",g.reference,")"]})]}),g.descartesResponse&&e("div",{className:"ml-6 text-xs space-y-0.5",children:[g.descartesResponse.tid&&e("p",{children:[e("span",{className:"text-slate-500",children:"TID:"})," ",e("span",{className:"font-mono text-blue-700",children:g.descartesResponse.tid})]}),g.descartesResponse.status&&e("p",{children:[e("span",{className:"text-slate-500",children:"Status:"})," ",e("span",{className:"text-green-700 font-medium",children:g.descartesResponse.status})]}),g.descartesResponse.error&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Error:"})," ",g.descartesResponse.error]}),g.descartesResponse.errorDetail&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Detalle:"})," ",g.descartesResponse.errorDetail]})]}),g.error&&!g.descartesResponse&&e("p",{className:"ml-6 text-red-600",children:g.error})]},v)),e("div",{className:"pt-2 border-t border-slate-300 flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:["📈 Total: ",e("strong",{children:[f.transmissionResult.totalSuccess,"/",f.transmissionResult.totalSent]})," exitosos"]}),f.transmissionResult.totalFailed>0&&e("span",{className:"text-red-600 font-medium",children:["⚠️ ",f.transmissionResult.totalFailed," fallidos"]})]})]}),!f.transmissionResult&&f.fwbMessage&&e("div",{className:"mt-2 text-xs font-mono bg-white/70 p-2 rounded border border-slate-200",children:e("p",{children:[e("strong",{children:"FWB:"})," Mensaje generado correctamente"]})}),!f.transmissionResult&&f.fhlMessages&&f.fhlMessages.length>0&&e("div",{className:"mt-1 text-xs font-mono bg-white/70 p-2 rounded border border-slate-200",children:e("p",{className:"font-bold mb-1",children:[e("strong",{children:"FHL:"})," ",f.fhlMessages.length," mensaje(s) FHL generado(s)"]})})]})]})]}),l==="parties"&&e("div",{className:"space-y-4",children:[e("div",{className:"grid grid-cols-2 gap-4",children:[e(ba,{title:"SHIPPER (Exportador)",icon:e(Pt,{size:16}),party:i.shipper,onUpdate:g=>p({...i,shipper:g}),readOnly:E}),e(ba,{title:"CONSIGNEE (Importador)",icon:e(et,{size:16}),party:i.consignee,onUpdate:g=>p({...i,consignee:g}),readOnly:E})]}),e(_o,{agent:i.agent,onUpdate:g=>p({...i,agent:g}),readOnly:E}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-3 flex items-center gap-2",children:[e(Me,{size:14})," FIRMA Y EJECUCIÓN DEL TRANSPORTISTA"]}),e("div",{className:"grid grid-cols-3 gap-4",children:[e(U,{label:"Firma Autorizada",value:i.signature,onChange:g=>p({...i,signature:g}),readOnly:E,maxLength:20,required:!0}),e(U,{label:"Fecha de Ejecución",value:i.executionDate,onChange:g=>p({...i,executionDate:g}),readOnly:E,type:"date",required:!0}),e(U,{label:"Lugar de Ejecución",value:i.executionPlace,onChange:g=>p({...i,executionPlace:g}),readOnly:E,maxLength:17,required:!0})]})]})]}),l==="cargo"&&e("div",{className:"space-y-4",children:[e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"DATOS PRINCIPALES AWB"}),e("div",{className:"grid grid-cols-5 gap-3",children:[e(U,{label:"AWB Number *",value:i.awbNumber,onChange:g=>p({...i,awbNumber:g}),readOnly:E,maxLength:12,required:!0}),e(U,{label:"Origen (IATA) *",value:i.origin,onChange:g=>p({...i,origin:g}),readOnly:E,maxLength:3,required:!0}),e(U,{label:"Destino (IATA) *",value:i.destination,onChange:g=>p({...i,destination:g}),readOnly:E,maxLength:3,required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Pago *"}),e("select",{value:i.paymentMethod,onChange:g=>p({...i,paymentMethod:g.target.value}),disabled:E,className:"text-sm border border-slate-300 rounded px-2 py-1.5 focus:ring-2 focus:ring-purple-500 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"Prepaid",children:"Prepaid"}),e("option",{value:"Collect",children:"Collect"})]})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Servicio"}),e("select",{value:i.serviceCode||"",onChange:g=>p({...i,serviceCode:g.target.value}),disabled:E,className:"text-sm border border-slate-200 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"",children:"--"}),e("option",{value:"AIRPORT_TO_AIRPORT",children:"A-A"}),e("option",{value:"DOOR_TO_DOOR_SERVICE",children:"D-D"}),e("option",{value:"AIRPORT_TO_DOOR",children:"A-D"}),e("option",{value:"DOOR_TO_AIRPORT",children:"D-A"})]})]})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"PESO Y VOLUMEN"}),e("div",{className:"grid grid-cols-6 gap-3",children:[e(U,{label:"Piezas *",value:i.pieces,onChange:g=>p({...i,pieces:parseInt(g)||0}),readOnly:E,type:"number",required:!0}),e(U,{label:"Peso Total *",value:i.weight,onChange:g=>p({...i,weight:parseFloat(g)||0}),readOnly:E,type:"number",required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Unidad"}),e("select",{value:i.weightUnit,onChange:g=>p({...i,weightUnit:g.target.value}),disabled:E,className:"text-sm border border-slate-200 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"KILOGRAM",children:"KG"}),e("option",{value:"POUND",children:"LB"})]})]}),e(U,{label:"Volumen",value:i.volume,onChange:g=>p({...i,volume:parseFloat(g)||0}),readOnly:E,type:"number"}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Vol Unit"}),e("select",{value:i.volumeUnit||"CUBIC_METRE",onChange:g=>p({...i,volumeUnit:g.target.value}),disabled:E,className:"text-sm border border-slate-200 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"CUBIC_METRE",children:"m³"}),e("option",{value:"CUBIC_CENTIMETRE",children:"cm³"}),e("option",{value:"CUBIC_FOOT",children:"ft³"})]})]}),e(U,{label:"SLAC",value:i.slac||"",onChange:g=>p({...i,slac:parseInt(g)||0}),readOnly:E,type:"number"})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2 flex items-center gap-2",children:[e(Je,{size:14})," VUELOS / ROUTING"]}),i.flights.length===0?e("p",{className:"text-slate-500 italic text-sm",children:"Sin vuelos asignados"}):e("div",{className:"space-y-2",children:i.flights.map((g,v)=>e("div",{className:"grid grid-cols-4 gap-3 bg-slate-50 p-2 rounded-lg",children:[e(U,{label:"Vuelo",value:g.flightNumber,onChange:w=>{const y=[...i.flights];y[v]={...g,flightNumber:w},p({...i,flights:y})},readOnly:E}),e(U,{label:"Fecha",value:g.date,onChange:w=>{const y=[...i.flights];y[v]={...g,date:w},p({...i,flights:y})},readOnly:E,type:"date"}),e(U,{label:"Origen",value:g.origin,readOnly:!0}),e(U,{label:"Destino",value:g.destination,readOnly:!0})]},v))})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"DESCRIPCIÓN DE MERCANCÍA"}),e("div",{className:"grid grid-cols-2 gap-3",children:[e(U,{label:"Descripción *",value:i.description,onChange:g=>p({...i,description:g}),readOnly:E,maxLength:500,required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"SPH Codes"}),e("div",{className:"text-sm bg-slate-50 px-2 py-1.5 rounded border border-slate-200 min-h-[32px] flex flex-wrap gap-1",children:i.specialHandlingCodes&&i.specialHandlingCodes.length>0?i.specialHandlingCodes.map(g=>e("span",{className:"bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded text-xs",children:g},g)):e("span",{className:"text-slate-400 text-xs",children:"Ninguno"})})]})]})]})]}),l==="financials"&&e("div",{className:"space-y-4",children:[e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"CHARGE DECLARATIONS"}),e("div",{className:"grid grid-cols-4 gap-3",children:[e(U,{label:"Moneda (ISO) *",value:i.currency,onChange:g=>p({...i,currency:g}),readOnly:E,maxLength:3,required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Pago Weight *"}),e("select",{value:i.paymentMethod,onChange:g=>p({...i,paymentMethod:g.target.value}),disabled:E,className:"text-sm border border-slate-300 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"Prepaid",children:"Prepaid"}),e("option",{value:"Collect",children:"Collect"})]})]}),e(U,{label:"Valor Declarado Carga",value:i.declaredValueCarriage||"",onChange:g=>p({...i,declaredValueCarriage:g}),readOnly:E}),e(U,{label:"Valor Declarado Aduana",value:i.declaredValueCustoms||"",onChange:g=>p({...i,declaredValueCustoms:g}),readOnly:E})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("h3",{className:"font-bold text-sm text-slate-700",children:"RATE CHARGES"}),!E&&e("button",{onClick:()=>p({...i,rates:[...i.rates,{pieces:0,weight:0,rateClassCode:"QUANTITY_RATE",rateOrCharge:0,total:0,description:""}]}),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200",children:"+ Añadir Rate"})]}),e("table",{className:"w-full text-xs",children:[e("thead",{className:"bg-slate-100",children:e("tr",{children:[e("th",{className:"text-left p-1.5 w-16",children:"Pzas"}),e("th",{className:"text-left p-1.5 w-20",children:"Peso"}),e("th",{className:"text-left p-1.5 w-24",children:"P.Cobr"}),e("th",{className:"text-left p-1.5 w-28",children:"Clase"}),e("th",{className:"text-left p-1.5 w-20",children:"Tarifa"}),e("th",{className:"text-left p-1.5 w-32",children:"Desc. Merc."}),e("th",{className:"text-right p-1.5 w-24",children:"Total"}),!E&&e("th",{className:"w-8"})]})}),e("tbody",{children:i.rates.map((g,v)=>e("tr",{className:"border-b",children:[e("td",{className:"p-1",children:e("input",{type:"number",value:g.pieces,onChange:w=>{const y=[...i.rates];y[v]={...g,pieces:parseInt(w.target.value)||0},p({...i,rates:y})},disabled:E,className:"w-full px-1 py-0.5 border border-slate-200 rounded text-xs disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("input",{type:"number",value:g.weight,onChange:w=>{const y=[...i.rates],B=parseFloat(w.target.value)||0;y[v]={...g,weight:B,total:B*(g.rateOrCharge||0)},p({...i,rates:y})},disabled:E,className:"w-full px-1 py-0.5 border border-slate-200 rounded text-xs disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("input",{type:"number",value:g.chargeableWeight||g.weight,onChange:w=>{const y=[...i.rates];y[v]={...g,chargeableWeight:parseFloat(w.target.value)||0},p({...i,rates:y})},disabled:E,className:"w-full px-1 py-0.5 border border-purple-200 rounded text-xs font-semibold text-purple-700 disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("select",{value:g.rateClassCode,onChange:w=>{const y=[...i.rates];y[v]={...g,rateClassCode:w.target.value},p({...i,rates:y})},disabled:E,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50",children:[e("option",{value:"QUANTITY_RATE",children:"Q-Cantidad"}),e("option",{value:"MINIMUM_CHARGE",children:"M-Mínimo"}),e("option",{value:"NORMAL_RATE",children:"N-Normal"}),e("option",{value:"SPECIFIC_COMMODITY_RATE",children:"C-SCR"}),e("option",{value:"BASIC_CHARGE",children:"B-Básico"})]})}),e("td",{className:"p-1",children:e("input",{type:"number",step:"0.01",value:g.rateOrCharge,onChange:w=>{const y=[...i.rates],B=parseFloat(w.target.value)||0,X=g.chargeableWeight||g.weight;y[v]={...g,rateOrCharge:B,total:X*B},p({...i,rates:y})},disabled:E,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("input",{type:"text",value:g.goodsDescriptionOverride||"",placeholder:"Auto",onChange:w=>{const y=[...i.rates];y[v]={...g,goodsDescriptionOverride:w.target.value||void 0},p({...i,rates:y})},disabled:E,className:"w-full px-1 py-0.5 border border-amber-200 rounded text-xs disabled:bg-slate-50 placeholder:text-slate-400",title:"Descripción de mercancía (ej: CONSOLIDATE FLOWERS). Deja vacío para usar valor automático."})}),e("td",{className:"p-1 text-right font-bold",children:[i.currency," ",g.total.toFixed(2)]}),!E&&e("td",{className:"p-1",children:e("button",{onClick:()=>{const w=i.rates.filter((y,B)=>B!==v);p({...i,rates:w})},className:"text-red-500 hover:text-red-700",children:e(Ee,{size:14})})})]},v))}),e("tfoot",{className:"bg-purple-50",children:e("tr",{children:[e("td",{colSpan:6,className:"p-1.5 text-right font-bold text-xs",children:"Total Weight:"}),e("td",{className:"p-1.5 text-right font-bold text-purple-700",children:[i.currency," ",F.toFixed(2)]}),!E&&e("td",{})]})})]}),e("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e("div",{className:"flex items-center justify-between mb-2",children:e("p",{className:"text-xs font-bold text-blue-800 flex items-center gap-1",children:[e(Ze,{size:12}),"GOODS DESCRIPTION - Preview por Rate (máx 25 chars/línea)"]})}),e("div",{className:"space-y-2",children:i.rates.map((g,v)=>{var Oe;const w=((Oe=i.awbNumber)==null?void 0:Oe.split("-")[0])||"";let y="",B="";g.goodsDescriptionOverride?(y=g.goodsDescriptionOverride.toUpperCase(),B="override-rate"):i.goodsDescriptionOverride?(y=i.goodsDescriptionOverride.toUpperCase(),B="override-master"):i.hasHouses?(y=`CONSOLIDATION AS PER
ATTACHED DOCUMENTS`,B="consolidado"):["145","985"].includes(w)?(y=i.commodityCode==="0609"||i.commodityCode==="609"?"CONSOLIDATE FLOWERS":"CUT FLOWERS",B="latam"):(y=ta(g.description||i.description,150)||"FRESH CUT FLOWERS",B="auto");const X=y.split(`
`),Re=X.some(qe=>qe.length>25);return e("div",{className:`p-2 rounded border ${Re?"bg-red-50 border-red-200":"bg-white border-blue-100"}`,children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"text-[10px] font-bold text-slate-600",children:["Rate #",v+1]}),e("span",{className:`text-[10px] px-1 rounded ${B==="override-rate"?"bg-purple-100 text-purple-700":B==="override-master"?"bg-indigo-100 text-indigo-700":B==="consolidado"?"bg-amber-100 text-amber-700":B==="latam"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:[B==="override-rate"&&"✏️ Override Rate",B==="override-master"&&"✏️ Override Master",B==="consolidado"&&"📦 Consolidado",B==="latam"&&"✈️ LATAM",B==="auto"&&"🔄 Auto"]})]}),e("div",{className:"font-mono text-xs space-y-0.5",children:X.map((qe,Wo)=>e("div",{className:"flex items-center gap-1",children:[e("span",{className:`px-1 rounded ${qe.length>25?"bg-red-200 text-red-800":"bg-slate-100"}`,children:qe||"(vacío)"}),e("span",{className:`text-[9px] ${qe.length>25?"text-red-600 font-bold":"text-slate-400"}`,children:[qe.length,"/25 ",qe.length>25&&"⚠️"]})]},Wo))})]},v)})}),e("p",{className:"text-[10px] text-blue-600 mt-2",children:'💡 Para editar: escribe en "Desc. Merc." de cada rate, o usa el Override Master arriba en "Descripción de Mercancía"'})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("h3",{className:"font-bold text-sm text-slate-700",children:"OTHER CHARGES"}),!E&&e("button",{onClick:()=>p({...i,otherCharges:[...i.otherCharges,{code:"AW",entitlement:"DueCarrier",paymentMethod:"Prepaid",amount:0}]}),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded hover:bg-amber-200",children:"+ Añadir Cargo"})]}),e("table",{className:"w-full text-xs",children:[e("thead",{className:"bg-slate-100",children:e("tr",{children:[e("th",{className:"text-left p-1.5 w-24",children:"Código"}),e("th",{className:"text-left p-1.5 w-24",children:"Entitlement"}),e("th",{className:"text-left p-1.5 w-24",children:"Pago"}),e("th",{className:"text-right p-1.5 w-28",children:"Monto"}),!E&&e("th",{className:"w-8"})]})}),e("tbody",{children:i.otherCharges.map((g,v)=>e("tr",{className:"border-b",children:[e("td",{className:"p-1",children:e("select",{value:g.code,onChange:w=>{const y=[...i.otherCharges];y[v]={...g,code:w.target.value},p({...i,otherCharges:y})},disabled:E,className:"w-full px-1 py-0.5 border rounded text-xs font-mono disabled:bg-slate-50",children:[e("option",{value:"AW",children:"AW-AWB Fee"}),e("option",{value:"FC",children:"FC-Fuel"}),e("option",{value:"SC",children:"SC-Security"}),e("option",{value:"MY",children:"MY-Customs"}),e("option",{value:"TX",children:"TX-Taxes"}),e("option",{value:"RA",children:"RA-DGR"}),e("option",{value:"CC",children:"CC-Collect Fee"}),e("option",{value:"IN",children:"IN-Insurance"})]})}),e("td",{className:"p-1",children:e("select",{value:g.entitlement,onChange:w=>{const y=[...i.otherCharges];y[v]={...g,entitlement:w.target.value},p({...i,otherCharges:y})},disabled:E,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50",children:[e("option",{value:"DueCarrier",children:"Carrier"}),e("option",{value:"DueAgent",children:"Agent"})]})}),e("td",{className:"p-1",children:e("select",{value:g.paymentMethod,onChange:w=>{const y=[...i.otherCharges];y[v]={...g,paymentMethod:w.target.value},p({...i,otherCharges:y})},disabled:E,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50",children:[e("option",{value:"Prepaid",children:"Prepaid"}),e("option",{value:"Collect",children:"Collect"})]})}),e("td",{className:"p-1",children:e("input",{type:"number",step:"0.01",value:g.amount,onChange:w=>{const y=[...i.otherCharges];y[v]={...g,amount:parseFloat(w.target.value)||0},p({...i,otherCharges:y})},disabled:E,className:"w-full px-1 py-0.5 border rounded text-xs text-right disabled:bg-slate-50"})}),!E&&e("td",{className:"p-1",children:e("button",{onClick:()=>{const w=i.otherCharges.filter((y,B)=>B!==v);p({...i,otherCharges:w})},className:"text-red-500 hover:text-red-700",children:e(Ee,{size:14})})})]},v))}),e("tfoot",{className:"bg-amber-50",children:e("tr",{children:[e("td",{colSpan:3,className:"p-1.5 text-right font-bold text-xs",children:"Total Other:"}),e("td",{className:"p-1.5 text-right font-bold text-amber-700",children:[i.currency," ",H.toFixed(2)]}),!E&&e("td",{})]})})]})]}),e("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-3",children:e("div",{className:"flex justify-between items-center",children:[e("span",{className:"font-bold text-green-800",children:"GRAND TOTAL"}),e("span",{className:"font-bold text-green-800 text-xl",children:[i.currency," ",W.toFixed(2)]})]})})]}),l==="security"&&e("div",{className:"space-y-6",children:[e("div",{className:"bg-gradient-to-br from-purple-50 to-purple-50 border border-purple-200 rounded-lg p-4",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("div",{className:"flex items-center gap-2",children:[e(ga,{size:18,className:"text-purple-600"}),e("h3",{className:"font-bold text-purple-800",children:"Special Handling Codes (SPH)"})]}),e("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:["Default: ",rr(tr(i.awbNumber)).join(", ")]})]}),e("div",{className:"flex flex-wrap gap-2 mb-3",children:(i.specialHandlingCodes&&i.specialHandlingCodes.length>0?i.specialHandlingCodes:rr(tr(i.awbNumber))).map((g,v)=>{var w,y;return e("span",{className:"inline-flex items-center gap-1 bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:[g,((w=Ft[g])==null?void 0:w.description)&&e("span",{className:"text-purple-200 text-xs",children:["(",(y=Ft[g])==null?void 0:y.description,")"]}),!E&&e("button",{onClick:()=>{const B=i.specialHandlingCodes||[];p({...i,specialHandlingCodes:B.filter(X=>X!==g)})},className:"ml-1 hover:bg-purple-700 rounded-full p-0.5",children:e(Ee,{size:12})})]},v)})}),!E&&e("div",{className:"border-t border-purple-200 pt-3",children:[e("p",{className:"text-xs text-purple-600 mb-2 font-medium",children:"Agregar código adicional:"}),e("div",{className:"flex flex-wrap gap-2",children:Object.entries(Ft).map(([g,v])=>{const w=i.specialHandlingCodes||rr(tr(i.awbNumber)),y=w.includes(g);return e("button",{onClick:()=>{p(y?{...i,specialHandlingCodes:w.filter(B=>B!==g)}:{...i,specialHandlingCodes:[...w,g]})},className:`px-2 py-1 rounded text-xs font-medium transition-all ${y?"bg-purple-600 text-white":"bg-white border border-purple-300 text-purple-700 hover:bg-purple-100"}`,title:v.description,children:g},g)})})]}),e("p",{className:"text-xs text-purple-500 mt-3 italic",children:"💡 Si no envías SPH desde tu backend, se usarán los valores por defecto según la aerolínea."})]}),e("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3",children:[e(Ze,{size:18,className:"text-amber-600"}),e("h3",{className:"font-bold text-amber-800",children:"Special Service Request (SSR)"}),e("span",{className:"text-xs bg-amber-100 text-amber-600 px-2 py-0.5 rounded ml-auto",children:"Opcional"})]}),e("textarea",{value:i.specialServiceRequest||"",onChange:g=>p({...i,specialServiceRequest:g.target.value||void 0}),disabled:E,placeholder:"Ej: MUST BE KEPT ABOVE 5 DEGREES CELSIUS. / EN CLOSE POUCH WITH EXPORT DOCUMENTS",className:"w-full px-3 py-2 border border-amber-200 rounded-lg text-sm resize-none h-20 focus:ring-2 focus:ring-amber-300 outline-none disabled:bg-slate-50"}),e("p",{className:"text-xs text-amber-600 mt-2 italic",children:"💡 Instrucciones especiales de servicio que se envían a la aerolínea. Deja vacío si no se requiere."})]}),e("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3",children:[e(Qe,{size:18,className:"text-amber-600"}),e("h3",{className:"font-bold text-amber-800",children:"OCI / Información de Seguridad y Aduanas"})]}),e("div",{className:"bg-white/70 rounded-lg p-3 border border-amber-200",children:[e("p",{className:"text-amber-700 text-sm mb-2 font-bold flex items-center gap-1",children:[e(Ht,{size:14})," Vista previa del OCI que se enviará:"]}),e("div",{className:"space-y-1 text-xs font-mono",children:[(S.includeConsigneeTIN??!0)&&((he=i.consignee)==null?void 0:he.taxId)&&e("div",{className:"bg-green-100 text-green-800 p-2 rounded flex items-center gap-2",children:[e(Ae,{size:12,className:"text-green-600"}),e("span",{children:[e("strong",{children:[((ne=(Z=i.consignee)==null?void 0:Z.address)==null?void 0:ne.countryCode)||"US","/AGT/T/"]}),i.consignee.taxId]}),e("span",{className:"text-green-600 text-[10px] ml-auto",children:"← NIT Importer"})]}),(S.includeConsigneeTIN??!0)&&!((be=i.consignee)!=null&&be.taxId)&&e("div",{className:"bg-slate-100 text-slate-500 p-2 rounded flex items-center gap-2 italic",children:[e(ve,{size:12,className:"text-slate-400"}),e("span",{children:"Importer sin taxId - No se enviará OCI de TIN"})]}),S.includeShipperTIN&&((fe=i.shipper)==null?void 0:fe.taxId)&&e("div",{className:"bg-purple-100 text-purple-800 p-2 rounded flex items-center gap-2",children:[e(Ae,{size:12,className:"text-purple-600"}),e("span",{children:[e("strong",{children:[((Fe=(at=i.shipper)==null?void 0:at.address)==null?void 0:Fe.countryCode)||"CO","/AGT/T/"]}),i.shipper.taxId]}),e("span",{className:"text-purple-600 text-[10px] ml-auto",children:"← NIT Shipper"})]}),((Nt=S.securityOci)==null?void 0:Nt.enabled)&&e(ae,{children:[S.securityOci.regulatedAgentNumber&&e("div",{className:"bg-amber-100 text-amber-800 p-2 rounded flex items-center gap-2",children:[e("span",{children:[e("strong",{children:"CO/AGT/RA/"}),S.securityOci.regulatedAgentNumber]}),e("span",{className:"text-amber-600 text-[10px] ml-auto",children:"← Agente Regulado"})]}),S.securityOci.expiryDate&&e("div",{className:"bg-orange-100 text-orange-800 p-2 rounded",children:[e("strong",{children:"ED/"}),S.securityOci.expiryDate]}),S.securityOci.screeningMethod&&e("div",{className:"bg-blue-100 text-blue-800 p-2 rounded",children:[e("strong",{children:"SM/"}),S.securityOci.screeningMethod]}),S.securityOci.screeningDate&&e("div",{className:"bg-cyan-100 text-cyan-800 p-2 rounded",children:[e("strong",{children:"SD/"}),S.securityOci.screeningDate]}),S.securityOci.screenerName&&e("div",{className:"bg-pink-100 text-pink-800 p-2 rounded",children:[e("strong",{children:"SN/"}),S.securityOci.screenerName]})]}),!(S.includeConsigneeTIN??!0)&&!S.includeShipperTIN&&!((ue=S.securityOci)!=null&&ue.enabled)&&e("div",{className:"bg-slate-100 text-slate-500 p-2 rounded italic",children:"No hay OCI configurados. Activa opciones en el panel de Configuración."})]}),e("p",{className:"text-amber-500 text-[10px] mt-2 italic",children:["💡 Para modificar estos valores, ve al panel de ",e("strong",{children:"Configuración"})," (⚙️)"]})]})]})]}),l==="houses"&&e("div",{className:"space-y-2",children:[e("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-slate-50/95 backdrop-blur-sm py-2 -mt-2 -mx-2 px-2 z-10 border-b border-slate-200",children:[e("div",{className:"flex items-center gap-3",children:[e("h3",{className:"font-bold text-slate-700 text-sm",children:"House Waybills"}),e("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${i.hasHouses?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500"}`,children:i.hasHouses?`${i.houseBills.length} houses`:"Directo"})]}),i.hasHouses&&i.houseBills.length>0&&e("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>Se(new Set(i.houseBills.map((g,v)=>v))),className:"text-[10px] text-purple-600 hover:text-purple-800 px-2 py-1 rounded hover:bg-purple-50",children:"Expandir todo"}),e("button",{onClick:()=>Se(new Set),className:"text-[10px] text-slate-500 hover:text-slate-700 px-2 py-1 rounded hover:bg-slate-100",children:"Colapsar todo"})]})]}),i.hasHouses?e("div",{className:"space-y-1.5 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:i.houseBills.map((g,v)=>e(ha,{house:g,index:v,isExpanded:me.has(v),onToggle:$e,onUpdate:Ge,masterOrigin:i.origin,masterDestination:i.destination,isReadOnly:E},g.id||v))}):e("div",{className:"text-center py-8 text-slate-400",children:[e(Be,{size:32,className:"mx-auto mb-2 opacity-50"}),e("p",{className:"text-sm",children:"Envío directo - No tiene house waybills"})]}),i.hasHouses&&i.houseBills.length>0&&e("div",{className:"mt-3 pt-2 border-t border-slate-200 flex items-center justify-between text-xs text-slate-500",children:[e("span",{children:["Total: ",i.houseBills.reduce((g,v)=>g+v.pieces,0)," piezas, ",i.houseBills.reduce((g,v)=>g+v.weight,0).toFixed(2)," kg"]}),e("span",{className:"text-amber-600 font-medium",children:[me.size," de ",i.houseBills.length," expandidos"]})]})]}),l==="json"&&e("div",{className:"h-full flex flex-col",children:[e("div",{className:"flex items-center justify-between mb-4",children:[e("div",{className:"bg-slate-100 p-1 rounded-lg inline-flex items-center shadow-inner",children:[e("button",{onClick:()=>u("fwb"),className:`px-6 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center gap-2 ${d==="fwb"?"bg-white text-emerald-700 shadow-sm ring-1 ring-black/5 transform scale-105":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[e(vt,{size:14}),"FWB/",((wa=D==null?void 0:D.messageVersion)==null?void 0:wa.split("/")[1])||"16"]}),i.hasHouses&&e("button",{onClick:()=>u("fhl"),className:`px-6 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center gap-2 ${d==="fhl"?"bg-white text-emerald-700 shadow-sm ring-1 ring-black/5 transform scale-105":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[e(ft,{size:14}),"FHL/4 (Houses)"]})]}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>{z(d==="fwb"?(D==null?void 0:D.fullMessage)||"":we||"")},className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[b?e(da,{size:14,className:"text-green-600"}):e(ht,{size:14}),b?"Copiado!":"Copiar EDI"]})})]}),ze&&e("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-center gap-2 text-red-700",children:[e(ve,{size:16})," Error generando EDI: ",ze]}),e("div",{className:"mb-4 p-3 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-lg",children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e(vt,{size:16,className:"text-emerald-600"}),e("span",{className:"font-bold text-emerald-800",children:"Vista EDI - IATA CARGO-IMP"}),e("span",{className:"text-xs bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded",children:(D==null?void 0:D.messageVersion)||"FWB/16"})]}),e("p",{className:"text-xs text-emerald-600",children:"Formato EDI legado IATA Cargo Interchange Message Procedures. Cada segmento se visualiza como una tarjeta editable con límites de caracteres."})]}),q&&e("div",{className:`mb-4 p-3 rounded-lg border ${q.isDefault?"bg-amber-50 border-amber-300":q.source==="custom"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[e("div",{className:"flex items-center justify-between mb-2",children:e("div",{className:"flex items-center gap-2",children:[e(Je,{size:14,className:q.isDefault?"text-amber-600":"text-blue-600"}),e("span",{className:`font-bold text-sm ${q.isDefault?"text-amber-800":"text-blue-800"}`,children:q.airlineName}),e("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${q.source==="custom"?"bg-purple-200 text-purple-700":q.source==="configured"?"bg-blue-200 text-blue-700":"bg-amber-200 text-amber-700"}`,children:q.source==="custom"?"✏️ Personalizada":q.source==="configured"?"✓ Pre-configurada":"⚠️ DEFAULT"})]})}),e("div",{className:"flex flex-wrap gap-2 mb-2",children:[e("span",{className:"text-[10px] bg-white px-1.5 py-0.5 rounded border border-slate-200",children:[e("strong",{children:"FWB:"})," ",q.policy.fwbVersion]}),e("span",{className:"text-[10px] bg-white px-1.5 py-0.5 rounded border border-slate-200",children:[e("strong",{children:"FHL:"})," ",q.policy.fhlVersion]}),q.policy.includeUNB_UNZ&&e("span",{className:"text-[10px] bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded",children:"UNB/UNZ"}),q.policy.ociWithEori&&e("span",{className:"text-[10px] bg-violet-100 text-violet-700 px-1.5 py-0.5 rounded",children:"EORI"}),q.policy.sphCodes&&q.policy.sphCodes.length>0&&e("span",{className:"text-[10px] bg-rose-100 text-rose-700 px-1.5 py-0.5 rounded",children:["SPH: ",q.policy.sphCodes.join(", ")]})]}),q.warnings.length>0&&e("div",{className:"mt-2 space-y-1",children:q.warnings.map((g,v)=>e("p",{className:"text-xs text-amber-700",children:g},v))}),q.isDefault&&e("button",{onClick:()=>V(!0),className:"mt-2 text-xs text-amber-700 underline hover:text-amber-900 flex items-center gap-1",children:[e(cr,{size:12})," Configurar política para aerolínea ",(Ca=i==null?void 0:i.awbNumber)==null?void 0:Ca.split("-")[0]]})]}),ze&&e("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-center gap-2 text-red-700",children:[e(ve,{size:16})," Error generando EDI: ",ze]}),e("div",{className:"flex-1 overflow-y-auto",children:[d==="fwb"&&D&&e(ma,{message:D,onSegmentChange:(g,v)=>{console.log(`[CARGO-IMP] Editando segmento ${g}:`,v)},onToggleSegment:wt}),d==="fhl"&&e(ae,{children:re&&re.length>0?e(ae,{children:[e("div",{className:"mb-3 p-2 bg-purple-50 border border-purple-200 rounded-lg",children:e("span",{className:"text-sm font-bold text-purple-800",children:["📦 ",re.length," Mensaje(s) FHL"]})}),re.map((g,v)=>e("div",{className:"mb-4",children:[e("div",{className:"bg-purple-100 px-3 py-2 rounded-t-lg font-bold text-purple-800 flex items-center gap-2",children:[e(ft,{size:14}),"FHL #",v+1]}),e(ma,{message:g,onSegmentChange:(w,y)=>{console.log(`[CARGO-IMP FHL ${v}] Editando segmento ${w}:`,y)},onToggleSegment:wt})]},v))]}):e("div",{className:"text-slate-400 italic p-4 text-center",children:"No hay houses en este envío. FHL solo se genera para envíos consolidados."})})]}),D&&e("details",{className:"mt-4",children:[e("summary",{className:"cursor-pointer text-sm text-slate-600 hover:text-slate-800 flex items-center gap-2 py-2",children:[e(vt,{size:14})," Ver EDI Raw (Formato plano)"]}),e("div",{className:"bg-slate-900 text-green-400 p-4 rounded-lg overflow-auto font-mono text-xs leading-relaxed max-h-64 mt-2",children:e("pre",{children:D.fullMessage})})]})]})]}),e("div",{className:"px-3 py-2 border-t border-slate-100 flex justify-between items-center bg-white",children:[e("div",{className:"text-[10px] text-slate-400 truncate max-w-[200px]",children:(f==null?void 0:f.allSuccess)&&e("span",{className:"text-green-500",children:"EDI copiado al portapapeles"})}),e("div",{className:"flex gap-1.5",children:[e("button",{onClick:Te,className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded transition-colors",children:"Cerrar"}),de&&D&&e("button",{onClick:Ct,className:"px-4 py-1.5 text-xs bg-emerald-600 hover:bg-emerald-700 text-white rounded transition-colors flex items-center gap-1.5 font-semibold",children:[e(ht,{size:12})," Copiar EDI"]})]})]})]}),e(wo,{isOpen:j,onClose:()=>V(!1),onConfigChange:g=>{Y(g),ge(v=>v+1)},onSaveConfig:s})]})},ur=[{id:"uat-consolidado-20251217-001",status:"DRAFT",awbNumber:"145-11223344",origin:"BOG",destination:"MIA",pieces:75,weight:1275,weightUnit:"KILOGRAM",volume:7.5,volumeUnit:"CUBIC_METRE",dimensions:[{pieces:75,length:100,width:40,height:25,unit:"CENTIMETRE"}],description:"CONSOLIDATE FLOWERS",commodityCode:"0609",currency:"USD",paymentMethod:"Collect",routing:{senderAddress:"REUFFW90AVTOPF/BOG01",recipientAddress:"USCAIR01LUXXSXS"},agent:{name:"AVTOPF CARGO SAS",iataCode:"1234567",cassCode:"0016",place:"BOGOTA"},executionDate:"2025-12-17",executionPlace:"BOGOTA",signature:"AVTOPF",rates:[{pieces:75,weight:1275,chargeableWeight:1350,rateClassCode:"Q",rateOrCharge:1.1,total:1485,description:"CONSOLIDATE FLOWERS",commodityCode:"0609"}],otherCharges:[],oci:[{countryCode:"US",infoIdentifier:"ISS",controlInfo:"REGULATED_AGENT",supplementaryControlInfo:"RA-CO-01234-567"}],specialHandlingCodes:["EAP","PER"],hasHouses:!0,houseBills:[{id:"h1",hawbNumber:"HAWB20251217A",pieces:25,weight:425,shipperName:"FINCA LAS ROSAS SAS",consigneeName:"BLOOM MIAMI LLC",natureOfGoods:"ROSES RED",commonName:"RED ROSES"},{id:"h2",hawbNumber:"HAWB20251217B",pieces:25,weight:425,shipperName:"FLORES DEL CAMPO LTDA",consigneeName:"SUNNY FLOWERS INC",natureOfGoods:"CARNATIONS",commonName:"CARNATIONS"},{id:"h3",hawbNumber:"HAWB20251217C",pieces:25,weight:425,shipperName:"ORQUIDEAS COLOMBIA SAS",consigneeName:"ORCHID WORLD USA",natureOfGoods:"ORCHIDS",commonName:"ORCHIDS"}],shipper:{name:"CONSOLIDADORA FLORES COLOMBIA SAS",address:{street:"CRA 7 NO 140-20 PISO 3",place:"BOGOTA",countryCode:"CO",postalCode:"110121"}},consignee:{name:"USA FLOWER DISTRIBUTORS LLC",address:{street:"8000 NW 36TH STREET SUITE 200",place:"DORAL",state:"FL",countryCode:"US",postalCode:"33166"}},flights:[{flightNumber:"LA4567",date:"2025-12-18",origin:"BOG",destination:"MIA",carrierCode:"LA"}],descartesConfig:{endpoint:"https://wwwtest.myvan.descartes.com/HttpUpload/SimpleUploadHandler.aspx",username:"jgamboa3@gln.com",password:"Avatar4570!",enabled:!0},logs:[]},{id:"uat-directo-20251217-002",status:"DRAFT",awbNumber:"145-55667788",origin:"BOG",destination:"MIA",pieces:25,weight:425,weightUnit:"KILOGRAM",volume:2.5,volumeUnit:"CUBIC_METRE",dimensions:[{pieces:25,length:100,width:40,height:25,unit:"CENTIMETRE"}],description:"CUT FLOWERS",commodityCode:"0603",currency:"USD",paymentMethod:"Collect",routing:{senderAddress:"REUFFW90AVTOPF/BOG01",recipientAddress:"USCAIR01LUXXSXS"},agent:{name:"AVTOPF CARGO SAS",iataCode:"1234567",cassCode:"0016",place:"BOGOTA"},executionDate:"2025-12-17",executionPlace:"BOGOTA",signature:"AVTOPF",rates:[{pieces:25,weight:425,chargeableWeight:450,rateClassCode:"Q",rateOrCharge:1.1,total:495,description:"CUT FLOWERS",commodityCode:"0603"}],otherCharges:[],oci:[{countryCode:"US",infoIdentifier:"ISS",controlInfo:"REGULATED_AGENT",supplementaryControlInfo:"RA-CO-01234-567"}],specialHandlingCodes:["EAP","PER"],hasHouses:!1,houseBills:[],shipper:{name:"FLORES DIRECTAS DE COLOMBIA SAS",address:{street:"CRA 7 NO 140-20 PISO 3",place:"BOGOTA",countryCode:"CO",postalCode:"110121"}},consignee:{name:"DIRECT FLOWERS USA INC",address:{street:"8000 NW 36TH STREET SUITE 100",place:"DORAL",state:"FL",countryCode:"US",postalCode:"33166"}},flights:[{flightNumber:"LA4567",date:"2025-12-18",origin:"BOG",destination:"MIA",carrierCode:"LA"},{flightNumber:"AA1234",date:"2025-12-18",origin:"MIA",destination:"JFK",carrierCode:"AA"}],descartesConfig:{endpoint:"https://wwwtest.myvan.descartes.com/HttpUpload/SimpleUploadHandler.aspx",username:"jgamboa3@gln.com",password:"Avatar4570!",enabled:!0},logs:[]},{id:"uat-iberia-20251217-003",status:"DRAFT",awbNumber:"075-99887766",origin:"BOG",destination:"MAD",pieces:30,weight:510,weightUnit:"KILOGRAM",volume:3,volumeUnit:"CUBIC_METRE",dimensions:[],description:"FRESH FLOWERS",commodityCode:"0603",currency:"USD",paymentMethod:"Prepaid",routing:{senderAddress:"REUFFW90AVTOPF/BOG01",recipientAddress:"USCAIR01LUXXSXS"},agent:{name:"AVTOPF CARGO SAS",iataCode:"1234567",cassCode:"0016",place:"BOGOTA"},executionDate:"2025-12-17",executionPlace:"BOGOTA",signature:"AVTOPF",rates:[{pieces:30,weight:510,chargeableWeight:540,rateClassCode:"Q",rateOrCharge:1.5,total:810,description:"FRESH FLOWERS",commodityCode:"0603"}],otherCharges:[{code:"MY",entitlement:"DueCarrier",amount:25,paymentMethod:"Prepaid"},{code:"AW",entitlement:"DueAgent",amount:15,paymentMethod:"Prepaid"}],oci:[{countryCode:"ES",infoIdentifier:"ISS",controlInfo:"REGULATED_AGENT",supplementaryControlInfo:"RA-CO-01234-567"}],specialHandlingCodes:["ECC","EAP","PER"],hasHouses:!1,houseBills:[],shipper:{name:"EXPORTADORA FLORES IBERIA SAS",address:{street:"CALLE 100 NO 20-30",place:"BOGOTA",countryCode:"CO",postalCode:"110111"}},consignee:{name:"FLORES MADRID SL",address:{street:"CALLE GRAN VIA 123",place:"MADRID",countryCode:"ES",postalCode:"28013"}},flights:[{flightNumber:"IB6524",date:"2025-12-18",origin:"BOG",destination:"MAD",carrierCode:"IB"}],descartesConfig:{endpoint:"https://wwwtest.myvan.descartes.com/HttpUpload/SimpleUploadHandler.aspx",username:"jgamboa3@gln.com",password:"Avatar4570!",enabled:!0},logs:[]}],Ao=`
/* Reset básico para Shadow DOM del Portal */
:host {
  /* No usar all: initial para evitar perder estilos de Tailwind en prod */
  display: block !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 2147483647 !important;
  pointer-events: none !important;
  /* Forzar nuevo stacking context */
  isolation: isolate !important;
  contain: layout style !important;
}

:host([data-visible="true"]) {
  pointer-events: auto !important;
}

/* Contenedor raíz del portal */
#cargo-imp-portal-mount {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 2147483647 !important;
  pointer-events: none !important;
}

#cargo-imp-portal-mount:has(.modal-overlay),
#cargo-imp-portal-mount:has(.fixed) {
  pointer-events: auto !important;
}

*, *::before, *::after {
  box-sizing: border-box;
}

/* ===================================================== */
/* ESTILOS CRÍTICOS PARA PRODUCCIÓN                     */
/* Aseguran layout correcto independiente de Tailwind   */
/* ===================================================== */

/* Flexbox container para la vista fullscreen */
.fixed.inset-0.flex.flex-col {
  display: flex !important;
  flex-direction: column !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
}

/* Flex-1 para contenido scrolleable */
.flex-1 {
  flex: 1 1 0% !important;
}

/* Flex-shrink-0 para header/footer */
.flex-shrink-0 {
  flex-shrink: 0 !important;
}

/* Overflow para scrolling */
.overflow-y-auto {
  overflow-y: auto !important;
}

.overflow-hidden {
  overflow: hidden !important;
}

/* Footer siempre visible al fondo */
footer.flex-shrink-0 {
  flex-shrink: 0 !important;
  margin-top: auto !important;
}

/* Header siempre arriba */
header.flex-shrink-0 {
  flex-shrink: 0 !important;
}

/* Modal overlay */
.modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
  z-index: 50 !important;
}

/* Modal content */
.modal-content {
  display: flex !important;
  flex-direction: column !important;
  background-color: white !important;
  border-radius: 0.75rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  max-height: 88vh !important;
  overflow: hidden !important;
}

/* Grids básicos */
.grid {
  display: grid !important;
}

.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)) !important; }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }
.grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)) !important; }
.grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)) !important; }
.grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)) !important; }

/* Gap */
.gap-1 { gap: 0.25rem !important; }
.gap-2 { gap: 0.5rem !important; }
.gap-3 { gap: 0.75rem !important; }
.gap-4 { gap: 1rem !important; }
.gap-6 { gap: 1.5rem !important; }

/* Padding y margin críticos */
.p-4 { padding: 1rem !important; }
.p-6 { padding: 1.5rem !important; }
.px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }
.px-6 { padding-left: 1.5rem !important; padding-right: 1.5rem !important; }
.py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
.py-3 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
.py-4 { padding-top: 1rem !important; padding-bottom: 1rem !important; }
.py-6 { padding-top: 1.5rem !important; padding-bottom: 1.5rem !important; }
.mb-4 { margin-bottom: 1rem !important; }
.mb-6 { margin-bottom: 1.5rem !important; }

/* Colores de fondo críticos */
.bg-white { background-color: #ffffff !important; }
.bg-gray-50 { background-color: #f9fafb !important; }
.bg-slate-50 { background-color: #f8fafc !important; }
.bg-purple-50 { background-color: #faf5ff !important; }
.bg-purple-600 { background-color: #9333ea !important; }
.bg-purple-700 { background-color: #7c3aed !important; }

/* Colores de texto críticos */
.text-white { color: #ffffff !important; }
.text-slate-500 { color: #64748b !important; }
.text-slate-600 { color: #475569 !important; }
.text-slate-700 { color: #334155 !important; }
.text-slate-800 { color: #1e293b !important; }
.text-slate-900 { color: #0f172a !important; }
.text-purple-600 { color: #9333ea !important; }
.text-purple-700 { color: #7c3aed !important; }

/* Bordes */
.border { border-width: 1px !important; border-style: solid !important; }
.border-t { border-top-width: 1px !important; border-top-style: solid !important; }
.border-b { border-bottom-width: 1px !important; border-bottom-style: solid !important; }
.border-slate-100 { border-color: #f1f5f9 !important; }
.border-slate-200 { border-color: #e2e8f0 !important; }
.border-slate-300 { border-color: #cbd5e1 !important; }

/* Rounded */
.rounded { border-radius: 0.25rem !important; }
.rounded-lg { border-radius: 0.5rem !important; }
.rounded-xl { border-radius: 0.75rem !important; }
.rounded-2xl { border-radius: 1rem !important; }
.rounded-full { border-radius: 9999px !important; }

/* Shadow */
.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important; }
.shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important; }
.shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important; }
.shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important; }

/* CRÍTICO: Gradientes de fondo para vista CompactAwbView */
.bg-gradient-to-br {
  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)) !important;
}
.bg-gradient-to-r {
  background-image: linear-gradient(to right, var(--tw-gradient-stops)) !important;
}
.from-slate-100 { --tw-gradient-from: #f1f5f9 !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(241, 245, 249, 0)) !important; }
.via-purple-50 { --tw-gradient-stops: var(--tw-gradient-from), #faf5ff, var(--tw-gradient-to, rgba(250, 245, 255, 0)) !important; }
.to-indigo-100 { --tw-gradient-to: #e0e7ff !important; }
.from-purple-600 { --tw-gradient-from: #9333ea !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(147, 51, 234, 0)) !important; }
.to-indigo-600 { --tw-gradient-to: #4f46e5 !important; }
.from-purple-700 { --tw-gradient-from: #7c3aed !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(124, 58, 237, 0)) !important; }
.via-purple-800 { --tw-gradient-stops: var(--tw-gradient-from), #6b21a8, var(--tw-gradient-to, rgba(107, 33, 168, 0)) !important; }
.to-indigo-900 { --tw-gradient-to: #312e81 !important; }
.from-sky-300 { --tw-gradient-from: #7dd3fc !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(125, 211, 252, 0)) !important; }
.to-purple-500 { --tw-gradient-to: #a855f7 !important; }
.from-sky-400 { --tw-gradient-from: #38bdf8 !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(56, 189, 248, 0)) !important; }
.from-purple-400 { --tw-gradient-from: #c084fc !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(192, 132, 252, 0)) !important; }
.to-purple-600 { --tw-gradient-to: #9333ea !important; }

/* Backdrop blur */
.backdrop-blur-sm { backdrop-filter: blur(4px) !important; -webkit-backdrop-filter: blur(4px) !important; }

/* Opacidad de fondo blanco */
.bg-white/80 { background-color: rgba(255, 255, 255, 0.8) !important; }
.bg-white/20 { background-color: rgba(255, 255, 255, 0.2) !important; }

/* Colores adicionales de fondo */
.bg-indigo-100 { background-color: #e0e7ff !important; }
.bg-sky-400/20 { background-color: rgba(56, 189, 248, 0.2) !important; }

/* Sticky positioning */
.sticky { position: sticky !important; }
.top-0 { top: 0 !important; }
.z-10 { z-index: 10 !important; }

/* Colores de texto adicionales */
.text-purple-200 { color: #e9d5ff !important; }
.text-sky-100 { color: #e0f2fe !important; }
.text-green-600 { color: #16a34a !important; }
.text-sky-600 { color: #0284c7 !important; }
.text-amber-700 { color: #b45309 !important; }
.text-red-700 { color: #b91c1c !important; }
.text-indigo-600 { color: #4f46e5 !important; }

/* Bordes adicionales */
.border-sky-400/30 { border-color: rgba(56, 189, 248, 0.3) !important; }
.border-white/30 { border-color: rgba(255, 255, 255, 0.3) !important; }

/* Colores de fondo para estados */
.bg-gray-100 { background-color: #f3f4f6 !important; }
.text-gray-600 { color: #4b5563 !important; }
.bg-amber-100 { background-color: #fef3c7 !important; }
.bg-green-100 { background-color: #dcfce7 !important; }
.text-green-700 { color: #15803d !important; }
.bg-red-100 { background-color: #fee2e2 !important; }

/* Overflow */
.overflow-auto { overflow: auto !important; }

/* Flexbox helpers */
.flex { display: flex !important; }
.flex-col { flex-direction: column !important; }
.flex-row { flex-direction: row !important; }
.items-center { align-items: center !important; }
.justify-between { justify-content: space-between !important; }
.justify-center { justify-content: center !important; }

/* Tamaños de texto */
.text-xs { font-size: 0.75rem !important; line-height: 1rem !important; }
.text-sm { font-size: 0.875rem !important; line-height: 1.25rem !important; }
.text-base { font-size: 1rem !important; line-height: 1.5rem !important; }
.text-lg { font-size: 1.125rem !important; line-height: 1.75rem !important; }
.text-xl { font-size: 1.25rem !important; line-height: 1.75rem !important; }
.text-2xl { font-size: 1.5rem !important; line-height: 2rem !important; }
.text-3xl { font-size: 1.875rem !important; line-height: 2.25rem !important; }
.text-4xl { font-size: 2.25rem !important; line-height: 2.5rem !important; }

/* Font weights */
.font-medium { font-weight: 500 !important; }
.font-semibold { font-weight: 600 !important; }
.font-bold { font-weight: 700 !important; }

/* Max widths */
.max-w-6xl { max-width: 72rem !important; }
.max-w-7xl { max-width: 80rem !important; }
.mx-auto { margin-left: auto !important; margin-right: auto !important; }

/* Z-index */
.z-50 { z-index: 50 !important; }

/* Inset-0 */
.inset-0 {
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
}

/* Width/Height */
.w-full { width: 100% !important; }
.h-16 { height: 4rem !important; }
`+`/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-content:""}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-orange-50:oklch(98% .016 73.684);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-200:oklch(90.1% .076 70.697);--color-orange-300:oklch(83.7% .128 66.29);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-orange-800:oklch(47% .157 37.304);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-800:oklch(43.2% .095 166.913);--color-teal-50:oklch(98.4% .014 180.72);--color-teal-300:oklch(85.5% .138 181.071);--color-teal-700:oklch(51.1% .096 186.391);--color-cyan-50:oklch(98.4% .019 200.873);--color-cyan-100:oklch(95.6% .045 203.388);--color-cyan-300:oklch(86.5% .127 207.078);--color-cyan-500:oklch(71.5% .143 215.221);--color-cyan-700:oklch(52% .105 223.128);--color-cyan-800:oklch(45% .085 224.283);--color-sky-50:oklch(97.7% .013 236.62);--color-sky-100:oklch(95.1% .026 236.824);--color-sky-200:oklch(90.1% .058 230.902);--color-sky-300:oklch(82.8% .111 230.318);--color-sky-400:oklch(74.6% .16 232.661);--color-sky-500:oklch(68.5% .169 237.323);--color-sky-600:oklch(58.8% .158 241.966);--color-sky-700:oklch(50% .134 242.749);--color-sky-800:oklch(44.3% .11 240.79);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-blue-900:oklch(37.9% .146 265.522);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-indigo-900:oklch(35.9% .144 278.697);--color-violet-50:oklch(96.9% .016 293.756);--color-violet-100:oklch(94.3% .029 294.588);--color-violet-300:oklch(81.1% .111 293.571);--color-violet-700:oklch(49.1% .27 292.581);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-purple-800:oklch(43.8% .218 303.724);--color-purple-900:oklch(38.1% .176 304.987);--color-fuchsia-50:oklch(97.7% .017 320.058);--color-fuchsia-100:oklch(95.2% .037 318.852);--color-fuchsia-300:oklch(83.3% .145 321.434);--color-fuchsia-400:oklch(74% .238 322.16);--color-fuchsia-500:oklch(66.7% .295 322.15);--color-fuchsia-600:oklch(59.1% .293 322.896);--color-fuchsia-700:oklch(51.8% .253 323.949);--color-pink-50:oklch(97.1% .014 343.198);--color-pink-100:oklch(94.8% .028 342.258);--color-pink-300:oklch(82.3% .12 346.018);--color-pink-700:oklch(52.5% .223 3.958);--color-pink-800:oklch(45.9% .187 3.815);--color-rose-50:oklch(96.9% .015 12.422);--color-rose-100:oklch(94.1% .03 12.58);--color-rose-300:oklch(81% .117 11.638);--color-rose-700:oklch(51.4% .222 16.935);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-slate-950:oklch(12.9% .042 264.695);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-xs:20rem;--container-md:28rem;--container-3xl:48rem;--container-4xl:56rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-wide:.025em;--tracking-wider:.05em;--leading-tight:1.25;--leading-relaxed:1.625;--leading-loose:2;--radius-sm:.25rem;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--animate-bounce:bounce 1s infinite;--blur-sm:8px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.visible{visibility:visible}.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\\/2{top:50%}.right-0{right:calc(var(--spacing)*0)}.right-1{right:calc(var(--spacing)*1)}.right-2{right:calc(var(--spacing)*2)}.right-4{right:calc(var(--spacing)*4)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-1{bottom:calc(var(--spacing)*1)}.bottom-2{bottom:calc(var(--spacing)*2)}.bottom-full{bottom:100%}.left-0{left:calc(var(--spacing)*0)}.left-1{left:calc(var(--spacing)*1)}.left-1\\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.isolate{isolation:isolate}.z-10{z-index:10}.z-50{z-index:50}.z-\\[9999\\]{z-index:9999}.col-span-2{grid-column:span 2/span 2}.col-span-3{grid-column:span 3/span 3}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.-mx-2{margin-inline:calc(var(--spacing)*-2)}.mx-1{margin-inline:calc(var(--spacing)*1)}.mx-3{margin-inline:calc(var(--spacing)*3)}.mx-4{margin-inline:calc(var(--spacing)*4)}.mx-6{margin-inline:calc(var(--spacing)*6)}.mx-auto{margin-inline:auto}.-mt-2{margin-top:calc(var(--spacing)*-2)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-0{margin-bottom:calc(var(--spacing)*0)}.mb-0\\.5{margin-bottom:calc(var(--spacing)*.5)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.ml-0{margin-left:calc(var(--spacing)*0)}.ml-0\\.5{margin-left:calc(var(--spacing)*.5)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-6{margin-left:calc(var(--spacing)*6)}.ml-auto{margin-left:auto}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.table{display:table}.h-0{height:calc(var(--spacing)*0)}.h-0\\.5{height:calc(var(--spacing)*.5)}.h-1{height:calc(var(--spacing)*1)}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-16{height:calc(var(--spacing)*16)}.h-20{height:calc(var(--spacing)*20)}.h-\\[34px\\]{height:34px}.h-full{height:100%}.max-h-20{max-height:calc(var(--spacing)*20)}.max-h-32{max-height:calc(var(--spacing)*32)}.max-h-48{max-height:calc(var(--spacing)*48)}.max-h-60{max-height:calc(var(--spacing)*60)}.max-h-64{max-height:calc(var(--spacing)*64)}.max-h-80{max-height:calc(var(--spacing)*80)}.max-h-96{max-height:calc(var(--spacing)*96)}.max-h-\\[88vh\\]{max-height:88vh}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[200px\\]{max-height:200px}.max-h-\\[400px\\]{max-height:400px}.max-h-\\[500px\\]{max-height:500px}.min-h-\\[28px\\]{min-height:28px}.min-h-\\[32px\\]{min-height:32px}.min-h-\\[46px\\]{min-height:46px}.min-h-screen{min-height:100vh}.w-2{width:calc(var(--spacing)*2)}.w-3{width:calc(var(--spacing)*3)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-8{width:calc(var(--spacing)*8)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-28{width:calc(var(--spacing)*28)}.w-32{width:calc(var(--spacing)*32)}.w-56{width:calc(var(--spacing)*56)}.w-64{width:calc(var(--spacing)*64)}.w-full{width:100%}.w-px{width:1px}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-6xl{max-width:var(--container-6xl)}.max-w-7xl{max-width:var(--container-7xl)}.max-w-\\[80px\\]{max-width:80px}.max-w-\\[120px\\]{max-width:120px}.max-w-\\[150px\\]{max-width:150px}.max-w-\\[200px\\]{max-width:200px}.max-w-md{max-width:var(--container-md)}.max-w-xs{max-width:var(--container-xs)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\\[60px\\]{min-width:60px}.min-w-\\[80px\\]{min-width:80px}.min-w-\\[120px\\]{min-width:120px}.flex-1{flex:1}.flex-shrink{flex-shrink:1}.flex-shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1{--tw-translate-y:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-105{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-45{rotate:45deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-bounce{animation:var(--animate-bounce)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-help{cursor:help}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.flex-nowrap{flex-wrap:nowrap}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-0{gap:calc(var(--spacing)*0)}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-0\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-2{column-gap:calc(var(--spacing)*2)}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-1{row-gap:calc(var(--spacing)*1)}.gap-y-1\\.5{row-gap:calc(var(--spacing)*1.5)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-t-lg{border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg)}.rounded-t-md{border-top-left-radius:var(--radius-md);border-top-right-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-amber-200{border-color:var(--color-amber-200)}.border-amber-300{border-color:var(--color-amber-300)}.border-blue-100{border-color:var(--color-blue-100)}.border-blue-200{border-color:var(--color-blue-200)}.border-blue-300{border-color:var(--color-blue-300)}.border-cyan-300{border-color:var(--color-cyan-300)}.border-emerald-200{border-color:var(--color-emerald-200)}.border-emerald-300{border-color:var(--color-emerald-300)}.border-fuchsia-300{border-color:var(--color-fuchsia-300)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-green-200{border-color:var(--color-green-200)}.border-green-300{border-color:var(--color-green-300)}.border-green-400{border-color:var(--color-green-400)}.border-indigo-200{border-color:var(--color-indigo-200)}.border-indigo-300{border-color:var(--color-indigo-300)}.border-indigo-600{border-color:var(--color-indigo-600)}.border-orange-300{border-color:var(--color-orange-300)}.border-orange-400{border-color:var(--color-orange-400)}.border-pink-300{border-color:var(--color-pink-300)}.border-purple-100{border-color:var(--color-purple-100)}.border-purple-200{border-color:var(--color-purple-200)}.border-purple-300{border-color:var(--color-purple-300)}.border-purple-400{border-color:var(--color-purple-400)}.border-purple-400\\/30{border-color:#c07eff4d}@supports (color:color-mix(in lab,red,red)){.border-purple-400\\/30{border-color:color-mix(in oklab,var(--color-purple-400)30%,transparent)}}.border-purple-500{border-color:var(--color-purple-500)}.border-purple-600{border-color:var(--color-purple-600)}.border-red-200{border-color:var(--color-red-200)}.border-red-300{border-color:var(--color-red-300)}.border-red-400{border-color:var(--color-red-400)}.border-rose-300{border-color:var(--color-rose-300)}.border-sky-100{border-color:var(--color-sky-100)}.border-sky-200{border-color:var(--color-sky-200)}.border-sky-300{border-color:var(--color-sky-300)}.border-sky-400{border-color:var(--color-sky-400)}.border-sky-400\\/30{border-color:#00bcfe4d}@supports (color:color-mix(in lab,red,red)){.border-sky-400\\/30{border-color:color-mix(in oklab,var(--color-sky-400)30%,transparent)}}.border-sky-500{border-color:var(--color-sky-500)}.border-slate-100{border-color:var(--color-slate-100)}.border-slate-200{border-color:var(--color-slate-200)}.border-slate-300{border-color:var(--color-slate-300)}.border-teal-300{border-color:var(--color-teal-300)}.border-transparent{border-color:#0000}.border-violet-300{border-color:var(--color-violet-300)}.border-white{border-color:var(--color-white)}.border-white\\/30{border-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.border-white\\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-white\\/50{border-color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.border-white\\/50{border-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.border-white\\/80{border-color:#fffc}@supports (color:color-mix(in lab,red,red)){.border-white\\/80{border-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-50\\/50{background-color:#fffbeb80}@supports (color:color-mix(in lab,red,red)){.bg-amber-50\\/50{background-color:color-mix(in oklab,var(--color-amber-50)50%,transparent)}}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-200{background-color:var(--color-amber-200)}.bg-black{background-color:var(--color-black)}.bg-black\\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-blue-200{background-color:var(--color-blue-200)}.bg-blue-500{background-color:var(--color-blue-500)}.bg-blue-600{background-color:var(--color-blue-600)}.bg-cyan-50{background-color:var(--color-cyan-50)}.bg-cyan-100{background-color:var(--color-cyan-100)}.bg-cyan-500{background-color:var(--color-cyan-500)}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-emerald-600{background-color:var(--color-emerald-600)}.bg-fuchsia-50{background-color:var(--color-fuchsia-50)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-green-50{background-color:var(--color-green-50)}.bg-green-50\\/50{background-color:#f0fdf480}@supports (color:color-mix(in lab,red,red)){.bg-green-50\\/50{background-color:color-mix(in oklab,var(--color-green-50)50%,transparent)}}.bg-green-100{background-color:var(--color-green-100)}.bg-green-200{background-color:var(--color-green-200)}.bg-green-200\\/70{background-color:#b9f8cfb3}@supports (color:color-mix(in lab,red,red)){.bg-green-200\\/70{background-color:color-mix(in oklab,var(--color-green-200)70%,transparent)}}.bg-green-500{background-color:var(--color-green-500)}.bg-green-600{background-color:var(--color-green-600)}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-orange-50{background-color:var(--color-orange-50)}.bg-orange-100{background-color:var(--color-orange-100)}.bg-orange-500{background-color:var(--color-orange-500)}.bg-orange-600{background-color:var(--color-orange-600)}.bg-pink-50{background-color:var(--color-pink-50)}.bg-pink-100{background-color:var(--color-pink-100)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-50\\/50{background-color:#faf5ff80}@supports (color:color-mix(in lab,red,red)){.bg-purple-50\\/50{background-color:color-mix(in oklab,var(--color-purple-50)50%,transparent)}}.bg-purple-100{background-color:var(--color-purple-100)}.bg-purple-200{background-color:var(--color-purple-200)}.bg-purple-400{background-color:var(--color-purple-400)}.bg-purple-400\\/20{background-color:#c07eff33}@supports (color:color-mix(in lab,red,red)){.bg-purple-400\\/20{background-color:color-mix(in oklab,var(--color-purple-400)20%,transparent)}}.bg-purple-500{background-color:var(--color-purple-500)}.bg-purple-600{background-color:var(--color-purple-600)}.bg-purple-700{background-color:var(--color-purple-700)}.bg-purple-800{background-color:var(--color-purple-800)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-50\\/50{background-color:#fef2f280}@supports (color:color-mix(in lab,red,red)){.bg-red-50\\/50{background-color:color-mix(in oklab,var(--color-red-50)50%,transparent)}}.bg-red-100{background-color:var(--color-red-100)}.bg-red-200{background-color:var(--color-red-200)}.bg-red-200\\/70{background-color:#ffcacab3}@supports (color:color-mix(in lab,red,red)){.bg-red-200\\/70{background-color:color-mix(in oklab,var(--color-red-200)70%,transparent)}}.bg-red-500{background-color:var(--color-red-500)}.bg-rose-50{background-color:var(--color-rose-50)}.bg-rose-100{background-color:var(--color-rose-100)}.bg-sky-50{background-color:var(--color-sky-50)}.bg-sky-50\\/50{background-color:#f0f9ff80}@supports (color:color-mix(in lab,red,red)){.bg-sky-50\\/50{background-color:color-mix(in oklab,var(--color-sky-50)50%,transparent)}}.bg-sky-100{background-color:var(--color-sky-100)}.bg-sky-400{background-color:var(--color-sky-400)}.bg-sky-400\\/20{background-color:#00bcfe33}@supports (color:color-mix(in lab,red,red)){.bg-sky-400\\/20{background-color:color-mix(in oklab,var(--color-sky-400)20%,transparent)}}.bg-sky-500{background-color:var(--color-sky-500)}.bg-sky-600{background-color:var(--color-sky-600)}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-50\\/30{background-color:#f8fafc4d}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/30{background-color:color-mix(in oklab,var(--color-slate-50)30%,transparent)}}.bg-slate-50\\/50{background-color:#f8fafc80}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/50{background-color:color-mix(in oklab,var(--color-slate-50)50%,transparent)}}.bg-slate-50\\/95{background-color:#f8fafcf2}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/95{background-color:color-mix(in oklab,var(--color-slate-50)95%,transparent)}}.bg-slate-100{background-color:var(--color-slate-100)}.bg-slate-200{background-color:var(--color-slate-200)}.bg-slate-300{background-color:var(--color-slate-300)}.bg-slate-600{background-color:var(--color-slate-600)}.bg-slate-800{background-color:var(--color-slate-800)}.bg-slate-900{background-color:var(--color-slate-900)}.bg-teal-50{background-color:var(--color-teal-50)}.bg-transparent{background-color:#0000}.bg-violet-50{background-color:var(--color-violet-50)}.bg-violet-100{background-color:var(--color-violet-100)}.bg-white{background-color:var(--color-white)}.bg-white\\/20{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.bg-white\\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-white\\/30{background-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.bg-white\\/30{background-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.bg-white\\/50{background-color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.bg-white\\/50{background-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.bg-white\\/60{background-color:#fff9}@supports (color:color-mix(in lab,red,red)){.bg-white\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)}}.bg-white\\/70{background-color:#ffffffb3}@supports (color:color-mix(in lab,red,red)){.bg-white\\/70{background-color:color-mix(in oklab,var(--color-white)70%,transparent)}}.bg-white\\/80{background-color:#fffc}@supports (color:color-mix(in lab,red,red)){.bg-white\\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-amber-50{--tw-gradient-from:var(--color-amber-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-600{--tw-gradient-from:var(--color-blue-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-50{--tw-gradient-from:var(--color-emerald-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-50{--tw-gradient-from:var(--color-green-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-100{--tw-gradient-from:var(--color-green-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-50{--tw-gradient-from:var(--color-purple-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-400{--tw-gradient-from:var(--color-purple-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-600{--tw-gradient-from:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-700{--tw-gradient-from:var(--color-purple-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-red-100{--tw-gradient-from:var(--color-red-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-sky-300{--tw-gradient-from:var(--color-sky-300);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-sky-400{--tw-gradient-from:var(--color-sky-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-50{--tw-gradient-from:var(--color-slate-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-100{--tw-gradient-from:var(--color-slate-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-800{--tw-gradient-from:var(--color-slate-800);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-purple-50{--tw-gradient-via:var(--color-purple-50);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-purple-700{--tw-gradient-via:var(--color-purple-700);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-purple-800{--tw-gradient-via:var(--color-purple-800);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-blue-700{--tw-gradient-to:var(--color-blue-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-emerald-50{--tw-gradient-to:var(--color-emerald-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-emerald-100{--tw-gradient-to:var(--color-emerald-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-fuchsia-50{--tw-gradient-to:var(--color-fuchsia-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-100{--tw-gradient-to:var(--color-indigo-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-600{--tw-gradient-to:var(--color-indigo-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-900{--tw-gradient-to:var(--color-indigo-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-50{--tw-gradient-to:var(--color-orange-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-100{--tw-gradient-to:var(--color-orange-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-50{--tw-gradient-to:var(--color-purple-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-500{--tw-gradient-to:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-600{--tw-gradient-to:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-800{--tw-gradient-to:var(--color-purple-800);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-slate-700{--tw-gradient-to:var(--color-slate-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-50{--tw-gradient-to:var(--color-teal-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-yellow-50{--tw-gradient-to:var(--color-yellow-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-0{padding:calc(var(--spacing)*0)}.p-0\\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-1\\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-2\\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-4{padding-right:calc(var(--spacing)*4)}.pb-1{padding-bottom:calc(var(--spacing)*1)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[9px\\]{font-size:9px}.text-\\[10px\\]{font-size:10px}.text-\\[11px\\]{font-size:11px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-all{word-break:break-all}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.text-amber-500{color:var(--color-amber-500)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-amber-800{color:var(--color-amber-800)}.text-blue-100{color:var(--color-blue-100)}.text-blue-400{color:var(--color-blue-400)}.text-blue-500{color:var(--color-blue-500)}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-blue-800{color:var(--color-blue-800)}.text-blue-900{color:var(--color-blue-900)}.text-cyan-700{color:var(--color-cyan-700)}.text-cyan-800{color:var(--color-cyan-800)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-700{color:var(--color-emerald-700)}.text-emerald-800{color:var(--color-emerald-800)}.text-fuchsia-700{color:var(--color-fuchsia-700)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-green-400{color:var(--color-green-400)}.text-green-500{color:var(--color-green-500)}.text-green-600{color:var(--color-green-600)}.text-green-700{color:var(--color-green-700)}.text-green-800{color:var(--color-green-800)}.text-indigo-200{color:var(--color-indigo-200)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-800{color:var(--color-indigo-800)}.text-orange-600{color:var(--color-orange-600)}.text-orange-700{color:var(--color-orange-700)}.text-orange-800{color:var(--color-orange-800)}.text-pink-700{color:var(--color-pink-700)}.text-pink-800{color:var(--color-pink-800)}.text-purple-100{color:var(--color-purple-100)}.text-purple-200{color:var(--color-purple-200)}.text-purple-300{color:var(--color-purple-300)}.text-purple-400{color:var(--color-purple-400)}.text-purple-500{color:var(--color-purple-500)}.text-purple-600{color:var(--color-purple-600)}.text-purple-700{color:var(--color-purple-700)}.text-purple-800{color:var(--color-purple-800)}.text-purple-900{color:var(--color-purple-900)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-red-800{color:var(--color-red-800)}.text-rose-700{color:var(--color-rose-700)}.text-sky-100{color:var(--color-sky-100)}.text-sky-600{color:var(--color-sky-600)}.text-sky-700{color:var(--color-sky-700)}.text-sky-800{color:var(--color-sky-800)}.text-slate-50{color:var(--color-slate-50)}.text-slate-300{color:var(--color-slate-300)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-800{color:var(--color-slate-800)}.text-slate-900{color:var(--color-slate-900)}.text-teal-700{color:var(--color-teal-700)}.text-transparent{color:#0000}.text-violet-700{color:var(--color-violet-700)}.text-white{color:var(--color-white)}.normal-case{text-transform:none}.uppercase{text-transform:uppercase}.italic{font-style:italic}.line-through{text-decoration-line:line-through}.underline{text-decoration-line:underline}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-black{--tw-ring-color:var(--color-black)}.ring-black\\/5{--tw-ring-color:#0000000d}@supports (color:color-mix(in lab,red,red)){.ring-black\\/5{--tw-ring-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.ring-orange-500{--tw-ring-color:var(--color-orange-500)}.ring-purple-400{--tw-ring-color:var(--color-purple-400)}.ring-red-400{--tw-ring-color:var(--color-red-400)}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-150{--tw-duration:.15s;transition-duration:.15s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.outline-none{--tw-outline-style:none;outline-style:none}.group-open\\:rotate-90:is(:where(.group):is([open],:popover-open,:open) *){rotate:90deg}@media(hover:hover){.group-hover\\:block:is(:where(.group):hover *){display:block}.group-hover\\:translate-x-1:is(:where(.group):hover *){--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-hover\\:text-blue-600:is(:where(.group):hover *){color:var(--color-blue-600)}.group-hover\\:text-purple-600:is(:where(.group):hover *){color:var(--color-purple-600)}}.peer-checked\\:bg-amber-500:is(:where(.peer):checked~*){background-color:var(--color-amber-500)}.peer-checked\\:bg-green-600:is(:where(.peer):checked~*){background-color:var(--color-green-600)}.peer-checked\\:bg-purple-600:is(:where(.peer):checked~*){background-color:var(--color-purple-600)}.peer-focus\\:ring-2:is(:where(.peer):focus~*){--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.peer-focus\\:ring-amber-300:is(:where(.peer):focus~*){--tw-ring-color:var(--color-amber-300)}.peer-focus\\:ring-green-300:is(:where(.peer):focus~*){--tw-ring-color:var(--color-green-300)}.peer-focus\\:ring-purple-300:is(:where(.peer):focus~*){--tw-ring-color:var(--color-purple-300)}.placeholder\\:text-purple-400::placeholder{color:var(--color-purple-400)}.placeholder\\:text-slate-400::placeholder{color:var(--color-slate-400)}.placeholder\\:italic::placeholder{font-style:italic}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:top-\\[2px\\]:after{content:var(--tw-content);top:2px}.after\\:left-\\[2px\\]:after{content:var(--tw-content);left:2px}.after\\:h-5:after{content:var(--tw-content);height:calc(var(--spacing)*5)}.after\\:w-5:after{content:var(--tw-content);width:calc(var(--spacing)*5)}.after\\:rounded-full:after{content:var(--tw-content);border-radius:3.40282e38px}.after\\:bg-white:after{content:var(--tw-content);background-color:var(--color-white)}.after\\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.after\\:content-\\[\\'\\'\\]:after{--tw-content:"";content:var(--tw-content)}.peer-checked\\:after\\:translate-x-full:is(:where(.peer):checked~*):after{content:var(--tw-content);--tw-translate-x:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}@media(hover:hover){.hover\\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:border-blue-300:hover{border-color:var(--color-blue-300)}.hover\\:border-green-400:hover{border-color:var(--color-green-400)}.hover\\:border-slate-300:hover{border-color:var(--color-slate-300)}.hover\\:bg-amber-200:hover{background-color:var(--color-amber-200)}.hover\\:bg-black\\/5:hover{background-color:#0000000d}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-black\\/5:hover{background-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.hover\\:bg-blue-200:hover{background-color:var(--color-blue-200)}.hover\\:bg-emerald-700:hover{background-color:var(--color-emerald-700)}.hover\\:bg-green-50\\/30:hover{background-color:#f0fdf44d}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-green-50\\/30:hover{background-color:color-mix(in oklab,var(--color-green-50)30%,transparent)}}.hover\\:bg-green-100:hover{background-color:var(--color-green-100)}.hover\\:bg-green-200:hover{background-color:var(--color-green-200)}.hover\\:bg-green-700:hover{background-color:var(--color-green-700)}.hover\\:bg-indigo-50:hover{background-color:var(--color-indigo-50)}.hover\\:bg-indigo-200:hover{background-color:var(--color-indigo-200)}.hover\\:bg-indigo-700:hover{background-color:var(--color-indigo-700)}.hover\\:bg-purple-50:hover{background-color:var(--color-purple-50)}.hover\\:bg-purple-100:hover{background-color:var(--color-purple-100)}.hover\\:bg-purple-200:hover{background-color:var(--color-purple-200)}.hover\\:bg-purple-600:hover{background-color:var(--color-purple-600)}.hover\\:bg-purple-700:hover{background-color:var(--color-purple-700)}.hover\\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\\:bg-sky-100:hover{background-color:var(--color-sky-100)}.hover\\:bg-slate-50:hover{background-color:var(--color-slate-50)}.hover\\:bg-slate-100:hover{background-color:var(--color-slate-100)}.hover\\:bg-slate-200:hover{background-color:var(--color-slate-200)}.hover\\:bg-slate-200\\/50:hover{background-color:#e2e8f080}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-slate-200\\/50:hover{background-color:color-mix(in oklab,var(--color-slate-200)50%,transparent)}}.hover\\:bg-slate-300:hover{background-color:var(--color-slate-300)}.hover\\:bg-slate-700:hover{background-color:var(--color-slate-700)}.hover\\:bg-white\\/20:hover{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/20:hover{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.hover\\:bg-white\\/30:hover{background-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/30:hover{background-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.hover\\:bg-white\\/50:hover{background-color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/50:hover{background-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.hover\\:text-amber-700:hover{color:var(--color-amber-700)}.hover\\:text-amber-900:hover{color:var(--color-amber-900)}.hover\\:text-indigo-700:hover{color:var(--color-indigo-700)}.hover\\:text-purple-500:hover{color:var(--color-purple-500)}.hover\\:text-purple-600:hover{color:var(--color-purple-600)}.hover\\:text-purple-800:hover{color:var(--color-purple-800)}.hover\\:text-red-600:hover{color:var(--color-red-600)}.hover\\:text-red-700:hover{color:var(--color-red-700)}.hover\\:text-slate-600:hover{color:var(--color-slate-600)}.hover\\:text-slate-700:hover{color:var(--color-slate-700)}.hover\\:text-slate-800:hover{color:var(--color-slate-800)}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-80:hover{opacity:.8}.hover\\:opacity-90:hover{opacity:.9}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\\:border-purple-500:focus{border-color:var(--color-purple-500)}.focus\\:border-slate-400:focus{border-color:var(--color-slate-400)}.focus\\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-amber-300:focus{--tw-ring-color:var(--color-amber-300)}.focus\\:ring-blue-400:focus{--tw-ring-color:var(--color-blue-400)}.focus\\:ring-blue-500:focus{--tw-ring-color:var(--color-blue-500)}.focus\\:ring-emerald-400:focus{--tw-ring-color:var(--color-emerald-400)}.focus\\:ring-purple-200:focus{--tw-ring-color:var(--color-purple-200)}.focus\\:ring-purple-300:focus{--tw-ring-color:var(--color-purple-300)}.focus\\:ring-purple-400:focus{--tw-ring-color:var(--color-purple-400)}.focus\\:ring-purple-500:focus{--tw-ring-color:var(--color-purple-500)}.focus\\:ring-slate-100:focus{--tw-ring-color:var(--color-slate-100)}.focus\\:ring-slate-200:focus{--tw-ring-color:var(--color-slate-200)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-400:disabled{background-color:var(--color-gray-400)}.disabled\\:bg-slate-50:disabled{background-color:var(--color-slate-50)}.disabled\\:bg-slate-400:disabled{background-color:var(--color-slate-400)}.disabled\\:opacity-50:disabled{opacity:.5}@media(min-width:40rem){.sm\\:flex-row{flex-direction:row}.sm\\:px-6{padding-inline:calc(var(--spacing)*6)}}@media(min-width:48rem){.md\\:inline{display:inline}.md\\:w-80{width:calc(var(--spacing)*80)}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:items-center{align-items:center}.md\\:items-end{align-items:flex-end}.md\\:border-t-0{border-top-style:var(--tw-border-style);border-top-width:0}.md\\:border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.md\\:p-8{padding:calc(var(--spacing)*8)}.md\\:pt-0{padding-top:calc(var(--spacing)*0)}.md\\:pl-6{padding-left:calc(var(--spacing)*6)}.md\\:text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.md\\:text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}}@media(min-width:64rem){.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.lg\\:px-8{padding-inline:calc(var(--spacing)*8)}}}:host,:host *,#traxon-portal-mount,#traxon-portal-mount *{--color-white:#fff!important;--color-black:#000!important;--color-slate-50:#f8fafc!important;--color-slate-100:#f1f5f9!important;--color-slate-200:#e2e8f0!important;--color-slate-300:#cbd5e1!important;--color-slate-400:#94a3b8!important;--color-slate-500:#64748b!important;--color-slate-600:#475569!important;--color-slate-700:#334155!important;--color-slate-800:#1e293b!important;--color-slate-900:#0f172a!important;--color-slate-950:#020617!important;--color-gray-50:#f9fafb!important;--color-gray-100:#f3f4f6!important;--color-gray-200:#e5e7eb!important;--color-gray-300:#d1d5db!important;--color-gray-400:#9ca3af!important;--color-gray-500:#6b7280!important;--color-gray-600:#4b5563!important;--color-gray-700:#374151!important;--color-gray-800:#1f2937!important;--color-gray-900:#111827!important;--color-red-50:#fef2f2!important;--color-red-100:#fee2e2!important;--color-red-200:#fecaca!important;--color-red-300:#fca5a5!important;--color-red-400:#f87171!important;--color-red-500:#ef4444!important;--color-red-600:#dc2626!important;--color-red-700:#b91c1c!important;--color-red-800:#991b1b!important;--color-red-900:#7f1d1d!important;--color-orange-50:#fff7ed!important;--color-orange-100:#ffedd5!important;--color-orange-200:#fed7aa!important;--color-orange-300:#fdba74!important;--color-orange-400:#fb923c!important;--color-orange-500:#f97316!important;--color-orange-600:#ea580c!important;--color-orange-700:#c2410c!important;--color-amber-50:#fffbeb!important;--color-amber-100:#fef3c7!important;--color-amber-200:#fde68a!important;--color-amber-300:#fcd34d!important;--color-amber-400:#fbbf24!important;--color-amber-500:#f59e0b!important;--color-amber-600:#d97706!important;--color-amber-700:#b45309!important;--color-amber-800:#92400e!important;--color-amber-900:#78350f!important;--color-yellow-50:#fefce8!important;--color-yellow-100:#fef9c3!important;--color-yellow-200:#fef08a!important;--color-yellow-300:#fde047!important;--color-yellow-400:#facc15!important;--color-yellow-500:#eab308!important;--color-green-50:#f0fdf4!important;--color-green-100:#dcfce7!important;--color-green-200:#bbf7d0!important;--color-green-300:#86efac!important;--color-green-400:#4ade80!important;--color-green-500:#22c55e!important;--color-green-600:#16a34a!important;--color-green-700:#15803d!important;--color-green-800:#166534!important;--color-green-900:#14532d!important;--color-emerald-50:#ecfdf5!important;--color-emerald-100:#d1fae5!important;--color-emerald-500:#10b981!important;--color-emerald-600:#059669!important;--color-sky-50:#f0f9ff!important;--color-sky-100:#e0f2fe!important;--color-sky-200:#bae6fd!important;--color-sky-300:#7dd3fc!important;--color-sky-400:#38bdf8!important;--color-sky-500:#0ea5e9!important;--color-sky-600:#0284c7!important;--color-sky-700:#0369a1!important;--color-sky-800:#075985!important;--color-blue-50:#eff6ff!important;--color-blue-100:#dbeafe!important;--color-blue-200:#bfdbfe!important;--color-blue-300:#93c5fd!important;--color-blue-400:#60a5fa!important;--color-blue-500:#3b82f6!important;--color-blue-600:#2563eb!important;--color-blue-700:#1d4ed8!important;--color-blue-800:#1e40af!important;--color-blue-900:#1e3a8a!important;--color-indigo-50:#eef2ff!important;--color-indigo-100:#e0e7ff!important;--color-indigo-200:#c7d2fe!important;--color-indigo-300:#a5b4fc!important;--color-indigo-400:#818cf8!important;--color-indigo-500:#6366f1!important;--color-indigo-600:#4f46e5!important;--color-indigo-700:#4338ca!important;--color-indigo-800:#3730a3!important;--color-indigo-900:#312e81!important;--color-purple-50:#faf5ff!important;--color-purple-100:#f3e8ff!important;--color-purple-200:#e9d5ff!important;--color-purple-300:#d8b4fe!important;--color-purple-400:#c084fc!important;--color-purple-500:#a855f7!important;--color-purple-600:#9333ea!important;--color-purple-700:#7c3aed!important;--color-purple-800:#6b21a8!important;--color-purple-900:#581c87!important;--color-fuchsia-50:#fdf4ff!important;--color-fuchsia-100:#fae8ff!important;--color-fuchsia-400:#e879f9!important;--color-fuchsia-500:#d946ef!important;--color-fuchsia-600:#c026d3!important;--spacing:.25rem!important;--text-xs:.75rem!important;--text-xs--line-height:1rem!important;--text-sm:.875rem!important;--text-sm--line-height:1.25rem!important;--text-base:1rem!important;--text-base--line-height:1.5rem!important;--text-lg:1.125rem!important;--text-lg--line-height:1.75rem!important;--text-xl:1.25rem!important;--text-xl--line-height:1.75rem!important;--text-2xl:1.5rem!important;--text-2xl--line-height:2rem!important;--text-3xl:1.875rem!important;--text-3xl--line-height:2.25rem!important;--text-4xl:2.25rem!important;--text-4xl--line-height:2.5rem!important;--font-weight-normal:400!important;--font-weight-medium:500!important;--font-weight-semibold:600!important;--font-weight-bold:700!important;--font-mono:ui-monospace,SFMono-Regular,"SF Mono",Menlo,Consolas,monospace!important;--leading-tight:1.25!important;--leading-relaxed:1.625!important;--leading-loose:2!important;--tracking-wide:.025em!important;--tracking-wider:.05em!important;--ease-in-out:cubic-bezier(.4,0,.2,1)!important;--ease-out:cubic-bezier(0,0,.2,1)!important;--blur-sm:4px!important;--default-transition-timing-function:cubic-bezier(.4,0,.2,1)!important;--default-transition-duration:.15s!important;--tw-border-opacity:1!important;--tw-ring-opacity:1!important;--tw-ring-offset-width:0px!important;--tw-ring-offset-color:#fff!important;--radius-sm:.125rem!important;--radius-md:.375rem!important;--radius-lg:.5rem!important;--radius-xl:.75rem!important;--radius-2xl:1rem!important;--radius-full:9999px!important}:host input,:host select,:host textarea,:host button{font-family:inherit!important;font-size:inherit!important;line-height:inherit!important;color:inherit!important}:host input,:host select,:host textarea{border-width:1px;border-style:solid!important;border-color:var(--color-slate-200,#e2e8f0)!important;color:#0f172a!important;background-color:#fff!important}:host input[type=text],:host input[type=number],:host input[type=date],:host input[type=time],:host select{box-sizing:border-box!important;height:34px!important;min-height:34px!important;padding-top:.375rem!important;padding-bottom:.375rem!important}:host select{-webkit-appearance:auto!important;-moz-appearance:auto!important;appearance:auto!important;background-color:#fff!important}:host .border{border-style:solid!important;border-width:1px!important;border-color:var(--color-slate-200,#e2e8f0)!important}:host .focus\\:ring-1:focus{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)!important;--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color)!important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)!important}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-content{syntax:"*";inherits:false;initial-value:""}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}`,Eo=({initialShipment:t,initialShipments:r,onClose:a,isVisible:n,onCopyResult:o,onSaveConfig:s})=>{const[l,c]=M([]),[d,u]=M(null),[i,p]=M(!1),[b,m]=M(!1),x=l.length===1;Ye(()=>{if(n)if(r&&r.length>0){const k=r.map(T=>va(T));c(k),k.length===1&&(u(k[0]),p(!0)),m(!1)}else if(t&&Object.keys(t).length>0){const k=va(t);c([k]),u(k),p(!0),m(!1)}else c([ur[0]]),u(ur[0]),p(!0),m(!1);else p(!1),m(!1)},[n,t,r]);const C=K(k=>{c(T=>T.map(R=>R.id===k.id?k:R)),u(k)},[]),A=K((k,T)=>{const R=`log-${Date.now()}`,L=new Date().toISOString(),j=(d==null?void 0:d.awbNumber)||"";o&&o(!0,j,{timestamp:L,summary:"EDI copiado al portapapeles",ediContent:T});const V={id:R,timestamp:L,type:"OUTBOUND",status:"ACCEPTED",payloadJson:T,responseMessage:"EDI copiado exitosamente",responseTimestamp:new Date().toISOString()};c(S=>S.map(Y=>Y.id!==k?Y:{...Y,logs:[V,...Y.logs||[]]})),console.log(`✅ EDI copiado para shipment ${k}`)},[d,o]),_=K(()=>{p(!1),l.length===1?(u(null),a()):u(null)},[l.length,a]),f=K(()=>{p(!1),m(!1),u(null),a()},[a]);K(()=>{p(!0)},[]);const O=K(k=>{u(k),p(!0)},[]);return n?x&&d?e(fa,{isOpen:i,onClose:_,shipment:d,onSave:C,onCopySuccess:A,onSaveConfig:s}):e(ae,{children:[e(To,{shipments:l,onSelectShipment:O,onClose:f}),e(fa,{isOpen:i,onClose:_,shipment:d,onSave:C,onCopySuccess:A,onSaveConfig:s})]}):null},To=({shipments:t,onSelectShipment:r,onClose:a})=>{const[n,o]=M(""),s=t.filter(c=>{if(!n.trim())return!0;const d=n.toLowerCase();return c.awbNumber.toLowerCase().includes(d)||c.shipper.name.toLowerCase().includes(d)||c.consignee.name.toLowerCase().includes(d)}),l=c=>{switch(c){case"TRANSMITTED":return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:"Pending"});case"ACKNOWLEDGED":return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Confirmed"});case"REJECTED":return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"Rejected"});default:return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-600",children:"Draft"})}};return e("div",{className:"modal-overlay",children:e("div",{className:"modal-content max-w-4xl w-full",children:[e("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 flex items-center justify-between flex-shrink-0",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"bg-white/20 p-2 rounded-lg",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e("div",{children:[e("h2",{className:"text-lg font-bold",children:"Shipment Management"}),e("p",{className:"text-blue-100 text-sm",children:[t.length," AWBs para transmitir"]})]})]}),e("button",{onClick:a,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:e("div",{className:"relative max-w-md",children:[e("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",placeholder:"Buscar AWB, Shipper, Consignee...",value:n,onChange:c=>o(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})}),e("div",{className:"flex-1 overflow-y-auto p-4",style:{maxHeight:"calc(70vh - 150px)"},children:[e("div",{className:"space-y-3",children:s.map(c=>e("div",{onClick:()=>r(c),className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-blue-300 transition-all cursor-pointer group",children:e("div",{className:"flex items-center justify-between",children:e("div",{className:"flex-1",children:[e("div",{className:"flex items-center gap-3 mb-2",children:[e("span",{className:"text-lg font-bold font-mono text-slate-900 group-hover:text-blue-600 transition-colors",children:c.awbNumber}),l(c.status),c.hasHouses&&e("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Consol (",c.houseBills.length,")"]})]}),e("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600",children:[e("div",{children:[e("span",{className:"text-xs text-slate-400 uppercase block",children:"Ruta"}),e("span",{className:"font-semibold",children:[c.origin," → ",c.destination]})]}),e("div",{children:[e("span",{className:"text-xs text-slate-400 uppercase block",children:"Shipper"}),e("span",{className:"truncate block max-w-[150px]",children:c.shipper.name})]}),e("div",{children:[e("span",{className:"text-xs text-slate-400 uppercase block",children:"Piezas/Peso"}),e("span",{className:"font-semibold",children:[c.pieces," pcs / ",c.weight," kg"]})]}),e("div",{className:"flex items-center justify-end",children:e("span",{className:"text-blue-600 group-hover:translate-x-1 transition-transform",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]})]})})},c.id))}),s.length===0&&e("div",{className:"text-center py-12 text-slate-500",children:['No se encontraron guías que coincidan con "',n,'"']})]}),e("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 text-sm text-slate-600",children:"Selecciona una guía para revisar y transmitir a Traxon"})]})})};function Fo(t){if(!t)return"KILOGRAM";const r=t.toUpperCase().trim();return["KG","KGS","KILOGRAM","KILOGRAMS","KILO","KILOS"].includes(r)?"KILOGRAM":["LB","LBS","POUND","POUNDS","LIBRA","LIBRAS"].includes(r)?"POUND":"KILOGRAM"}function Ro(t){if(!t)return;const r=t.toUpperCase().trim();return["CM3","CM³","CUBIC_CENTIMETRE","CUBIC_CENTIMETER","CC"].includes(r)?"CUBIC_CENTIMETRE":(["M3","M³","CUBIC_METRE","CUBIC_METER","CBM"].includes(r),"CUBIC_METRE")}function xa(t){if(!t)return"Prepaid";const r=t.toUpperCase().trim();return["COLLECT","COL","C","COBRAR","POR_COBRAR"].includes(r)?"Collect":(["PREPAID","PRE","P","PP","PREPAGO","PAGADO"].includes(r),"Prepaid")}function Oo(t){if(!t)return"DRAFT";const r=t.toUpperCase().trim();return["DRAFT","BORRADOR","NUEVO","NEW"].includes(r)?"DRAFT":["TRANSMITTED","ENVIADO","SENT","PENDING"].includes(r)?"TRANSMITTED":["ACKNOWLEDGED","ACK","CONFIRMADO","CONFIRMED","OK"].includes(r)?"ACKNOWLEDGED":["REJECTED","RECHAZADO","ERROR","FAILED"].includes(r)?"REJECTED":"DRAFT"}function Lo(t){if(!t)return"CENTIMETRE";const r=t.toUpperCase().trim();return["IN","INCH","INCHES","PULGADA","PULGADAS"].includes(r)?"INCH":"CENTIMETRE"}function Io(t){if(!t)return"QUANTITY_RATE";const r=t.toUpperCase().trim(),a={Q:"QUANTITY_RATE",N:"NORMAL_RATE",M:"MINIMUM_CHARGE",B:"BASIC_CHARGE",C:"SPECIFIC_COMMODITY_RATE",K:"RATE_PER_KILOGRAM",R:"CLASS_RATE_REDUCTION",S:"CLASS_RATE_SURCHARGE",E:"INTERNATIONAL_PRIORITY_SERVICE_RATE",X:"UNIT_LOAD_DEVICE_ADDITIONAL_INFORMATION",Y:"UNIT_LOAD_DEVICE_ADDITIONAL_RATE",U:"UNIT_LOAD_DEVIDE_BASIC_CHARGE_OR_RATE",W:"UNIT_LOAD_DEVICE_DISCOUNT"};return a[r]?a[r]:new Set(Object.values(a)).has(r)?r:"QUANTITY_RATE"}function Po(t){if(!t)return"DueAgent";const r=t.toUpperCase().trim();return["DUECARRIER","DUE_CARRIER","CARRIER","C","AEROLINEA"].includes(r)?"DueCarrier":"DueAgent"}function Mt(t,r){var a,n,o,s,l,c,d,u,i,p;return t?{name:t.name||r.name,name2:t.name2||"",accountNumber:t.accountNumber||"",taxId:t.taxId||t.nit||t.ruc||"",address:{street:((a=t.address)==null?void 0:a.street)||t.direccion||r.address.street,street2:((n=t.address)==null?void 0:n.street2)||"",place:((o=t.address)==null?void 0:o.place)||((s=t.address)==null?void 0:s.city)||t.ciudad||r.address.place,state:((l=t.address)==null?void 0:l.state)||((c=t.address)==null?void 0:c.provincia)||"",countryCode:(((d=t.address)==null?void 0:d.countryCode)||((u=t.address)==null?void 0:u.country)||t.pais||r.address.countryCode).toUpperCase().substring(0,2),postalCode:((i=t.address)==null?void 0:i.postalCode)||((p=t.address)==null?void 0:p.zip)||""},contact:t.contact||r.contact||{identifier:"TE",number:""}}:r}function Do(t,r){return t?{name:t.name||r.name,iataCode:t.iataCode||t.codigoIata||r.iataCode,cassCode:t.cassCode||t.codigoCass||"",place:t.place||t.ciudad||r.place,accountNumber:t.accountNumber||""}:r}function Ho(t){var _,f,O,k,T,R,L,j,V,S,Y,te,ge,ce,me,Se,le,ke,de,E,$e,Te,Ge,Ve,D,re,we,q;const r=t.shipperName||((_=t.shipper)==null?void 0:_.name)||"",a=t.shipperTaxId||((f=t.shipper)==null?void 0:f.taxId)||"",n=t.shipperAddress||((k=(O=t.shipper)==null?void 0:O.address)==null?void 0:k.street)||"",o=t.shipperCity||((R=(T=t.shipper)==null?void 0:T.address)==null?void 0:R.place)||"",s=t.shipperCountry||((j=(L=t.shipper)==null?void 0:L.address)==null?void 0:j.countryCode)||"",l=t.shipperState||((S=(V=t.shipper)==null?void 0:V.address)==null?void 0:S.state)||"",c=t.shipperPostalCode||((te=(Y=t.shipper)==null?void 0:Y.address)==null?void 0:te.postalCode)||"",d=t.shipperPhone||((ce=(ge=t.shipper)==null?void 0:ge.contact)==null?void 0:ce.number)||"",u=t.consigneeName||((me=t.consignee)==null?void 0:me.name)||"",i=t.consigneeTaxId||((Se=t.consignee)==null?void 0:Se.taxId)||"",p=t.consigneeAddress||((ke=(le=t.consignee)==null?void 0:le.address)==null?void 0:ke.street)||"",b=t.consigneeCity||((E=(de=t.consignee)==null?void 0:de.address)==null?void 0:E.place)||"",m=t.consigneeCountry||((Te=($e=t.consignee)==null?void 0:$e.address)==null?void 0:Te.countryCode)||"",x=t.consigneeState||((Ve=(Ge=t.consignee)==null?void 0:Ge.address)==null?void 0:Ve.state)||"",C=t.consigneePostalCode||((re=(D=t.consignee)==null?void 0:D.address)==null?void 0:re.postalCode)||"",A=t.consigneePhone||((q=(we=t.consignee)==null?void 0:we.contact)==null?void 0:q.number)||"";return{id:t.id||`house-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,messageId:t.messageId,hawbNumber:t.hawbNumber||t.numero||"",origin:t.origin||"",destination:t.destination||"",shipperName:r,shipperTaxId:a,shipperAddress:n,shipperCity:o,shipperCountry:s,shipperState:l,shipperPostalCode:c,shipperPhone:d,consigneeName:u,consigneeTaxId:i,consigneeAddress:p,consigneeCity:b,consigneeCountry:m,consigneeState:x,consigneePostalCode:C,consigneePhone:A,pieces:t.pieces??0,weight:t.weight??0,natureOfGoods:t.natureOfGoods||t.descripcion||"",commonName:t.commonName||"",htsCodes:t.htsCodes||[],shipper:t.shipper?Mt(t.shipper,{name:"",address:{street:"",place:"",countryCode:"CO",postalCode:""}}):r?{name:r,taxId:a,address:{street:n,place:o,countryCode:s||"CO",state:l,postalCode:c},contact:d?{identifier:"TE",number:d}:void 0}:void 0,consignee:t.consignee?Mt(t.consignee,{name:"",address:{street:"",place:"",countryCode:"US",postalCode:""}}):u?{name:u,taxId:i,address:{street:p,place:b,countryCode:m||"US",state:x,postalCode:C},contact:A?{identifier:"TE",number:A}:void 0}:void 0}}function Bo(t){return{pieces:t.pieces??0,weight:t.weight??0,chargeableWeight:t.chargeableWeight||t.pesoFacturable,rateClassCode:Io(t.rateClassCode),rateOrCharge:t.rateOrCharge??t.tarifa??0,total:t.total??0,description:t.description||t.descripcion||"",goodsDescriptionOverride:t.goodsDescriptionOverride||t.descripcionMercancia||void 0,commodityCode:t.commodityCode||"",hsCode:t.hsCode||""}}function Mo(t){return{code:t.code||t.codigo||"",entitlement:Po(t.entitlement),amount:t.amount??t.monto??0,paymentMethod:xa(t.paymentMethod)}}function Uo(t){return{length:t.length??t.largo??0,width:t.width??t.ancho??0,height:t.height??t.alto??0,pieces:t.pieces??t.piezas??1,unit:Lo(t.unit)}}function va(t){const r=ur[0],a=(t.rates||r.rates).map(Bo),n=(t.houseBills||[]).map(Ho),o=(t.otherCharges||[]).map(Mo),s=t.dimensions?t.dimensions.map(Uo):void 0;return{id:t.id||`shipment-${Date.now()}`,messageId:t.messageId,status:Oo(t.status),traxonResponse:t.traxonResponse,awbNumber:t.awbNumber||r.awbNumber,origin:(t.origin||r.origin).toUpperCase().substring(0,3),destination:(t.destination||r.destination).toUpperCase().substring(0,3),pieces:t.pieces??r.pieces,weight:t.weight??r.weight,weightUnit:Fo(t.weightUnit),volume:t.volume,volumeUnit:t.volume?Ro(t.volumeUnit):void 0,dimensions:s,description:t.description||r.description,commodityCode:t.commodityCode||r.commodityCode,currency:(t.currency||"USD").toUpperCase(),paymentMethod:xa(t.paymentMethod),shipper:Mt(t.shipper,r.shipper),consignee:Mt(t.consignee,r.consignee),agent:Do(t.agent,r.agent),routing:t.routing||r.routing,flights:t.flights||r.flights,rates:a,otherCharges:o,oci:t.oci||[],specialHandlingCodes:t.specialHandlingCodes||[],specialServiceRequest:t.specialServiceRequest||void 0,chargeSummaryOverride:t.chargeSummaryOverride||void 0,executionDate:t.executionDate||new Date().toISOString().split("T")[0],executionPlace:t.executionPlace||"BOGOTA",signature:t.signature||"AVTOPF",hasHouses:t.hasHouses??n.length>0,houseBills:n,logs:t.logs||[],descartesConfig:t.descartesConfig}}class Ut extends HTMLElement{constructor(){super(),this.portalMountRef=null,this.isVisible=!1,this.currentShipment=null,this.currentShipments=null,this.portalContainer=null,this.portalShadow=null,this.copyResultCallback=null,this.shadowRoot_=this.attachShadow({mode:"open"}),this.mountPoint=document.createElement("div"),this.mountPoint.id="cargo-imp-connector-root",this.shadowRoot_.appendChild(this.mountPoint)}getOrCreatePortal(){if(!this.portalContainer){this.portalContainer=document.createElement("div"),this.portalContainer.id="cargo-imp-connector-portal",this.portalContainer.style.cssText=`
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        z-index: 2147483647 !important;
        pointer-events: none;
      `,document.body.appendChild(this.portalContainer),this.portalShadow=this.portalContainer.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=Ao,this.portalShadow.appendChild(r);const a=document.createElement("div");a.id="cargo-imp-portal-mount",this.portalShadow.appendChild(a)}return{container:this.portalContainer,shadow:this.portalShadow}}updatePortalVisibility(r){this.portalContainer&&(this.portalContainer.style.pointerEvents=r?"auto":"none",this.portalContainer.setAttribute("data-visible",r.toString()))}connectedCallback(){const{shadow:r}=this.getOrCreatePortal(),a=r.getElementById("cargo-imp-portal-mount");a&&(this.portalMountRef=a,this.renderApp())}disconnectedCallback(){this.portalMountRef&&(Er(null,this.portalMountRef),this.portalMountRef=null),this.portalContainer&&this.portalContainer.parentNode&&(this.portalContainer.parentNode.removeChild(this.portalContainer),this.portalContainer=null,this.portalShadow=null)}renderApp(){this.updatePortalVisibility(this.isVisible),this.portalMountRef&&Er(e(Eo,{initialShipment:this.currentShipment,initialShipments:this.currentShipments,onClose:()=>this.close(),isVisible:this.isVisible,onCopyResult:(r,a,n)=>{const o={success:r,awbNumber:a,timestamp:n.timestamp,summary:n.summary,ediContent:n.ediContent};this.copyResultCallback&&this.copyResultCallback(o),this.dispatchEvent(new CustomEvent("cargo-imp-copy-result",{detail:o,bubbles:!0,composed:!0}))},onSaveConfig:r=>{this.dispatchEvent(new CustomEvent("cargo-imp-config-saved",{detail:{config:r,timestamp:new Date().toISOString()},bubbles:!0,composed:!0}))}}),this.portalMountRef)}openWithShipment(r){r.onCopyResult?this.copyResultCallback=r.onCopyResult:this.copyResultCallback=null;const{onCopyResult:a,...n}=r;this.currentShipment=n,this.currentShipments=null,this.isVisible=!0,this.setAttribute("data-visible","true"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-opened",{detail:{shipment:n,mode:"single"},bubbles:!0,composed:!0}))}openWithShipments(r){const a=r.map(n=>{const{onCopyResult:o,...s}=n;return s});this.currentShipment=null,this.currentShipments=a,this.isVisible=!0,this.setAttribute("data-visible","true"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-opened",{detail:{shipments:a,mode:"multiple",count:a.length},bubbles:!0,composed:!0}))}open(){this.currentShipment=null,this.currentShipments=null,this.isVisible=!0,this.setAttribute("data-visible","true"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-opened",{detail:{shipment:null,usingDemo:!0},bubbles:!0,composed:!0}))}close(){this.isVisible=!1,this.currentShipment=null,this.currentShipments=null,this.removeAttribute("data-visible"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-closed",{bubbles:!0,composed:!0}))}getConfig(){return Xe()}loadConfig(r){const n={...Xe(),...r};$r(n),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-config-loaded",{detail:{config:n},bubbles:!0,composed:!0}))}setConfig(r){this.loadConfig(r)}resetConfig(){$r(dt),this.dispatchEvent(new CustomEvent("cargo-imp-config-reset",{bubbles:!0,composed:!0}))}isOpen(){return this.isVisible}}if(customElements.get("traxon-connector")||customElements.define("traxon-connector",Ut),!customElements.get("cargo-imp-connector")){class t extends Ut{}customElements.define("cargo-imp-connector",t)}return St.CargoImpConnectorElement=Ut,St.default=Ut,Object.defineProperties(St,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),St})({});
