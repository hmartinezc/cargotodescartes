var CargoImpConnector=(function(_r){"use strict";var Ir,P,vt,We,Ct,wt,yt,Nt,qr,jr,Xr,gr={},St=[],Ba=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,hr=Array.isArray;function _e(r,t){for(var a in t)r[a]=t[a];return r}function Yr(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Ge(r,t,a){var n,o,s,l={};for(s in t)s=="key"?n=t[s]:s=="ref"?o=t[s]:l[s]=t[s];if(arguments.length>2&&(l.children=arguments.length>3?Ir.call(arguments,2):a),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)l[s]===void 0&&(l[s]=r.defaultProps[s]);return Fr(r,l,n,o,null)}function Fr(r,t,a,n,o){var s={type:r,props:t,key:a,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++vt,__i:-1,__u:0};return o==null&&P.vnode!=null&&P.vnode(s),s}function ie(r){return r.children}function Ie(r,t){this.props=r,this.context=t}function ar(r,t){if(t==null)return r.__?ar(r.__,r.__i+1):null;for(var a;t<r.__k.length;t++)if((a=r.__k[t])!=null&&a.__e!=null)return a.__e;return typeof r.type=="function"?ar(r):null}function At(r){var t,a;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,t=0;t<r.__k.length;t++)if((a=r.__k[t])!=null&&a.__e!=null){r.__e=r.__c.base=a.__e;break}return At(r)}}function kt(r){(!r.__d&&(r.__d=!0)&&We.push(r)&&!Or.__r++||Ct!=P.debounceRendering)&&((Ct=P.debounceRendering)||wt)(Or)}function Or(){for(var r,t,a,n,o,s,l,c=1;We.length;)We.length>c&&We.sort(yt),r=We.shift(),c=We.length,r.__d&&(a=void 0,n=void 0,o=(n=(t=r).__v).__e,s=[],l=[],t.__P&&((a=_e({},n)).__v=n.__v+1,P.vnode&&P.vnode(a),Kr(t.__P,a,n,t.__n,t.__P.namespaceURI,32&n.__u?[o]:null,s,o??ar(n),!!(32&n.__u),l),a.__v=n.__v,a.__.__k[a.__i]=a,Ft(s,a,l),n.__e=n.__=null,a.__e!=o&&At(a)));Or.__r=0}function Tt(r,t,a,n,o,s,l,c,d,p,h){var u,i,m,x,v,k,N,A=n&&n.__k||St,F=t.length;for(d=Ma(a,t,A,d,F),u=0;u<F;u++)(m=a.__k[u])!=null&&(i=m.__i==-1?gr:A[m.__i]||gr,m.__i=u,k=Kr(r,m,i,o,s,l,c,d,p,h),x=m.__e,m.ref&&i.ref!=m.ref&&(i.ref&&Qr(i.ref,null,m),h.push(m.ref,m.__c||x,m)),v==null&&x!=null&&(v=x),(N=!!(4&m.__u))||i.__k===m.__k?d=Et(m,d,r,N):typeof m.type=="function"&&k!==void 0?d=k:x&&(d=x.nextSibling),m.__u&=-7);return a.__e=v,d}function Ma(r,t,a,n,o){var s,l,c,d,p,h=a.length,u=h,i=0;for(r.__k=new Array(o),s=0;s<o;s++)(l=t[s])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=r.__k[s]=Fr(null,l,null,null,null):hr(l)?l=r.__k[s]=Fr(ie,{children:l},null,null,null):l.constructor==null&&l.__b>0?l=r.__k[s]=Fr(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):r.__k[s]=l,d=s+i,l.__=r,l.__b=r.__b+1,c=null,(p=l.__i=$a(l,a,d,u))!=-1&&(u--,(c=a[p])&&(c.__u|=2)),c==null||c.__v==null?(p==-1&&(o>h?i--:o<h&&i++),typeof l.type!="function"&&(l.__u|=4)):p!=d&&(p==d-1?i--:p==d+1?i++:(p>d?i--:i++,l.__u|=4))):r.__k[s]=null;if(u)for(s=0;s<h;s++)(c=a[s])!=null&&(2&c.__u)==0&&(c.__e==n&&(n=ar(c)),Rt(c,c));return n}function Et(r,t,a,n){var o,s;if(typeof r.type=="function"){for(o=r.__k,s=0;o&&s<o.length;s++)o[s]&&(o[s].__=r,t=Et(o[s],t,a,n));return t}r.__e!=t&&(n&&(t&&r.type&&!t.parentNode&&(t=ar(r)),a.insertBefore(r.__e,t||null)),t=r.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function br(r,t){return t=t||[],r==null||typeof r=="boolean"||(hr(r)?r.some(function(a){br(a,t)}):t.push(r)),t}function $a(r,t,a,n){var o,s,l,c=r.key,d=r.type,p=t[a],h=p!=null&&(2&p.__u)==0;if(p===null&&c==null||h&&c==p.key&&d==p.type)return a;if(n>(h?1:0)){for(o=a-1,s=a+1;o>=0||s<t.length;)if((p=t[l=o>=0?o--:s++])!=null&&(2&p.__u)==0&&c==p.key&&d==p.type)return l}return-1}function _t(r,t,a){t[0]=="-"?r.setProperty(t,a??""):r[t]=a==null?"":typeof a!="number"||Ba.test(t)?a:a+"px"}function Rr(r,t,a,n,o){var s,l;e:if(t=="style")if(typeof a=="string")r.style.cssText=a;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(t in n)a&&t in a||_t(r.style,t,"");if(a)for(t in a)n&&a[t]==n[t]||_t(r.style,t,a[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(Nt,"$1")),l=t.toLowerCase(),t=l in r||t=="onFocusOut"||t=="onFocusIn"?l.slice(2):t.slice(2),r.l||(r.l={}),r.l[t+s]=a,a?n?a.u=n.u:(a.u=qr,r.addEventListener(t,s?Xr:jr,s)):r.removeEventListener(t,s?Xr:jr,s);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in r)try{r[t]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&t[4]!="-"?r.removeAttribute(t):r.setAttribute(t,t=="popover"&&a==1?"":a))}}function It(r){return function(t){if(this.l){var a=this.l[t.type+r];if(t.t==null)t.t=qr++;else if(t.t<a.u)return;return a(P.event?P.event(t):t)}}}function Kr(r,t,a,n,o,s,l,c,d,p){var h,u,i,m,x,v,k,N,A,F,f,T,E,O,B,X,_,j=t.type;if(t.constructor!=null)return null;128&a.__u&&(d=!!(32&a.__u),s=[c=t.__e=a.__e]),(h=P.__b)&&h(t);e:if(typeof j=="function")try{if(N=t.props,A="prototype"in j&&j.prototype.render,F=(h=j.contextType)&&n[h.__c],f=h?F?F.props.value:h.__:n,a.__c?k=(u=t.__c=a.__c).__=u.__E:(A?t.__c=u=new j(N,f):(t.__c=u=new Ie(N,f),u.constructor=j,u.render=Wa),F&&F.sub(u),u.state||(u.state={}),u.__n=n,i=u.__d=!0,u.__h=[],u._sb=[]),A&&u.__s==null&&(u.__s=u.state),A&&j.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=_e({},u.__s)),_e(u.__s,j.getDerivedStateFromProps(N,u.__s))),m=u.props,x=u.state,u.__v=t,i)A&&j.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),A&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(A&&j.getDerivedStateFromProps==null&&N!==m&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(N,f),t.__v==a.__v||!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(N,u.__s,f)===!1){for(t.__v!=a.__v&&(u.props=N,u.state=u.__s,u.__d=!1),t.__e=a.__e,t.__k=a.__k,t.__k.some(function(ae){ae&&(ae.__=t)}),T=0;T<u._sb.length;T++)u.__h.push(u._sb[T]);u._sb=[],u.__h.length&&l.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(N,u.__s,f),A&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(m,x,v)})}if(u.context=f,u.props=N,u.__P=r,u.__e=!1,E=P.__r,O=0,A){for(u.state=u.__s,u.__d=!1,E&&E(t),h=u.render(u.props,u.state,u.context),B=0;B<u._sb.length;B++)u.__h.push(u._sb[B]);u._sb=[]}else do u.__d=!1,E&&E(t),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++O<25);u.state=u.__s,u.getChildContext!=null&&(n=_e(_e({},n),u.getChildContext())),A&&!i&&u.getSnapshotBeforeUpdate!=null&&(v=u.getSnapshotBeforeUpdate(m,x)),X=h,h!=null&&h.type===ie&&h.key==null&&(X=Ot(h.props.children)),c=Tt(r,hr(X)?X:[X],t,a,n,o,s,l,c,d,p),u.base=t.__e,t.__u&=-161,u.__h.length&&l.push(u),k&&(u.__E=u.__=null)}catch(ae){if(t.__v=null,d||s!=null)if(ae.then){for(t.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,t.__e=c}else{for(_=s.length;_--;)Yr(s[_]);Zr(t)}else t.__e=a.__e,t.__k=a.__k,ae.then||Zr(t);P.__e(ae,t,a)}else s==null&&t.__v==a.__v?(t.__k=a.__k,t.__e=a.__e):c=t.__e=Ua(a.__e,t,a,n,o,s,l,d,p);return(h=P.diffed)&&h(t),128&t.__u?void 0:c}function Zr(r){r&&r.__c&&(r.__c.__e=!0),r&&r.__k&&r.__k.forEach(Zr)}function Ft(r,t,a){for(var n=0;n<a.length;n++)Qr(a[n],a[++n],a[++n]);P.__c&&P.__c(t,r),r.some(function(o){try{r=o.__h,o.__h=[],r.some(function(s){s.call(o)})}catch(s){P.__e(s,o.__v)}})}function Ot(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:hr(r)?r.map(Ot):_e({},r)}function Ua(r,t,a,n,o,s,l,c,d){var p,h,u,i,m,x,v,k=a.props||gr,N=t.props,A=t.type;if(A=="svg"?o="http://www.w3.org/2000/svg":A=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(p=0;p<s.length;p++)if((m=s[p])&&"setAttribute"in m==!!A&&(A?m.localName==A:m.nodeType==3)){r=m,s[p]=null;break}}if(r==null){if(A==null)return document.createTextNode(N);r=document.createElementNS(o,A,N.is&&N),c&&(P.__m&&P.__m(t,s),c=!1),s=null}if(A==null)k===N||c&&r.data==N||(r.data=N);else{if(s=s&&Ir.call(r.childNodes),!c&&s!=null)for(k={},p=0;p<r.attributes.length;p++)k[(m=r.attributes[p]).name]=m.value;for(p in k)if(m=k[p],p!="children"){if(p=="dangerouslySetInnerHTML")u=m;else if(!(p in N)){if(p=="value"&&"defaultValue"in N||p=="checked"&&"defaultChecked"in N)continue;Rr(r,p,null,m,o)}}for(p in N)m=N[p],p=="children"?i=m:p=="dangerouslySetInnerHTML"?h=m:p=="value"?x=m:p=="checked"?v=m:c&&typeof m!="function"||k[p]===m||Rr(r,p,m,k[p],o);if(h)c||u&&(h.__html==u.__html||h.__html==r.innerHTML)||(r.innerHTML=h.__html),t.__k=[];else if(u&&(r.innerHTML=""),Tt(t.type=="template"?r.content:r,hr(i)?i:[i],t,a,n,A=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,l,s?s[0]:a.__k&&ar(a,0),c,d),s!=null)for(p=s.length;p--;)Yr(s[p]);c||(p="value",A=="progress"&&x==null?r.removeAttribute("value"):x!=null&&(x!==r[p]||A=="progress"&&!x||A=="option"&&x!=k[p])&&Rr(r,p,x,k[p],o),p="checked",v!=null&&v!=r[p]&&Rr(r,p,v,k[p],o))}return r}function Qr(r,t,a){try{if(typeof r=="function"){var n=typeof r.__u=="function";n&&r.__u(),n&&t==null||(r.__u=r(t))}else r.current=t}catch(o){P.__e(o,a)}}function Rt(r,t,a){var n,o;if(P.unmount&&P.unmount(r),(n=r.ref)&&(n.current&&n.current!=r.__e||Qr(n,null,t)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){P.__e(s,t)}n.base=n.__P=null}if(n=r.__k)for(o=0;o<n.length;o++)n[o]&&Rt(n[o],t,a||typeof r.type!="function");a||Yr(r.__e),r.__c=r.__=r.__e=void 0}function Wa(r,t,a){return this.constructor(r,a)}function Lt(r,t,a){var n,o,s,l;t==document&&(t=document.documentElement),P.__&&P.__(r,t),o=(n=!1)?null:t.__k,s=[],l=[],Kr(t,r=t.__k=Ge(ie,null,[r]),o||gr,gr,t.namespaceURI,o?null:t.firstChild?Ir.call(t.childNodes):null,s,o?o.__e:t.firstChild,n,l),Ft(s,r,l)}Ir=St.slice,P={__e:function(r,t,a,n){for(var o,s,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(r)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(r,n||{}),l=o.__d),l)return o.__E=o}catch(c){r=c}throw r}},vt=0,Ie.prototype.setState=function(r,t){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=_e({},this.state),typeof r=="function"&&(r=r(_e({},a),this.props)),r&&_e(a,r),r!=null&&this.__v&&(t&&this._sb.push(t),kt(this))},Ie.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),kt(this))},Ie.prototype.render=ie,We=[],wt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yt=function(r,t){return r.__v.__b-t.__v.__b},Or.__r=0,Nt=/(PointerCapture)$|Capture$/i,qr=0,jr=It(!1),Xr=It(!0);var Ga=0;function e(r,t,a,n,o,s){t||(t={});var l,c,d=t;if("ref"in d)for(c in d={},t)c=="ref"?l=t[c]:d[c]=t[c];var p={type:r,props:d,key:a,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ga,__i:-1,__u:0,__source:o,__self:s};if(typeof r=="function"&&(l=r.defaultProps))for(c in l)d[c]===void 0&&(d[c]=l[c]);return P.vnode&&P.vnode(p),p}var fr,ee,Jr,Dt,xr=0,Pt=[],te=P,Ht=te.__b,Bt=te.__r,Mt=te.diffed,$t=te.__c,Ut=te.unmount,Wt=te.__;function et(r,t){te.__h&&te.__h(ee,r,xr||t),xr=0;var a=ee.__H||(ee.__H={__:[],__h:[]});return r>=a.__.length&&a.__.push({}),a.__[r]}function L(r){return xr=1,Va(qt,r)}function Va(r,t,a){var n=et(fr++,2);if(n.t=r,!n.__c&&(n.__=[a?a(t):qt(void 0,t),function(c){var d=n.__N?n.__N[0]:n.__[0],p=n.t(d,c);d!==p&&(n.__N=[p,n.__[1]],n.__c.setState({}))}],n.__c=ee,!ee.__f)){var o=function(c,d,p){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(i){return!!i.__c});if(h.every(function(i){return!i.__N}))return!s||s.call(this,c,d,p);var u=n.__c.props!==c;return h.forEach(function(i){if(i.__N){var m=i.__[0];i.__=i.__N,i.__N=void 0,m!==i.__[0]&&(u=!0)}}),s&&s.call(this,c,d,p)||u};ee.__f=!0;var s=ee.shouldComponentUpdate,l=ee.componentWillUpdate;ee.componentWillUpdate=function(c,d,p){if(this.__e){var h=s;s=void 0,o(c,d,p),s=h}l&&l.call(this,c,d,p)},ee.shouldComponentUpdate=o}return n.__N||n.__}function or(r,t){var a=et(fr++,3);!te.__s&&zt(a.__H,t)&&(a.__=r,a.u=t,ee.__H.__h.push(a))}function Gt(r){return xr=5,He(function(){return{current:r}},[])}function He(r,t){var a=et(fr++,7);return zt(a.__H,t)&&(a.__=r(),a.__H=t,a.__h=r),a.__}function J(r,t){return xr=8,He(function(){return r},t)}function za(){for(var r;r=Pt.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Lr),r.__H.__h.forEach(rt),r.__H.__h=[]}catch(t){r.__H.__h=[],te.__e(t,r.__v)}}te.__b=function(r){ee=null,Ht&&Ht(r)},te.__=function(r,t){r&&t.__k&&t.__k.__m&&(r.__m=t.__k.__m),Wt&&Wt(r,t)},te.__r=function(r){Bt&&Bt(r),fr=0;var t=(ee=r.__c).__H;t&&(Jr===ee?(t.__h=[],ee.__h=[],t.__.forEach(function(a){a.__N&&(a.__=a.__N),a.u=a.__N=void 0})):(t.__h.forEach(Lr),t.__h.forEach(rt),t.__h=[],fr=0)),Jr=ee},te.diffed=function(r){Mt&&Mt(r);var t=r.__c;t&&t.__H&&(t.__H.__h.length&&(Pt.push(t)!==1&&Dt===te.requestAnimationFrame||((Dt=te.requestAnimationFrame)||qa)(za)),t.__H.__.forEach(function(a){a.u&&(a.__H=a.u),a.u=void 0})),Jr=ee=null},te.__c=function(r,t){t.some(function(a){try{a.__h.forEach(Lr),a.__h=a.__h.filter(function(n){return!n.__||rt(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],te.__e(n,a.__v)}}),$t&&$t(r,t)},te.unmount=function(r){Ut&&Ut(r);var t,a=r.__c;a&&a.__H&&(a.__H.__.forEach(function(n){try{Lr(n)}catch(o){t=o}}),a.__H=void 0,t&&te.__e(t,a.__v))};var Vt=typeof requestAnimationFrame=="function";function qa(r){var t,a=function(){clearTimeout(n),Vt&&cancelAnimationFrame(t),setTimeout(r)},n=setTimeout(a,35);Vt&&(t=requestAnimationFrame(a))}function Lr(r){var t=ee,a=r.__c;typeof a=="function"&&(r.__c=void 0,a()),ee=t}function rt(r){var t=ee;r.__c=r.__(),ee=t}function zt(r,t){return!r||r.length!==t.length||t.some(function(a,n){return a!==r[n]})}function qt(r,t){return typeof t=="function"?t(r):t}const Dr={EAP:{code:"EAP",description:"e-AWB Participant",default:!0},ECC:{code:"ECC",description:"Electronic Consignment with Accompanying Paper",default:!1},SPX:{code:"SPX",description:"Secure - Examined",default:!1},PER:{code:"PER",description:"Perishable Cargo",default:!1},PEP:{code:"PEP",description:"Perishable Fruits & Vegetables",default:!1},PEF:{code:"PEF",description:"Perishable Fresh Fish/Seafood",default:!1},PES:{code:"PES",description:"Live Tropical Fish",default:!1},RFL:{code:"RFL",description:"Flowers",default:!1},COL:{code:"COL",description:"Cool Goods",default:!1},FRO:{code:"FRO",description:"Frozen Goods",default:!1},PIL:{code:"PIL",description:"Pharmaceuticals",default:!1},VAL:{code:"VAL",description:"Valuable Cargo",default:!1},VUN:{code:"VUN",description:"Vulnerable Cargo",default:!1},SPF:{code:"SPF",description:"Secure - Protected Freight",default:!1},AVI:{code:"AVI",description:"Live Animals",default:!1},DGR:{code:"DGR",description:"Dangerous Goods",default:!1},HEA:{code:"HEA",description:"Heavy Cargo",default:!1},BIG:{code:"BIG",description:"Outsized Cargo",default:!1}},jt={RA:{code:"REGULATED_AGENT",short:"RA",description:"Agente Regulado (seguridad)",default:!0},SPX:{code:"SECURITY_STATUS",short:"SPX",description:"Estado de Seguridad (examinado)",default:!0},KC:{code:"KNOWN_CONSIGNOR",short:"KC",description:"Consignatario Conocido",default:!1},AEO:{code:"AUTHORISED_ECONOMIC_OPERATOR",short:"AEO",description:"Operador Económico Autorizado",default:!1},SM:{code:"SCREENING_METHOD",short:"SM",description:"Método de Inspección",default:!1},TIN:{code:"TRADER_IDENTIFICATION_NUMBER",short:"TIN",description:"NIT/Tax ID (Shipper o Consignee)",default:!1},EORI:{code:"TRADER_IDENTIFICATION_NUMBER",short:"EORI",description:"EORI Number (EU)",default:!1}},vr={sphByAirline:{"075":["ECC","EAP","PER"],145:["EAP"],985:["EAP"],"074":["EAP"],"057":["EAP"],"020":["EAP"],"006":["EAP"],"001":["EAP"],205:["EAP"],DEFAULT:["EAP"]},ociByOriginCountry:{CO:[],EC:[],PE:[],DEFAULT:[]},includeShipperTIN:!1,includeConsigneeTIN:!0,tinOciFormat:"legacy",shipperTINField:"oci",airlinesRequiringECC:["075"],securityOci:{enabled:!1,regulatedAgentNumber:"",expiryDate:"",screeningMethod:"",screeningDate:"",screenerName:""},messageConfig:{autoGenerateCSL:!0,sendTimeoutMs:3e4,maxRetries:3},cargoImp:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!1,ociWithEori:!1,defaultSphCodes:["EAP","PER"],enabledFwbSegments:["AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","SPH","OCI","CER","ISU"],enabledFhlSegments:["MBI","TXT","HBS","OCI"],controlNumber:"96728316614806",senderId:"REUAGT89COCRGMASTER/BOG01:PIMA",defaultSignature:"CARGOOP",airlinePolicies:{"075":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["ECC","EAP","PER"],enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","SSR","ACC","OTH","CER","NFY"]},145:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},"074":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],notes:"KLM requiere todos los segmentos incluyendo OTH"},157:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","NFY"]},369:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!1,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI"],disabledSegments:["FWB","FTR","OTH","NFY"],notes:"Atlas/Ethiopian: sin header UNB/UNH ni footer UNT/UNZ"},"057":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},"020":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!0,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},205:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],notes:"Emirates: prefijo AWB 205"},176:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],useAgencyNameForCER:!0,notes:"Emirates 176: CER usa nombre de agencia"},235:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],requiresHTS:!0,notes:"Turkish Airlines: requiere código HTS"},985:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],useConsolidatedNG:!0,notes:"LATAM Cargo: NG especial para consolidados"},"045":{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"]},992:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],fhlAlwaysWithHeader:!0,notes:"DHL Aviation: Caso 7 - FHL siempre incluye header/footer EDIFACT"},999:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],fhlAlwaysWithHeader:!0,notes:"Polar Air (DHL): Caso 7"},155:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],fhlAlwaysWithHeader:!0,notes:"ABX Air: Caso 7 - FHL siempre incluye header/footer EDIFACT"},DEFAULT:{fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUNB_UNZ:!0,ociWithEori:!1,sphCodes:["EAP"],enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],notes:"Política por defecto para aerolíneas no configuradas. Ajustar según requisitos."}}},lastUpdated:new Date().toISOString()};function nr(){try{const r=localStorage.getItem("cargo_imp_connector_config");if(r){const t=JSON.parse(r);return{...vr,...t}}}catch(r){console.warn("Error loading connector config:",r)}return vr}function Xt(r){try{r.lastUpdated=new Date().toISOString(),localStorage.setItem("cargo_imp_connector_config",JSON.stringify(r))}catch(t){console.error("Error saving connector config:",t)}}function ja(r,t){for(var a in t)r[a]=t[a];return r}function tt(r,t){for(var a in r)if(a!=="__source"&&!(a in t))return!0;for(var n in t)if(n!=="__source"&&r[n]!==t[n])return!0;return!1}function Yt(r,t){this.props=r,this.context=t}function at(r,t){function a(o){var s=this.props.ref,l=s==o.ref;return!l&&s&&(s.call?s(null):s.current=null),t?!t(this.props,o)||!l:tt(this.props,o)}function n(o){return this.shouldComponentUpdate=a,Ge(r,o)}return n.displayName="Memo("+(r.displayName||r.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n.type=r,n}(Yt.prototype=new Ie).isPureReactComponent=!0,Yt.prototype.shouldComponentUpdate=function(r,t){return tt(this.props,r)||tt(this.state,t)};var Kt=P.__b;P.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),Kt&&Kt(r)};var Xa=P.__e;P.__e=function(r,t,a,n){if(r.then){for(var o,s=t;s=s.__;)if((o=s.__c)&&o.__c)return t.__e==null&&(t.__e=a.__e,t.__k=a.__k),o.__c(r,t)}Xa(r,t,a,n)};var Zt=P.unmount;function Qt(r,t,a){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=ja({},r)).__c!=null&&(r.__c.__P===a&&(r.__c.__P=t),r.__c.__e=!0,r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return Qt(n,t,a)})),r}function Jt(r,t,a){return r&&a&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return Jt(n,t,a)}),r.__c&&r.__c.__P===t&&(r.__e&&a.appendChild(r.__e),r.__c.__e=!0,r.__c.__P=a)),r}function ot(){this.__u=0,this.o=null,this.__b=null}function ea(r){var t=r.__.__c;return t&&t.__a&&t.__a(r)}function Pr(){this.i=null,this.l=null}P.unmount=function(r){var t=r.__c;t&&t.__R&&t.__R(),t&&32&r.__u&&(r.type=null),Zt&&Zt(r)},(ot.prototype=new Ie).__c=function(r,t){var a=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(a);var o=ea(n.__v),s=!1,l=function(){s||(s=!0,a.__R=null,o?o(c):c())};a.__R=l;var c=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=Jt(d,d.__c.__P,d.__c.__O)}var p;for(n.setState({__a:n.__b=null});p=n.o.pop();)p.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(l,l)},ot.prototype.componentWillUnmount=function(){this.o=[]},ot.prototype.render=function(r,t){if(this.__b){if(this.__v.__k){var a=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Qt(this.__b,a,n.__O=n.__P)}this.__b=null}var o=t.__a&&Ge(ie,null,r.fallback);return o&&(o.__u&=-33),[Ge(ie,null,t.__a?null:r.children),o]};var ra=function(r,t,a){if(++a[1]===a[0]&&r.l.delete(t),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.l.size))for(a=r.i;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;r.i=a=a[2]}};(Pr.prototype=new Ie).__a=function(r){var t=this,a=ea(t.__v),n=t.l.get(r);return n[0]++,function(o){var s=function(){t.props.revealOrder?(n.push(o),ra(t,r,n)):o()};a?a(s):s()}},Pr.prototype.render=function(r){this.i=null,this.l=new Map;var t=br(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&t.reverse();for(var a=t.length;a--;)this.l.set(t[a],this.i=[1,0,this.i]);return r.children},Pr.prototype.componentDidUpdate=Pr.prototype.componentDidMount=function(){var r=this;this.l.forEach(function(t,a){ra(r,a,t)})};var Ya=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ka=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Za=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Qa=/[A-Z0-9]/g,Ja=typeof document<"u",eo=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(r)};Ie.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Ie.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(t){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:t})}})});var ta=P.event;function ro(){}function to(){return this.cancelBubble}function ao(){return this.defaultPrevented}P.event=function(r){return ta&&(r=ta(r)),r.persist=ro,r.isPropagationStopped=to,r.isDefaultPrevented=ao,r.nativeEvent=r};var oo={enumerable:!1,configurable:!0,get:function(){return this.class}},aa=P.vnode;P.vnode=function(r){typeof r.type=="string"&&(function(t){var a=t.props,n=t.type,o={},s=n.indexOf("-")===-1;for(var l in a){var c=a[l];if(!(l==="value"&&"defaultValue"in a&&c==null||Ja&&l==="children"&&n==="noscript"||l==="class"||l==="className")){var d=l.toLowerCase();l==="defaultValue"&&"value"in a&&a.value==null?l="value":l==="download"&&c===!0?c="":d==="translate"&&c==="no"?c=!1:d[0]==="o"&&d[1]==="n"?d==="ondoubleclick"?l="ondblclick":d!=="onchange"||n!=="input"&&n!=="textarea"||eo(a.type)?d==="onfocus"?l="onfocusin":d==="onblur"?l="onfocusout":Za.test(l)&&(l=d):d=l="oninput":s&&Ka.test(l)?l=l.replace(Qa,"-$&").toLowerCase():c===null&&(c=void 0),d==="oninput"&&o[l=d]&&(l="oninputCapture"),o[l]=c}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=br(a.children).forEach(function(p){p.props.selected=o.value.indexOf(p.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=br(a.children).forEach(function(p){p.props.selected=o.multiple?o.defaultValue.indexOf(p.props.value)!=-1:o.defaultValue==p.props.value})),a.class&&!a.className?(o.class=a.class,Object.defineProperty(o,"className",oo)):(a.className&&!a.class||a.class&&a.className)&&(o.class=o.className=a.className),t.props=o})(r),r.$$typeof=Ya,aa&&aa(r)};var oa=P.__r;P.__r=function(r){oa&&oa(r),r.__c};var na=P.diffed;P.diffed=function(r){na&&na(r);var t=r.props,a=r.__e;a!=null&&r.type==="textarea"&&"value"in t&&t.value!==a.value&&(a.value=t.value==null?"":t.value)};let nt=null,ia=0;const no=5e3;function io(){const r=Date.now();return(!nt||r-ia>no)&&(nt=nr(),ia=r),nt}const so=r=>{const t=io();return t.sphByAirline[r]||t.sphByAirline.DEFAULT||["EAP"]},it=r=>r.split("-")[0]||r.substring(0,3),st=r=>so(r),sa=(r,t=150)=>{if(!r||r.trim()==="")return"";const c=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ñÑ]/g,"N").replace(/\bHS\s*\d{6,10}\b/gi,"").replace(/\b\d{6,10}\b/g,"").replace(/[^A-Za-z0-9\s]/g,"").toUpperCase().replace(/\s+/g," ").trim();if(c.length===0)return"";const d=c.split(" "),p=[];let h="";for(const i of d){if(i.length>25){h.length>0&&(p.push(h.trim()),h="");for(let m=0;m<i.length;m+=25)p.push(i.substring(m,m+25));continue}h.length+i.length+1>25?(h.length>0&&p.push(h.trim()),h=i):h=h.length>0?h+" "+i:i}return h.length>0&&p.push(h.trim()),p.join(`
`).substring(0,t)},Fe={FWB:{code:"FWB",name:"Message Header",description:"Cabecera del mensaje FWB con versión (incluye UNB/UNH en Caso 7)",required:!0,maxLength:200,order:1,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"version",description:"Versión del mensaje",maxLength:7,required:!0,type:"string"}]},AWB:{code:"AWB",name:"Air Waybill Number",description:"Número de guía aérea con origen, destino, piezas y peso",required:!0,maxLength:50,order:2,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"awbNumber",description:"Número AWB (11 dígitos sin guión)",maxLength:11,required:!0,type:"string"},{name:"origin",description:"Aeropuerto origen (3 chars)",maxLength:3,required:!0,type:"code"},{name:"destination",description:"Aeropuerto destino (3 chars)",maxLength:3,required:!0,type:"code"},{name:"pieces",description:"Número de piezas",maxLength:5,required:!0,type:"number"},{name:"weight",description:"Peso bruto",maxLength:10,required:!0,type:"number"}]},FLT:{code:"FLT",name:"Flight",description:"Información de vuelo(s)",required:!1,maxLength:80,order:3,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"flight1",description:"Vuelo 1 (carrier+número)",maxLength:10,required:!1,type:"string"},{name:"date1",description:"Fecha vuelo 1 (DDMMM)",maxLength:5,required:!1,type:"date"},{name:"flight2",description:"Vuelo 2",maxLength:10,required:!1,type:"string"},{name:"date2",description:"Fecha vuelo 2",maxLength:5,required:!1,type:"date"}]},RTG:{code:"RTG",name:"Routing",description:"Ruta del envío (aeropuertos y aerolíneas)",required:!0,maxLength:100,order:4,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"segment1",description:"Primer segmento (AEROPUERTO+CARRIER)",maxLength:6,required:!0,type:"string"},{name:"segment2",description:"Segundo segmento",maxLength:6,required:!1,type:"string"},{name:"segment3",description:"Tercer segmento",maxLength:6,required:!1,type:"string"}]},SHP:{code:"SHP",name:"Shipper",description:"Información del exportador/embarcador",required:!0,maxLength:200,order:5,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"country",description:"País (2 chars ISO)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal (máx 9 chars)",maxLength:9,required:!1,type:"string"},{name:"phone",description:"Teléfono",maxLength:25,required:!1,type:"string"}]},CNE:{code:"CNE",name:"Consignee",description:"Información del importador/consignatario",required:!0,maxLength:200,order:6,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"state",description:"Estado (solo USA, 2 chars)",maxLength:2,required:!1,type:"code"},{name:"country",description:"País (2 chars ISO)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal (máx 9 chars)",maxLength:9,required:!0,type:"string"},{name:"phone",description:"Teléfono",maxLength:25,required:!1,type:"string"}]},AGT:{code:"AGT",name:"Agent",description:"Información del agente de carga",required:!0,maxLength:100,order:7,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"iataCode",description:"Código IATA (7 dígitos)",maxLength:7,required:!0,type:"string"},{name:"cassCode",description:"Código CASS (4 dígitos)",maxLength:4,required:!1,type:"string"},{name:"name",description:"Nombre agencia",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"}]},SSR:{code:"SSR",name:"Special Service Request",description:"Instrucciones especiales de manejo",required:!1,maxLength:200,order:8,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"line1",description:"Línea 1 (máx 65 chars)",maxLength:65,required:!1,type:"string"},{name:"line2",description:"Línea 2 (máx 65 chars)",maxLength:65,required:!1,type:"string"},{name:"line3",description:"Línea 3 (máx 65 chars)",maxLength:65,required:!1,type:"string"}]},ACC:{code:"ACC",name:"Accounting Information",description:"Información contable",required:!1,maxLength:50,order:9,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"accountingInfo",description:"Info contable (máx 34 chars)",maxLength:34,required:!1,type:"string"}]},CVD:{code:"CVD",name:"Charge Declarations",description:"Declaraciones de cargos (moneda, prepaid/collect, valores)",required:!0,maxLength:80,order:10,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"currency",description:"Código moneda (3 chars)",maxLength:3,required:!0,type:"code"},{name:"wtOt",description:"Weight/Other (PP, CC, PC, CP)",maxLength:2,required:!0,type:"code",allowedValues:["PP","CC","PC","CP"]},{name:"declaredCarriage",description:"Valor declarado transporte (o NVD)",maxLength:15,required:!0,type:"string"},{name:"declaredCustoms",description:"Valor declarado aduanas (o NCV)",maxLength:15,required:!0,type:"string"},{name:"declaredInsurance",description:"Valor asegurado (o XXX)",maxLength:15,required:!0,type:"string"}]},RTD:{code:"RTD",name:"Rate Description",description:"Descripción de tarifas (líneas de cobro)",required:!0,maxLength:300,order:11,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"lineNumber",description:"Número de línea",maxLength:2,required:!0,type:"number"},{name:"pieces",description:"Número de piezas",maxLength:5,required:!0,type:"number"},{name:"weight",description:"Peso bruto",maxLength:10,required:!0,type:"number"},{name:"rateClass",description:"Clase de tarifa (C, M, N, Q)",maxLength:2,required:!0,type:"code"},{name:"commodity",description:"Código commodity (4 dígitos)",maxLength:4,required:!1,type:"string"},{name:"chargeableWeight",description:"Peso cobrable",maxLength:10,required:!1,type:"number"},{name:"rate",description:"Tarifa",maxLength:10,required:!1,type:"number"},{name:"total",description:"Total línea",maxLength:15,required:!1,type:"number"}]},NG:{code:"NG",name:"Nature of Goods",description:"Naturaleza de la mercancía",required:!0,maxLength:30,order:12,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"description",description:"Descripción mercancía (máx 20 chars)",maxLength:20,required:!0,type:"string"}]},NH:{code:"NH",name:"Harmonized Code",description:"Códigos arancelarios HTS",required:!1,maxLength:200,order:13,versions:["FWB/16","FWB/17"],fields:[{name:"codes",description:"Códigos HTS separados (múltiples)",maxLength:15,required:!1,type:"string"}]},OTH:{code:"OTH",name:"Other Charges",description:"Otros cargos (AWC, AWA, MY)",required:!1,maxLength:150,order:14,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"prepaidOrCollect",description:"P=Prepaid, C=Collect",maxLength:1,required:!0,type:"code",allowedValues:["P","C"]},{name:"chargeCode",description:"Código cargo (AWC, AWA, MY)",maxLength:3,required:!0,type:"code"},{name:"amount",description:"Monto",maxLength:15,required:!0,type:"number"}]},PPD:{code:"PPD",name:"Prepaid Charges",description:"Resumen de cargos prepagados",required:!1,maxLength:100,order:15,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"weightCharge",description:"Cargo por peso",maxLength:15,required:!1,type:"number"},{name:"dueAgent",description:"Due Agent",maxLength:15,required:!1,type:"number"},{name:"dueCarrier",description:"Due Carrier",maxLength:15,required:!1,type:"number"},{name:"total",description:"Total",maxLength:15,required:!0,type:"number"}]},COL:{code:"COL",name:"Collect Charges",description:"Resumen de cargos por cobrar",required:!1,maxLength:100,order:16,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"weightCharge",description:"Cargo por peso",maxLength:15,required:!1,type:"number"},{name:"dueAgent",description:"Due Agent",maxLength:15,required:!1,type:"number"},{name:"dueCarrier",description:"Due Carrier",maxLength:15,required:!1,type:"number"},{name:"total",description:"Total",maxLength:15,required:!0,type:"number"}]},CER:{code:"CER",name:"Certification",description:"Certificación del embarcador",required:!1,maxLength:30,order:17,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"signature",description:"Firma (máx 20 chars)",maxLength:20,required:!1,type:"string"}]},ISU:{code:"ISU",name:"Issue",description:"Ejecución del transportista (fecha, lugar, firma)",required:!0,maxLength:60,order:18,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"date",description:"Fecha (DDMMMYY)",maxLength:7,required:!0,type:"date"},{name:"place",description:"Lugar",maxLength:17,required:!0,type:"string"},{name:"signature",description:"Firma (máx 20 chars)",maxLength:20,required:!1,type:"string"}]},REF:{code:"REF",name:"Reference",description:"Referencia del remitente (agente)",required:!0,maxLength:50,order:19,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"agentRef",description:"Referencia AGT/IATA/CASS/ORIGEN",maxLength:30,required:!0,type:"string"}]},SPH:{code:"SPH",name:"Special Handling",description:"Códigos de manejo especial (EAP, PER, etc.)",required:!0,maxLength:50,order:20,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"codes",description:"Códigos SPH separados por /",maxLength:40,required:!0,type:"string"}]},OCI:{code:"OCI",name:"Other Customs Information",description:"Información aduanera/seguridad (EORI, TIN)",required:!1,maxLength:200,order:21,versions:["FWB/9","FWB/16","FWB/17"],fields:[{name:"countryCode",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"party",description:"Parte (CNE, SHP, AGT)",maxLength:3,required:!0,type:"code",allowedValues:["CNE","SHP","AGT"]},{name:"type",description:"Tipo (T=TIN, RA=RegAgent)",maxLength:2,required:!0,type:"code"},{name:"value",description:"Valor (NIT, EORI, etc.)",maxLength:35,required:!0,type:"string"}]},NFY:{code:"NFY",name:"Notify",description:"Información de notificación (también notify party)",required:!1,maxLength:200,order:22,versions:["FWB/16","FWB/17"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!1,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!1,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!1,type:"string"},{name:"country",description:"País (2 chars ISO)",maxLength:2,required:!1,type:"code"},{name:"phone",description:"Teléfono",maxLength:25,required:!1,type:"string"}]},FTR:{code:"FTR",name:"Footer",description:"Pie del mensaje (UNT/UNZ)",required:!0,maxLength:100,order:23,versions:["FWB/9","FWB/16","FWB/17"],fields:[]}},me={FHL:{code:"FHL",name:"Message Header",description:"Cabecera del mensaje FHL con versión (incluye UNB/UNH en Caso 7)",required:!0,maxLength:200,order:1,versions:["FHL/2","FHL/4"],fields:[{name:"version",description:"Versión del mensaje",maxLength:7,required:!0,type:"string"}]},MBI:{code:"MBI",name:"Master Bill Information",description:"Información del Master AWB",required:!0,maxLength:60,order:2,versions:["FHL/2","FHL/4"],fields:[{name:"awbNumber",description:"Número AWB master",maxLength:11,required:!0,type:"string"},{name:"origin",description:"Origen",maxLength:3,required:!0,type:"code"},{name:"destination",description:"Destino",maxLength:3,required:!0,type:"code"},{name:"totalPieces",description:"Piezas totales master",maxLength:5,required:!0,type:"number"},{name:"totalWeight",description:"Peso total master",maxLength:10,required:!0,type:"number"}]},HBS:{code:"HBS",name:"House Bill Summary",description:"Resumen de guía hija (HAWB)",required:!0,maxLength:80,order:3,versions:["FHL/2","FHL/4"],fields:[{name:"hawbNumber",description:"Número HAWB",maxLength:20,required:!0,type:"string"},{name:"origin",description:"Origen",maxLength:3,required:!0,type:"code"},{name:"destination",description:"Destino",maxLength:3,required:!0,type:"code"},{name:"pieces",description:"Piezas",maxLength:5,required:!0,type:"number"},{name:"weight",description:"Peso",maxLength:10,required:!0,type:"number"},{name:"natureOfGoods",description:"Descripción (máx 11 chars)",maxLength:11,required:!0,type:"string"}]},HTS:{code:"HTS",name:"Harmonized Tariff Schedule",description:"Código arancelario para la house",required:!1,maxLength:20,order:4,versions:["FHL/4"],fields:[{name:"code",description:"Código HTS",maxLength:15,required:!1,type:"string"}]},OCI:{code:"OCI",name:"Other Customs Information",description:"Información aduanera para la house",required:!1,maxLength:100,order:5,versions:["FHL/2","FHL/4"],fields:[{name:"countryCode",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"party",description:"Parte (CNE, SHP)",maxLength:3,required:!0,type:"code"},{name:"type",description:"Tipo (T=TIN)",maxLength:2,required:!0,type:"code"},{name:"value",description:"Valor (NIT, EORI)",maxLength:35,required:!0,type:"string"}]},SHP:{code:"SHP",name:"Shipper (House)",description:"Exportador de la guía hija",required:!0,maxLength:150,order:6,versions:["FHL/2","FHL/4"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"country",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal",maxLength:9,required:!1,type:"string"}]},CNE:{code:"CNE",name:"Consignee (House)",description:"Importador de la guía hija",required:!0,maxLength:150,order:7,versions:["FHL/2","FHL/4"],fields:[{name:"name",description:"Nombre (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"address",description:"Dirección (máx 35 chars)",maxLength:35,required:!0,type:"string"},{name:"city",description:"Ciudad",maxLength:17,required:!0,type:"string"},{name:"state",description:"Estado (solo USA)",maxLength:2,required:!1,type:"code"},{name:"country",description:"País (2 chars)",maxLength:2,required:!0,type:"code"},{name:"postalCode",description:"Código postal",maxLength:9,required:!0,type:"string"}]},CVD:{code:"CVD",name:"Charge Declarations (House)",description:"Declaraciones de cargos para la house",required:!0,maxLength:50,order:8,versions:["FHL/2","FHL/4"],fields:[{name:"currency",description:"Moneda",maxLength:3,required:!0,type:"code"},{name:"wtOt",description:"PP/CC",maxLength:2,required:!0,type:"code"},{name:"declaredCarriage",description:"NVD",maxLength:10,required:!0,type:"string"},{name:"declaredCustoms",description:"NCV",maxLength:10,required:!0,type:"string"},{name:"declaredInsurance",description:"XXX",maxLength:10,required:!0,type:"string"}]},TXT:{code:"TXT",name:"Free Text",description:"Texto libre adicional",required:!1,maxLength:100,order:9,versions:["FHL/4"],fields:[{name:"text",description:"Texto libre",maxLength:70,required:!1,type:"string"}]},FTR:{code:"FTR",name:"Footer",description:"Pie del mensaje",required:!0,maxLength:100,order:10,versions:["FHL/2","FHL/4"],fields:[]}},lo={recipientAddress:"DSGUNXA",senderPrefix:"DSGTPXA",originAddress:"TDVAGT03OPERFLOR/BOG1",defaultOrigin:"BOG",defaultPriority:"QK",functionCode:"FF",includeTimestamp:!0},Ve={"075":{awbPrefix:"075",name:"Iberia",policy:20,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","SSR","ACC","OTH","CER","NFY"],defaultSphCodes:["ECC","EAP","PER"],ociFormat:"withPrefix",includeUnbUnz:!0},145:{awbPrefix:"145",name:"LATAM",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0},"074":{awbPrefix:"074",name:"KLM",policy:24,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"KLM requiere todos los segmentos incluyendo OTH"},157:{awbPrefix:"157",name:"Qatar Airways",policy:23,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["FLT","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0},369:{awbPrefix:"369",name:"Atlas Air / Ethiopian",policy:22,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI"],disabledSegments:["FTR","OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!1,notes:"Atlas/Ethiopian: sin header UNB/UNH ni footer UNT/UNZ, pero SÍ incluye línea FWB/16"},176:{awbPrefix:"176",name:"Emirates",policy:41,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,useAgencyNameForCER:!0,notes:"Emirates: CER usa nombre de agencia"},235:{awbPrefix:"235",name:"Turkish Airlines",policy:41,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,requiresHTS:!0,notes:"Turkish: requiere código HTS"},992:{awbPrefix:"992",name:"DHL Aviation (992)",policy:71,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,fhlAlwaysWithHeader:!0,notes:"DHL Aviation: Caso 7 - FHL siempre incluye header/footer EDIFACT"},999:{awbPrefix:"999",name:"Polar Air Cargo (DHL)",policy:71,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,fhlAlwaysWithHeader:!0,notes:"Polar Air (DHL): Caso 7"},985:{awbPrefix:"985",name:"LATAM Cargo",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,useConsolidatedNG:!0,notes:"LATAM Cargo: NG especial para consolidados"},"045":{awbPrefix:"045",name:"Avianca Cargo",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0},155:{awbPrefix:"155",name:"ABX Air",policy:71,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,fhlAlwaysWithHeader:!0,notes:"ABX Air Caso 7: FHL siempre incluye header/footer EDIFACT"},"057":{awbPrefix:"057",name:"Air France",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"Air France: destino UE, requiere EORI en OCI"},"020":{awbPrefix:"020",name:"Lufthansa",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"Lufthansa: destino UE, requiere EORI en OCI"},205:{awbPrefix:"205",name:"Emirates",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0,notes:"Emirates: prefijo AWB 205 (176 es código IATA numérico alternativo)"},DEFAULT:{awbPrefix:"DEFAULT",name:"Default (todas las demás)",policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",enabledSegments:["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],disabledSegments:["OTH","NFY"],defaultSphCodes:["EAP"],ociFormat:"withPrefix",includeUnbUnz:!0}},co=Object.keys(me),po=new Set;function la(){return{cargoImp:{policyOverrides:{},fwbVersion:void 0,fhlVersion:void 0,includeUnbUnz:void 0,useTypeBHeader:!0,typeBPriority:"QK"},traxon:{apiEndpoint:void 0,senderId:void 0,settings:{}},descartes:{apiEndpoint:void 0,senderId:void 0,settings:{}}}}let ne=la();function mo(){ne=la(),Cr()}function Cr(){po.forEach(r=>r(ne))}function lt(r){const t=Ve[r]||Ve.DEFAULT,a=ne.cargoImp.policyOverrides[r]||{},n=a.enabledFhlSegments||t.enabledFhlSegments||co,o=a.disabledFhlSegments||t.disabledFhlSegments||[];return{...t,...a,enabledSegments:a.enabledSegments||t.enabledSegments||[],disabledSegments:a.disabledSegments||t.disabledSegments||[],enabledFhlSegments:n,disabledFhlSegments:o,fwbVersion:a.fwbVersion||ne.cargoImp.fwbVersion||t.fwbVersion,fhlVersion:a.fhlVersion||ne.cargoImp.fhlVersion||t.fhlVersion,includeUnbUnz:a.includeUnbUnz??ne.cargoImp.includeUnbUnz??t.includeUnbUnz,useTypeBHeader:a.useTypeBHeader??ne.cargoImp.useTypeBHeader??t.useTypeBHeader??!0,typeBPriority:a.typeBPriority||ne.cargoImp.typeBPriority||t.typeBPriority||"QK"}}function uo(r,t,a){const n=lt(r),o=ne.cargoImp.policyOverrides[r]||{};let s=[...o.enabledSegments||n.enabledSegments||[]],l=[...o.disabledSegments||n.disabledSegments||[]];a?(s.includes(t)||s.push(t),l=l.filter(c=>c!==t)):(l.includes(t)||l.push(t),s=s.filter(c=>c!==t)),ne.cargoImp.policyOverrides[r]={...o,enabledSegments:s,disabledSegments:l},Cr()}function go(r,t,a){const n=lt(r),o=ne.cargoImp.policyOverrides[r]||{};let s=[...o.enabledFhlSegments||n.enabledFhlSegments||[]],l=[...o.disabledFhlSegments||n.disabledFhlSegments||[]];a?(s.includes(t)||s.push(t),l=l.filter(c=>c!==t)):(l.includes(t)||l.push(t),s=s.filter(c=>c!==t)),ne.cargoImp.policyOverrides[r]={...o,enabledFhlSegments:s,disabledFhlSegments:l},Cr()}function ho(r){ne.cargoImp.useTypeBHeader=r,Cr()}function ca(){return ne.cargoImp.useTypeBHeader??!0}function Hr(){const r=ne.cargoImp.typeBConfig;return{...lo,...r}}function bo(r){ne.cargoImp.typeBConfig={...ne.cargoImp.typeBConfig,...r},Cr()}function z(r,t=0,a=!1,n=!0){if(!r)return"";const o=a?" ":"";return r=r.replace(/,/g,"."),r=r.replace(/Ü/g,"U").replace(/ü/g,"u"),r=r.replace(/-/g,o),r=r.replace(/\//g,o),r=r.replace(/#/g,o),r=r.replace(/'/g,o),r=r.replace(/\?/g,o),r=r.replace(/ñ/g,o).replace(/Ñ/g,o),r=r.replace(/\*/g,o),r=r.replace(/&/g,o),r=r.replace(/°/g,o),r=r.replace(/:/g,o),r=r.replace(/\n/g,o).replace(/\r/g,o),r=r.replace(/\+/g,o),r=r.replace(/"/g," ").replace(/"/g," ").replace(/"/g," "),r=r.replace(/`/g," ").replace(/´/g," "),r=r.replace(/_/g,o),r=r.replace(/@/g,o),n&&(r=r.replace(/\./g,o)),t>0&&r.length>t&&(r=r.substring(0,t)),r=r.trim(),r=r.replace(/\s+/g," "),r.toUpperCase()}function fo(r){return r.replace(/:/g," ").replace(/\$/g," ").replace(/=/g," ").replace(/»/g," ")}function wr(r,t=!1){let a=r.replace(/\(/g,"").replace(/\)/g,"").replace(/,/g,"").replace(/&/g,"").replace(/Ñ/g,"N").replace(/ñ/g,"n");return t&&(a=a.replace(/\?/g,"")),a}function xo(r,t=["CM","SK","LG"]){let a=r.toUpperCase().trim();for(const n of t)if(a.startsWith(n)){a="0"+a;break}return a}function se(r,t=1){const a=typeof r=="string"?parseFloat(r):r;return isNaN(a)?"0.0":a.toFixed(t)}function vo(r){const t=r?new Date(r):new Date,a=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],n=t.getDate().toString().padStart(2,"0"),o=a[t.getMonth()],s=t.getFullYear().toString().slice(-2);return`${n}${o}${s}`}function da(){const r=new Date,t=r.getFullYear().toString().slice(-2),a=(r.getMonth()+1).toString().padStart(2,"0"),n=r.getDate().toString().padStart(2,"0"),o=r.getHours().toString().padStart(2,"0"),s=r.getMinutes().toString().padStart(2,"0");return`${t}${a}${n}:${o}${s}`}function ct(){const r=Nr();return r.controlNumber&&r.controlNumber.trim()?r.controlNumber.trim():Date.now().toString().slice(-14)}function yr(r){return r.replace(/-/g,"").replace(/\s/g,"")}function pa(r){const t=r.replace(/\s/g,"").replace(/-/g,"");return t.length>=11?t.substring(0,3)+"-"+t.substring(3):t}function Co(r){return r.replace(/-/g,"").replace(/\s/g,"").toUpperCase()}function Se(r){return yr(r).substring(0,3)}function ze(r){return{LON:"LHR",RNG:"MDE"}[r.toUpperCase()]||r.toUpperCase()}const Be={senderIds:{EC:{senderId:"REUAGT89ECRGML/UIO01:PIMA",senderIdDescartes:"TDVAGT03DSV/BOG01:PIMA"},CO:{senderId:"REUAGT89COCRGMASTER/BOG01:PIMA",senderIdDescartes:"TDVAGT03DSV/BOG01:PIMA"}},defaultPostalCodes:{EC:"00000",CO:"110111",DEFAULT:"10"},chinaPostalCode:"170452",controlNumber:"96728316614806",senderId:"REUAGT89COCRGMASTER/BOG01:PIMA",defaultSignature:"CARGOOP"};function Nr(){if(typeof localStorage>"u")return Be;try{const r=localStorage.getItem("traxon_connector_config");if(r){const a=JSON.parse(r);if(a.cargoImp)return{...Be,controlNumber:a.cargoImp.controlNumber||Be.controlNumber,senderId:a.cargoImp.senderId||Be.senderId,defaultSignature:a.cargoImp.defaultSignature||Be.defaultSignature}}const t=localStorage.getItem("cargoimp_global_config");if(t)return{...Be,...JSON.parse(t)}}catch(r){console.warn("Error loading CARGO-IMP global config:",r)}return{...Be}}function qe(r,t,a){if(r&&r.trim())return r.trim().substring(0,9);if(a&&a.trim())return a.trim().substring(0,9);const o=Nr().defaultPostalCodes;return t==="EC"?o.EC||"00000":t==="CO"?o.CO||"110111":o.DEFAULT||"10"}function ma(){return Nr().chinaPostalCode||"170452"}function ua(){return Nr().senderId||Be.senderId}function Br(){return Nr().defaultSignature||"CARGOOP"}class wo{constructor(){this.config=nr()}getAirlinePolicy(t){return lt(t)}reloadConfig(){this.config=nr()}getPolicyInfo(t){var s;const a=(s=this.config.cargoImp)==null?void 0:s.airlinePolicies,n=[];if(a&&a[t])return{policy:this.getAirlinePolicy(t),source:"custom",airlineName:`Aerolínea ${t} (Configuración personalizada)`,isDefault:!1,warnings:n};if(Ve[t])return{policy:this.getAirlinePolicy(t),source:"configured",airlineName:Ve[t].name,isDefault:!1,warnings:n};const o=this.getAirlinePolicy(t);return n.push(`⚠️ Aerolínea ${t} no tiene política específica configurada. Se usará la política DEFAULT.`),n.push("💡 Puedes agregar una política personalizada en Configuración → CARGO-IMP."),{policy:o,source:"default",airlineName:`Aerolínea ${t} (usando DEFAULT)`,isDefault:!0,warnings:n}}generateFWB(t,a){const n=Se(t.awbNumber),o=this.getAirlinePolicy(n),s=a||o.fwbVersion,l=this.buildFwbSegments(t,o,s),c=this.assembleMessage(l,o),d=[];return l.forEach(p=>{p.errors.length>0&&d.push(...p.errors.map(h=>`${p.code}: ${h}`))}),{type:"FWB",version:s,awbNumber:t.awbNumber,segments:l,fullMessage:c,isValid:d.length===0,errors:d,policy:o,timestamp:new Date().toISOString()}}generateFHL(t,a,n){const o=Se(t.awbNumber),s=this.getAirlinePolicy(o),l=n||s.fhlVersion,c=this.buildFhlSegments(t,a,s,l),d=this.assembleFhlMessage(c),p=[];return c.forEach(h=>{h.errors.length>0&&p.push(...h.errors.map(u=>`${h.code}: ${u}`))}),{type:"FHL",version:l,awbNumber:t.awbNumber,hawbNumber:a.hawbNumber,segments:c,fullMessage:d,isValid:p.length===0,errors:p,policy:s,timestamp:new Date().toISOString()}}generateConcatenatedFHL(t,a){if(!t.houseBills||t.houseBills.length===0)return"";const n=Se(t.awbNumber),o=this.getAirlinePolicy(n),s=a||o.fhlVersion,l=[];return t.houseBills.forEach((c,d)=>{const p=this.generateFHL(t,c,s),h=wr(p.fullMessage,!0);l.push(h)}),l.join(`&
`)}generateFHLCase7(t,a,n){const o=Se(t.awbNumber),s=this.getAirlinePolicy(o),l=n||s.fhlVersion,c={...s,includeUnbUnz:!0,fhlAlwaysWithHeader:!0},d=this.buildFhlSegments(t,a,c,l,!0);let p=this.assembleFhlMessage(d);p=wr(p,!1);const h=[];return d.forEach(u=>{u.errors.length>0&&h.push(...u.errors.map(i=>`${u.code}: ${i}`))}),{type:"FHL",version:l,awbNumber:t.awbNumber,hawbNumber:a.hawbNumber,segments:d,fullMessage:p,isValid:h.length===0,errors:h,policy:c,timestamp:new Date().toISOString()}}generateAllFHLCase8(t,a){if(!t.houseBills||t.houseBills.length===0)return"";const n=Se(t.awbNumber),o=this.getAirlinePolicy(n),s=a||o.fhlVersion;let l=s+`
`;return t.houseBills.forEach((c,d)=>{const p=d===0,h=this.buildFhlSegmentsCase8(t,c,o,s,p),u=this.assembleFhlMessageWithoutHeader(h),i=wr(u,!0);l+=i}),l}generateMessageBundle(t){const a=Se(t.awbNumber),n=this.getAirlinePolicy(a),o=Math.floor(n.policy/10),s=n.policy%10,l=this.generateFWB(t);l.fullMessage=fo(l.fullMessage);const c=[];let d;if(t.houseBills&&t.houseBills.length>0)switch(o){case 2:case 4:t.houseBills.forEach(p=>{const h=this.generateFHL(t,p);h.fullMessage=wr(h.fullMessage,!1),c.push(h)});break;case 5:d=this.generateConcatenatedFHL(t);break;case 7:t.houseBills.forEach(p=>{const h=this.generateFHLCase7(t,p);c.push(h)});break;case 8:d=this.generateAllFHLCase8(t);break;default:t.houseBills.forEach(p=>{const h=this.generateFHL(t,p);h.fullMessage=wr(h.fullMessage,!1),c.push(h)})}return{fwb:l,fhls:c,concatenatedFhl:d,policyCase:o,policyOption:s}}buildFwbSegments(t,a,n){const o=[],s=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","NFY","FTR"],l=a.enabledSegments||[],c=a.disabledSegments||[];return s.forEach((d,p)=>{Fe[d];const h=l.length>0?l.includes(d)&&!c.includes(d):!c.includes(d),u=this.buildFwbSegment(d,t,a,n,h,p+1);o.push(u)}),o.sort((d,p)=>d.order-p.order)}buildFwbSegment(t,a,n,o,s,l){var m,x,v,k,N,A,F,f,T,E,O,B;const c=Fe[t];let d="",p=[];const h=[],u=[];switch(t){case"FWB":d=this.buildFwbHeader(a,n,o),p=[{name:"version",value:o,originalValue:o,maxLength:7,required:!0,modified:!1}];break;case"AWB":d=this.buildAwbSegment(a),p=[{name:"awbNumber",value:yr(a.awbNumber),originalValue:yr(a.awbNumber),maxLength:11,required:!0,modified:!1},{name:"origin",value:a.origin,originalValue:a.origin,maxLength:3,required:!0,modified:!1},{name:"destination",value:ze(a.destination),originalValue:ze(a.destination),maxLength:3,required:!0,modified:!1},{name:"pieces",value:a.pieces.toString(),originalValue:a.pieces.toString(),maxLength:5,required:!0,modified:!1},{name:"weight",value:se(a.weight),originalValue:se(a.weight),maxLength:10,required:!0,modified:!1}];break;case"FLT":d=this.buildFltSegment(a),a.flights&&a.flights.length>0&&(p=a.flights.slice(0,2).map((V,ue)=>({name:`flight${ue+1}`,value:V.flightNumber,originalValue:V.flightNumber,maxLength:10,required:!1,modified:!1})));break;case"RTG":d=this.buildRtgSegment(a),p=[{name:"routing",value:d,originalValue:d,maxLength:100,required:!0,modified:!1}];break;case"SHP":const X=(x=(m=a.agent)==null?void 0:m.address)==null?void 0:x.postalCode;d=this.buildShpSegment(a.shipper,((k=(v=a.consignee)==null?void 0:v.address)==null?void 0:k.countryCode)||"",a.awbNumber,o,X),p=[{name:"name",value:z(a.shipper.name,35,!0),originalValue:z(a.shipper.name,35,!0),maxLength:35,required:!0,modified:!1},{name:"address",value:z(a.shipper.address.street,35,!0),originalValue:z(a.shipper.address.street,35,!0),maxLength:35,required:!0,modified:!1},{name:"city",value:a.shipper.address.place,originalValue:a.shipper.address.place,maxLength:17,required:!0,modified:!1},{name:"country",value:a.shipper.address.countryCode,originalValue:a.shipper.address.countryCode,maxLength:2,required:!0,modified:!1},{name:"postalCode",value:qe(a.shipper.address.postalCode,a.shipper.address.countryCode,X),originalValue:qe(a.shipper.address.postalCode,a.shipper.address.countryCode,X),maxLength:9,required:!1,modified:!1}];break;case"CNE":const _=(A=(N=a.agent)==null?void 0:N.address)==null?void 0:A.postalCode;d=this.buildCneSegment(a.consignee,o,_),p=[{name:"name",value:z(a.consignee.name,35,!0),originalValue:z(a.consignee.name,35,!0),maxLength:35,required:!0,modified:!1},{name:"address",value:z(a.consignee.address.street,35,!0),originalValue:z(a.consignee.address.street,35,!0),maxLength:35,required:!0,modified:!1},{name:"city",value:a.consignee.address.place,originalValue:a.consignee.address.place,maxLength:17,required:!0,modified:!1},{name:"country",value:a.consignee.address.countryCode,originalValue:a.consignee.address.countryCode,maxLength:2,required:!0,modified:!1},{name:"postalCode",value:qe(a.consignee.address.postalCode,a.consignee.address.countryCode,_),originalValue:qe(a.consignee.address.postalCode,a.consignee.address.countryCode,_),maxLength:9,required:!0,modified:!1}];break;case"AGT":d=this.buildAgtSegment(a),p=[{name:"iataCode",value:a.agent.iataCode,originalValue:a.agent.iataCode,maxLength:7,required:!0,modified:!1},{name:"cassCode",value:a.agent.cassCode||"",originalValue:a.agent.cassCode||"",maxLength:4,required:!1,modified:!1},{name:"name",value:a.agent.name,originalValue:a.agent.name,maxLength:35,required:!0,modified:!1}];break;case"SSR":d=this.buildSsrSegment(a),p=[{name:"ssr",value:a.specialServiceRequest||"",originalValue:a.specialServiceRequest||"",maxLength:65,required:!1,modified:!1}];break;case"ACC":d=this.buildAccSegment(a),a.accounting&&a.accounting.length>0&&(p=a.accounting.map((V,ue)=>({name:`acc${ue+1}`,value:V.accountingInformation||"",originalValue:V.accountingInformation||"",maxLength:34,required:!1,modified:!1})));break;case"CVD":d=this.buildCvdSegment(a);const j=this.calculateWtOt(a);p=[{name:"currency",value:a.currency,originalValue:a.currency,maxLength:3,required:!0,modified:!1},{name:"wtOt",value:j,originalValue:j,maxLength:2,required:!0,modified:!1},{name:"declaredCarriage",value:a.declaredValueCarriage||"NVD",originalValue:a.declaredValueCarriage||"NVD",maxLength:15,required:!0,modified:!1},{name:"declaredCustoms",value:a.declaredValueCustoms||"NCV",originalValue:a.declaredValueCustoms||"NCV",maxLength:15,required:!0,modified:!1}];break;case"RTD":d=this.buildRtdSegment(a,n);break;case"NG":d=this.buildNgSegment(a,n);const ae=this.getNatureOfGoods(a,n);p=[{name:"description",value:ae,originalValue:ae,maxLength:20,required:!0,modified:!1}];break;case"NH":d=this.buildNhSegment(a);break;case"OTH":d=this.buildOthSegment(a);break;case"PPD":d=a.paymentMethod==="Prepaid"?this.buildChargeSummary(a,"PPD"):"";break;case"COL":d=a.paymentMethod==="Collect"?this.buildChargeSummary(a,"COL"):"";break;case"CER":d=this.buildCerSegment(a,n);break;case"ISU":d=this.buildIsuSegment(a,n);break;case"REF":d=this.buildRefSegment(a);break;case"SPH":d=this.buildSphSegment(a,n);const le=this.getSphCodes(a,n);p=[{name:"codes",value:le.join("/"),originalValue:le.join("/"),maxLength:40,required:!0,modified:!1}];break;case"OCI":d=this.buildOciSegment(a,n);break;case"NFY":d=this.buildNfySegment(a),a.alsoNotify&&(p=[{name:"name",value:a.alsoNotify.name||"",originalValue:a.alsoNotify.name||"",maxLength:35,required:!1,modified:!1},{name:"address",value:((F=a.alsoNotify.address)==null?void 0:F.street)||"",originalValue:((f=a.alsoNotify.address)==null?void 0:f.street)||"",maxLength:35,required:!1,modified:!1},{name:"city",value:((T=a.alsoNotify.address)==null?void 0:T.place)||"",originalValue:((E=a.alsoNotify.address)==null?void 0:E.place)||"",maxLength:17,required:!1,modified:!1},{name:"country",value:((O=a.alsoNotify.address)==null?void 0:O.countryCode)||"",originalValue:((B=a.alsoNotify.address)==null?void 0:B.countryCode)||"",maxLength:2,required:!1,modified:!1}]);break;case"FTR":d=this.buildFwbFooter(n);break}const i=d.length>c.maxLength?d:void 0;return d.length>c.maxLength&&h.push(`Excede límite: ${d.length}/${c.maxLength} caracteres (${d.length-c.maxLength} de más)`),{type:t,code:t,name:c.name,content:d,originalContent:i,order:l,enabled:s,editable:!["FWB","FTR","AWB"].includes(t),currentLength:d.length,maxLength:c.maxLength,errors:h,warnings:u,fields:p}}buildTypeBHeader(t,a,n){const o=this.getTypeBConfig(),s=a.typeBPriority||o.defaultPriority,l=o.recipientAddress||"DSGUNXA",c=o.senderPrefix||"DSGTPXA",d=o.originAddress||"TDVAGT03OPERFLOR/BOG1",p=o.includeTimestamp??!0;let h=`.${c}`;if(p){const u=new Date,i=String(u.getUTCDate()).padStart(2,"0")+String(u.getUTCHours()).padStart(2,"0")+String(u.getUTCMinutes()).padStart(2,"0");h+=` ${i}`}return h+=` ${d}`,`${s} ${l}
${h}
${n}`}getCarrierCodeForTypeB(t){if(t.flights&&t.flights.length>0&&t.flights[0].carrierCode)return t.flights[0].carrierCode.toUpperCase().substring(0,2);const a=Se(t.awbNumber);return{729:"AV",134:"AV",743:"QT",270:"LA",145:"LA",985:"LA",105:"CM",230:"P5","044":"AD",957:"G3",999:"C$",695:"CX",406:"5Y","023":"5X",580:"UX","001":"AA","006":"DL","016":"UA","014":"AC",992:"AA","057":"AF","074":"KL","075":"IB","045":"IB",220:"LH","020":"LH",235:"TK",125:"BA",932:"VS",555:"SU",176:"EK",157:"QR",607:"EY","071":"ET",131:"JL",180:"KE",160:"CA",618:"SQ"}[a]||"XX"}getTypeBConfig(){return Hr()}buildFwbHeader(t,a,n){var d;if(a.useTypeBHeader)return this.buildTypeBHeader(t,a,n);if(!a.includeUnbUnz)return n;const o=ua(),s=ct(),l=((d=t.routing)==null?void 0:d.recipientAddress)||a.airlineAddress||"AIRLINE_ADDRESS",c=n.replace("FWB/","");return`UNB+IATA:1+${o}+${l}:PIMA+${da()}+${s}+0++L'UNH+${s}+CIMFWB:${c}'${n}`}buildAwbSegment(t){const a=pa(t.awbNumber),n=t.origin.toUpperCase(),o=ze(t.destination);return`${a}${n}${o}/T${t.pieces}K${se(t.weight)}`}buildFltSegment(t){if(!t.flights||t.flights.length===0)return"";const a=["FLT"];return t.flights.slice(0,2).forEach(n=>{const o=n.date?new Date(n.date).getDate().toString().padStart(2,"0"):"";a.push(`/${n.flightNumber}/${o}`)}),a.join("")}buildRtgSegment(t){const a=["RTG"];return t.flights&&t.flights.length>0?t.flights.forEach(n=>{const o=ze(n.destination);a.push(`/${o}${n.carrierCode}`)}):a.push(`/${t.origin}XX/${ze(t.destination)}XX`),a.join("")}buildShpSegment(t,a,n,o,s){var m;const l=z(t.name,35,!0),c=z(t.address.street,35,!0),d=t.address.place.toUpperCase(),p=t.address.countryCode.toUpperCase();let h=qe(t.address.postalCode,p,s);const u=Se(n);p==="EC"&&(a==="CN"||u==="992"||u==="176")&&(h=ma());let i="";return o==="FWB/17"?i=`SHP
NAM/${l}
ADR/${c}
LOC/${d}
/${p}/${h}`:i=`SHP
/${l}
/${c}
/${d}
/${p}/${h}`,(m=t.contact)!=null&&m.number&&(i+=`/TE/${t.contact.number.replace(/\s/g,"")}`),i}buildCneSegment(t,a,n){var i,m;const o=z(t.name,35,!0),s=z(t.address.street,35,!0),l=t.address.place.toUpperCase(),c=t.address.countryCode.toUpperCase(),d=((i=t.address.state)==null?void 0:i.toUpperCase())||"",p=qe(t.address.postalCode,c,n);let h=l;c==="US"&&d&&(h=`${l}/${d}`);let u=`CNE
/${o}
/${s}
/${h}
/${c}/${p}`;return(m=t.contact)!=null&&m.number&&(u+=`/TE/${t.contact.number.replace(/\s/g,"")}`),u}buildAgtSegment(t){const a=t.agent.iataCode,n=t.agent.cassCode||"",o=z(t.agent.name,35,!0),s=t.agent.place.toUpperCase();return`AGT//${a}/${n}
/${o}
/${s}`}buildSsrSegment(t){if(!t.specialServiceRequest)return"";const a=z(t.specialServiceRequest,195,!0).split(`
`).filter(n=>n.trim()).slice(0,3);return a.length===0?"":"SSR/"+a.map(n=>z(n,65,!1,!1)).join(`
/`)}buildCvdSegment(t){const a=t.currency,n=this.calculateWtOt(t),o=t.declaredValueCarriage||"NVD",s=t.declaredValueCustoms||"NCV";return`CVD/${a}//${n}/${o}/${s}/XXX`}calculateWtOt(t){const a=t.paymentMethod==="Prepaid";let n=!1,o=!1;return t.otherCharges&&t.otherCharges.length>0&&t.otherCharges.forEach(s=>{s.paymentMethod==="Collect"&&(n=!0),s.paymentMethod==="Prepaid"&&(o=!0)}),a?n&&!o?"PC":"PP":o&&!n?"CP":"CC"}buildRtdSegment(t,a){const n=[],o=a.policy%10;return t.rates.forEach((s,l)=>{let c=`RTD/${l+1}/P${s.pieces}`;if(c+=`/K${se(s.weight)}`,c+=`/C${this.mapRateClass(s.rateClassCode)}`,s.commodityCode&&/^\d+$/.test(s.commodityCode)&&(c+=`/S${s.commodityCode.padStart(4,"0").substring(0,4)}`),s.chargeableWeight&&(c+=`/W${se(s.chargeableWeight)}`),o>=1){const d=s.rateOrCharge?se(s.rateOrCharge,2):"0.0",p=s.total?se(s.total,2):"0.0";c+=`/R${d}/T${p}`}n.push(c)}),n.join(`
`)}mapRateClass(t){const a={QUANTITY_RATE:"Q",NORMAL_RATE:"N",MINIMUM_CHARGE:"M",SPECIFIC_COMMODITY_RATE:"C",BASIC_CHARGE:"B"};return t.length===1?t:a[t]||"Q"}buildNgSegment(t,a){const n=Se(t.awbNumber);if(n==="985"||n==="145"){const s=t.rates[0],l=(s==null?void 0:s.commodityCode)||"";return t.hasHouses&&(l==="0609"||l==="609")?"/NC/CONSOLIDATE FLOWERS":"/NG/CUT FLOWERS"}return`/NG/${this.getNatureOfGoods(t,a)}`}getNatureOfGoods(t,a){return t.goodsDescriptionOverride?z(t.goodsDescriptionOverride,20,!0):t.description?z(t.description,20,!0):"FRESHPERISH"}buildNhSegment(t){const a=[];return t.rates.forEach(o=>{o.hsCodes?a.push(...o.hsCodes):o.hsCode&&a.push(o.hsCode)}),t.hasHouses&&t.houseBills&&t.houseBills.length>0&&t.houseBills.forEach(o=>{o.htsCodes&&o.htsCodes.length>0&&a.push(...o.htsCodes)}),a.length===0?"":[...new Set(a)].map((o,s)=>`/${s+2}/NH/${o}`).join(`
`)}buildOthSegment(t){if(!t.otherCharges||t.otherCharges.length===0)return"";const a=["OTH"];return t.otherCharges.forEach(n=>{const o=n.paymentMethod==="Prepaid"?"P":"C";a.push(`/${o}/${n.code}${se(n.amount,2)}`)}),a.join(`
`)}buildChargeSummary(t,a){if(t.chargeSummaryOverride){const d=t.chargeSummaryOverride;let p=`${a}`;return d.totalWeightCharge&&(p+=`/WT${d.totalWeightCharge}`),d.totalOtherChargesDueAgent&&(p+=`
/OA${d.totalOtherChargesDueAgent}`),d.totalOtherChargesDueCarrier&&(p+=`/OC${d.totalOtherChargesDueCarrier}`),p+=`/CT${d.chargeSummaryTotal}`,p}let n=0,o=0,s=0;t.rates.forEach(d=>{n+=d.total||0}),t.otherCharges&&t.otherCharges.forEach(d=>{d.entitlement==="DueAgent"?o+=d.amount:s+=d.amount});const l=n+o+s;let c=`${a}/WT${se(n,2)}`;return(o>0||s>0)&&(c+=`
/OA${se(o,2)}/OC${se(s,2)}`),c+=`/CT${se(l,2)}`,c}buildCerSegment(t,a){let n;return a.useAgencyNameForCER?n=z(t.agent.name||Br(),20,!0):n=z(t.signature||Br(),20,!0),`CER/${n}`}buildIsuSegment(t,a){const n=vo(t.executionDate),o=(t.executionPlace||t.origin).toUpperCase();let s;return a!=null&&a.useAgencyNameForCER?s=z(t.agent.name||Br(),20,!0):s=z(t.signature||Br(),20,!0),`ISU/${n}/${o}/${s}`}buildRefSegment(t){const a=t.agent.iataCode,n=t.agent.cassCode||"",o=t.origin.toUpperCase();return`REF///AGT/${a}${n}/${o}`}buildSphSegment(t,a){return`SPH/${this.getSphCodes(t,a).join("/")}`}getSphCodes(t,a){return t.specialHandlingCodes&&t.specialHandlingCodes.length>0?t.specialHandlingCodes:a.defaultSphCodes}buildOciSegment(t,a){const n=t.consignee.address.countryCode.toUpperCase(),o=t.shipper.address.countryCode.toUpperCase(),s=t.consignee.taxId||t.consignee.accountNumber||"";let l="OCI";return o==="EC"?s?l+=`/${n}/CNE/T/${s.replace(/\s/g,"")}`:l+=`/${n}/CNE/T/EORI`:s?l+=`/${n}/CNE/T/EORI${s.replace(/\s/g,"")}`:l+=`/${n}/CNE/T/EORI`,l}buildAccSegment(t){if(!t.accounting||t.accounting.length===0)return"";const a=[];for(const n of t.accounting){let o=n.identifier||"GEN";o={GovernmentBillOfLading:"GBL",CreditCardNumber:"CC",CreditCardExpiryDate:"CCE",CreditCardIssuanceName:"CCN",GeneralInformation:"GEN",ModeOfSettlement:"MOS",ShippersReferenceNumber:"SRN"}[o]||o.substring(0,3).toUpperCase();const l=z(n.accountingInformation||"",34,!0);l&&a.push(`ACC/${o}/${l}`)}return a.join(`
`)}buildNfySegment(t){if(!t.alsoNotify)return"";const a=t.alsoNotify,n=[],o=z(a.name||"",35,!0);if(!o)return"";if(n.push(`NFY/${o}`),a.name2&&n.push(`/${z(a.name2,35,!0)}`),a.address){const s=z(a.address.street||"",35,!0);s&&n.push(`/${s}`),a.address.street2&&n.push(`/${z(a.address.street2,35,!0)}`)}if(a.address){const s=z(a.address.place||"",17,!0),l=a.address.state||"",c=a.address.countryCode||"",d=a.address.postalCode||"";(s||c)&&n.push(`/${s}/${l}/${c}/${d}`)}if(a.contact&&a.contact.number){const s=a.contact.identifier||"TE",l=z(a.contact.number,25,!0);n.push(`/${s}${l}`)}return n.join(`
`)}buildFwbFooter(t){if(t!=null&&t.useTypeBHeader)return"";const a=ct();return`'UNT+3+${a}'UNZ+1+${a}'`}getCountryFromAirport(t){return{BOG:"CO",MDE:"CO",CLO:"CO",CTG:"CO",UIO:"EC",GYE:"EC",MIA:"US",JFK:"US",LAX:"US",AMS:"NL",FRA:"DE",MAD:"ES",CDG:"FR",LHR:"GB"}[t.toUpperCase()]||"CO"}isFhlSegmentEnabled(t,a){return a.disabledFhlSegments&&a.disabledFhlSegments.length>0&&a.disabledFhlSegments.includes(t)?!1:a.enabledFhlSegments&&a.enabledFhlSegments.length>0?a.enabledFhlSegments.includes(t):!0}buildFhlSegments(t,a,n,o,s=!1){const l=[],c=s||n.fhlAlwaysWithHeader||n.includeUnbUnz&&n.policy%10<2,d=this.isFhlSegmentEnabled("FHL",n);if(c){const O=this.buildFhlEdifactHeader(t,n,o);l.push(this.createFhlSegment("FHL",O,1,d,[]))}else l.push(this.createFhlSegment("FHL",o,1,d,[]));const p=this.buildMbiSegment(t),h=this.isFhlSegmentEnabled("MBI",n);l.push(this.createFhlSegment("MBI",p,2,h,[{name:"awbNumber",value:yr(t.awbNumber),originalValue:yr(t.awbNumber),maxLength:11,required:!0,modified:!1},{name:"origin",value:t.origin,originalValue:t.origin,maxLength:3,required:!0,modified:!1},{name:"destination",value:t.destination,originalValue:t.destination,maxLength:3,required:!0,modified:!1}]));const u=this.buildHbsSegment(a,t,n),i=this.isFhlSegmentEnabled("HBS",n);l.push(this.createFhlSegment("HBS",u,3,i,[{name:"hawbNumber",value:a.hawbNumber,originalValue:a.hawbNumber,maxLength:20,required:!0,modified:!1},{name:"pieces",value:a.pieces.toString(),originalValue:a.pieces.toString(),maxLength:5,required:!0,modified:!1},{name:"weight",value:se(a.weight),originalValue:se(a.weight),maxLength:10,required:!0,modified:!1}]));const m=this.isFhlSegmentEnabled("HTS",n);if(a.htsCodes&&a.htsCodes.length>0){const O=`HTS/${a.htsCodes[0]}`;l.push(this.createFhlSegment("HTS",O,4,m,[]))}else l.push(this.createFhlSegment("HTS","",4,!1,[]));const x=this.buildFhlOciSegment(a,t,n),v=this.isFhlSegmentEnabled("OCI",n)&&!!x;l.push(this.createFhlSegment("OCI",x,5,v,[]));const k=this.buildFhlShpSegment(a,t,n),N=this.isFhlSegmentEnabled("SHP",n);l.push(this.createFhlSegment("SHP",k,6,N,[]));const A=this.buildFhlCneSegment(a,t,n),F=this.isFhlSegmentEnabled("CNE",n);l.push(this.createFhlSegment("CNE",A,7,F,[]));const f=`CVD/${t.currency}/PP/NVD/NCV/XXX`,T=this.isFhlSegmentEnabled("CVD",n);l.push(this.createFhlSegment("CVD",f,8,T,[]));const E=this.isFhlSegmentEnabled("FTR",n)&&!n.useTypeBHeader;return c&&!n.useTypeBHeader?l.push(this.createFhlSegment("FTR",this.buildFwbFooter(n),9,E,[])):l.push(this.createFhlSegment("FTR","",9,!1,[])),l}buildFhlEdifactHeader(t,a,n){var d;if(a.useTypeBHeader)return this.buildTypeBHeaderFhl(t,a,n);const o=ua(),s=ct(),l=((d=t.routing)==null?void 0:d.recipientAddress)||a.airlineAddress||"AIRLINE_ADDRESS",c=n.replace("FHL/","");return`UNB+IATA:1+${o}+${l}:PIMA+${da()}+${s}+0++L'UNH+${s}+CIMFHL:${c}'${n}`}buildTypeBHeaderFhl(t,a,n){const o=this.getTypeBConfig(),s=a.typeBPriority||o.defaultPriority,l=o.recipientAddress||"DSGUNXA",c=o.senderPrefix||"DSGTPXA",d=o.originAddress||"TDVAGT03OPERFLOR/BOG1",p=o.includeTimestamp??!0;let h=`.${c}`;if(p){const u=new Date,i=String(u.getUTCDate()).padStart(2,"0")+String(u.getUTCHours()).padStart(2,"0")+String(u.getUTCMinutes()).padStart(2,"0");h+=` ${i}`}return h+=` ${d}`,`${s} ${l}
${h}
${n}`}buildFhlSegmentsCase8(t,a,n,o,s){const l=[];if(s){const i=this.buildMbiSegment(t);l.push(this.createFhlSegment("MBI",i,1,!0,[]))}const c=this.buildHbsSegment(a,t,n);if(l.push(this.createFhlSegment("HBS",c,2,!0,[])),a.htsCodes&&a.htsCodes.length>0){const i=`HTS/${a.htsCodes[0]}`;l.push(this.createFhlSegment("HTS",i,3,!0,[]))}const d=this.buildFhlOciSegment(a,t,n);d&&l.push(this.createFhlSegment("OCI",d,4,!0,[]));const p=this.buildFhlShpSegment(a,t,n);l.push(this.createFhlSegment("SHP",p,5,!0,[]));const h=this.buildFhlCneSegment(a,t,n);l.push(this.createFhlSegment("CNE",h,6,!0,[]));const u=`CVD/${t.currency}/PP/NVD/NCV/XXX`;return l.push(this.createFhlSegment("CVD",u,7,!0,[])),l}assembleFhlMessageWithoutHeader(t){return t.filter(a=>a.enabled&&a.content).sort((a,n)=>a.order-n.order).map(a=>a.content).join(`
`)+`
`}createFhlSegment(t,a,n,o,s){const l=me[t],c=[],d=a.length>l.maxLength?a:void 0;return a.length>l.maxLength&&c.push(`Excede límite: ${a.length}/${l.maxLength} caracteres (${a.length-l.maxLength} de más)`),{type:t,code:t,name:l.name,content:a,originalContent:d,order:n,enabled:o,editable:!["FHL","FTR","MBI"].includes(t),currentLength:a.length,maxLength:l.maxLength,errors:c,warnings:[],fields:s}}buildMbiSegment(t){const a=pa(t.awbNumber),n=t.origin.toUpperCase(),o=ze(t.destination);return`MBI/${a}${n}${o}/T${t.pieces}K${se(t.weight,0)}`}buildHbsSegment(t,a,n){const o=(t.origin||a.origin).toUpperCase(),s=ze(t.destination||a.destination),l=z(t.natureOfGoods,11,!1,!1)||"CUTFLOWERS",c=n.hawbPrefixAdd0||["CM","SK","LG"];let d=Co(t.hawbNumber);d=xo(d,c);const p=n.fhlVersion==="FHL/4"?"//":"/";return`HBS/${d}/${o}${s}/${t.pieces}/K${se(t.weight)}${p}${l}`}buildFhlOciSegment(t,a,n){var d,p,h,u;const o=t.consignee||a.consignee,s=((p=(d=o.address)==null?void 0:d.countryCode)==null?void 0:p.toUpperCase())||"US",l=o.taxId||o.accountNumber||"";return l?(((u=(h=(t.shipper||a.shipper).address)==null?void 0:h.countryCode)==null?void 0:u.toUpperCase())||"CO")==="EC"||n.ociFormat==="withoutPrefix"?`OCI/${s}/CNE/T/${l.replace(/\s/g,"")}`:`OCI/${s}/CNE/T/EORI${l.replace(/\s/g,"")}`:""}buildFhlShpSegment(t,a,n){var i,m,x,v,k,N,A,F;const o=t.shipper||{name:t.shipperName,address:a.shipper.address},s=z(o.name||t.shipperName,35,!0),l=z(((i=o.address)==null?void 0:i.street)||"",35,!0),c=(((m=o.address)==null?void 0:m.place)||"").toUpperCase(),d=(((x=o.address)==null?void 0:x.countryCode)||"CO").toUpperCase(),p=(k=(v=a.agent)==null?void 0:v.address)==null?void 0:k.postalCode;let h=qe((N=o.address)==null?void 0:N.postalCode,d,p);if(n.requiresChinaPostalCode&&d==="EC"){const f=((F=(A=(t.consignee||a.consignee).address)==null?void 0:A.countryCode)==null?void 0:F.toUpperCase())||"",T=Se(a.awbNumber);(f==="CN"||T==="992"||T==="176")&&(h=ma())}return`SHP/${s}
/${l}
/${c}
/${d}/${h||""}`}buildFhlCneSegment(t,a,n){var x,v,k,N,A,F,f;const o=t.consignee||{name:t.consigneeName,address:a.consignee.address},s=z(o.name||t.consigneeName,35,!0),l=z(((x=o.address)==null?void 0:x.street)||"",35,!0),c=(((v=o.address)==null?void 0:v.place)||"").toUpperCase(),d=(((k=o.address)==null?void 0:k.countryCode)||"US").toUpperCase(),p=((A=(N=o.address)==null?void 0:N.state)==null?void 0:A.toUpperCase())||"";let h=((F=o.address)==null?void 0:F.postalCode)||"";h.length>9&&(h=h.substring(0,9)),h||(h="10");let u=c;d==="US"&&p&&(u=`${c}/${p}`);let i=`CNE/${s}
/${l}
/${u}
/${d}/${h}`;const m=(f=o.contact)==null?void 0:f.number;return m&&(i+=`/TE/${m.replace(/\s/g,"")}`),i}assembleMessage(t,a){return t.filter(n=>n.enabled&&n.content).sort((n,o)=>n.order-o.order).map(n=>n.content).join(`
`)}assembleFhlMessage(t){return t.filter(a=>a.enabled&&a.content).sort((a,n)=>a.order-n.order).map(a=>a.content).join(`
`)}getAllFwbSegments(){return Fe}getAllFhlSegments(){return me}getAllAirlinePolicies(){return Ve}updateSegment(t,a){return{...t,content:a,currentLength:a.length,errors:a.length>t.maxLength?[`Excede límite de ${t.maxLength} caracteres`]:[]}}regenerateMessage(t,a){return this.assembleMessage(t,a)}}const Mr=new wo;class yo{constructor(t){this.credentials=t}updateCredentials(t){this.credentials={...this.credentials,...t}}isConfigured(){return!!(this.credentials.endpoint&&this.credentials.username&&this.credentials.password)}getAuthHeader(){const t=`${this.credentials.username}:${this.credentials.password}`;return`Basic ${btoa(t)}`}parseDescartesXml(t){const a={};try{const o=new DOMParser().parseFromString(t,"text/xml"),s=o.querySelector("parsererror");if(s)return console.warn("Error parseando XML de Descartes:",s.textContent),a;const l=p=>{const h=o.querySelector(p);return(h==null?void 0:h.textContent)||void 0};a.host=l("host"),a.service=l("service"),a.created=l("created"),a.version=l("version"),a.status=l("status"),a.tid=l("tid"),a.error=l("error"),a.errorShort=l("errorShort"),a.errorDetail=l("errorDetail"),a.unhandledException=l("unhandledException");const c=l("bytesReceived");c&&(a.bytesReceived=parseInt(c,10));const d=l("retryAfter");d&&(a.retryAfter=parseInt(d,10))}catch(n){console.error("Error parseando respuesta Descartes:",n)}return a}isSuccessResponse(t){return t.error||t.errorShort||t.errorDetail||t.unhandledException?!1:!!(t.status||t.tid)}async sendMessage(t,a,n){const o=new Date().toISOString();if(!this.isConfigured())return{success:!1,messageType:a,reference:n,error:"Servicio no configurado. Falta endpoint, usuario o contraseña.",timestamp:o};try{const s=await fetch(this.credentials.endpoint,{method:"POST",headers:{"Content-Type":"application/x-CARGO-IMP",Authorization:this.getAuthHeader()},body:t}),l=await s.text(),c=this.parseDescartesXml(l);if(s.ok&&this.isSuccessResponse(c))return{success:!0,messageType:a,reference:n,httpStatus:s.status,responseMessage:c.status||"OK",descartesResponse:c,timestamp:o};{let p="";return c.error?p=c.error:c.errorShort?p=c.errorShort:c.errorDetail?p=c.errorDetail:c.unhandledException?p=`Exception: ${c.unhandledException}`:s.ok?p="Error desconocido en respuesta":p=`HTTP ${s.status}: ${s.statusText}`,{success:!1,messageType:a,reference:n,httpStatus:s.status,responseMessage:l,descartesResponse:c,error:p,timestamp:o}}}catch(s){return{success:!1,messageType:a,reference:n,error:s instanceof Error?s.message:"Error de conexión desconocido",timestamp:o}}}async sendBundle(t,a,n=[],o=[]){const s=[];let l=0,c=0;console.log(`📤 Transmitiendo FWB ${a} a Descartes...`);const d=await this.sendMessage(t,"FWB",a);if(d.success?(l++,console.log(`✅ FWB ${a} transmitido exitosamente`)):(c++,console.error(`❌ Error transmitiendo FWB ${a}:`,d.error)),d.success&&n.length>0)for(let i=0;i<n.length;i++){const m=n[i],x=o[i]||`HAWB-${i+1}`;console.log(`📤 Transmitiendo FHL ${x} (${i+1}/${n.length})...`);const v=await this.sendMessage(m,"FHL",x);s.push(v),v.success?(l++,console.log(`✅ FHL ${x} transmitido exitosamente`)):(c++,console.error(`❌ Error transmitiendo FHL ${x}:`,v.error)),i<n.length-1&&await this.delay(100)}const p=1+n.length,h=c===0;let u;return h?u=`✅ Transmisión exitosa: FWB${n.length>0?` + ${n.length} FHL`:""} enviados a Descartes`:l===0?u="❌ Error en transmisión: No se pudo enviar ningún mensaje":u=`⚠️ Transmisión parcial: ${l}/${p} mensajes enviados (${c} fallidos)`,{allSuccess:h,fwbResult:d,fhlResults:s,summary:u,totalSent:p,totalSuccess:l,totalFailed:c}}delay(t){return new Promise(a=>setTimeout(a,t))}}/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),So=(...r)=>r.filter((t,a,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===a).join(" ").trim();/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ao={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=({color:r="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,children:o,iconNode:s,class:l="",...c})=>Ge("svg",{...Ao,width:String(t),height:t,stroke:r,"stroke-width":n?Number(a)*24/Number(t):a,class:["lucide",l].join(" "),...c},[...s.map(([d,p])=>Ge(d,p)),...br(o)]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=(r,t)=>{const a=({class:n="",children:o,...s})=>Ge(ko,{...s,iconNode:t,class:So(`lucide-${No(r)}`,n)},o);return a.displayName=`${r}`,a};/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=$("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=$("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=$("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=$("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=$("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=$("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=$("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=$("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=$("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=$("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=$("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=$("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=$("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=$("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=$("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=$("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=$("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=$("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=$("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=$("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=$("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=$("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=$("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=$("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-preact v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let Ke={...vr};function Lo(){Ke={...vr}}const Ze=({title:r,icon:t,children:a,defaultOpen:n=!1,badge:o})=>{const[s,l]=L(n);return e("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[e("button",{onClick:()=>l(!s),className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"text-purple-600",children:t}),e("span",{className:"font-semibold text-slate-700",children:r}),o&&e("span",{className:"text-xs bg-sky-100 text-sky-600 px-2 py-0.5 rounded-full",children:o})]}),s?e(Sr,{size:18,className:"text-slate-400"}):e(je,{size:18,className:"text-slate-400"})]}),s&&e("div",{className:"p-4 bg-white border-t border-slate-100",children:a})]})},Do=({isOpen:r,onClose:t,onConfigChange:a,onSaveConfig:n})=>{var Z,ye,ke,xe,ge,De,ve,I,Qe,$e,Je,er,G,de,rr,Q,tr,oe;const[o,s]=L(()=>({...Ke})),[l,c]=L(null),[d,p]=L(""),[h,u]=L([]),[i,m]=L(""),[x,v]=L("AGT"),[k,N]=L("RA"),[A,F]=L(null),[f,T]=L(()=>ca()),[E,O]=L(()=>Hr()),B=J(b=>{ho(b),T(b),a&&setTimeout(()=>a(Ke),0)},[a]),X=J(b=>{bo(b),O(Hr()),a&&setTimeout(()=>a(Ke),0)},[a]);or(()=>{r&&(s({...Ke}),T(ca()),O(Hr()),c(null))},[r]);const _=J((b,S)=>{s(q=>{const Y={...q,[b]:S};return Ke=Y,Y}),c(null),a&&setTimeout(()=>{a(Ke)},0)},[a]),j=()=>{if(d&&d.length===3&&h.length>0){const b={...o.sphByAirline,[d]:h};_("sphByAirline",b),p(""),u([])}},ae=b=>{if(b==="DEFAULT")return;const S={...o.sphByAirline};delete S[b],_("sphByAirline",S)},le=()=>{if(i&&i.length===2){const b={...o.ociByOriginCountry,[i]:[{countryCode:i,infoIdentifier:x,controlInfo:k}]};_("ociByOriginCountry",b),m(""),v("AGT"),N("RA")}},V=(b,S,q)=>{const Y=o.ociByOriginCountry[b]||[];if(Y.some(M=>M.infoIdentifier===S&&M.controlInfo===q))return;const R={...o.ociByOriginCountry,[b]:[...Y,{countryCode:b,infoIdentifier:S,controlInfo:q}]};_("ociByOriginCountry",R)},ue=(b,S)=>{const q=o.ociByOriginCountry[b]||[];if(q.length<=1)return;const Y={...o.ociByOriginCountry,[b]:q.filter((R,M)=>M!==S)};_("ociByOriginCountry",Y)},Ae=b=>{if(b==="DEFAULT")return;const S={...o.ociByOriginCountry};delete S[b],_("ociByOriginCountry",S)};return r?e("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[e("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),e("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-purple-300 bg-purple-600 flex items-center justify-between",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"bg-white/30 p-2 rounded-lg",children:e(ht,{size:22,className:"text-white"})}),e("div",{children:[e("h2",{className:"font-bold text-lg text-white",children:"Configuración del Conector"}),e("p",{className:"text-sm text-purple-200",children:"Lógicas de negocio dinámicas por aerolínea y país"})]})]}),e("button",{onClick:t,className:"hover:bg-white/20 p-2 rounded-lg transition-colors",children:e(Me,{size:20,className:"text-white"})})]}),e("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l&&e("div",{className:`flex items-center gap-2 p-3 rounded-lg ${l.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[l.type==="success"?e(Oe,{size:18}):e(fe,{size:18}),e("span",{className:"text-sm font-medium",children:l.text})]}),e("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e("div",{className:"flex items-start gap-3",children:[e(sr,{className:"text-purple-600 mt-0.5 flex-shrink-0",size:18}),e("div",{className:"text-sm text-purple-800",children:[e("p",{className:"font-semibold mb-1",children:"📋 Aclaración: Campo accountNumber vs NIT/RUC"}),e("p",{className:"text-purple-700",children:["El campo ",e("code",{className:"bg-purple-100 px-1 rounded",children:"accountNumber"})," en Shipper/Consignee es un",e("strong",{children:" código de cuenta asignado por la aerolínea"}),", NO el NIT/RUC del cliente."]})]})]})}),e(Ze,{title:"Formato de Mensaje (Descartes)",icon:e(fa,{size:18}),badge:f?"Type B":"EDIFACT",defaultOpen:!0,children:e("div",{className:"space-y-4",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:["Selecciona el formato de envelope para los mensajes EDI. ",e("strong",{children:"Type B"})," es requerido para envío directo a Descartes."]}),e("div",{className:"grid grid-cols-2 gap-4",children:[e("button",{onClick:()=>B(!1),className:`p-4 rounded-lg border-2 text-left transition-all ${f?"border-slate-200 bg-white hover:border-slate-300":"border-purple-500 bg-purple-50"}`,children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${f?"border-slate-300":"border-purple-500"}`,children:!f&&e("div",{className:"w-2 h-2 bg-purple-500 rounded-full"})}),e("span",{className:`font-semibold ${f?"text-slate-700":"text-purple-700"}`,children:"EDIFACT (UNB/UNZ)"})]}),e("p",{className:"text-xs text-slate-500",children:"Envelope EDIFACT estándar con segmentos UNB, UNH, UNT, UNZ"}),e("div",{className:"mt-2 text-xs font-mono bg-slate-100 p-2 rounded text-slate-600",children:["UNB+IATA:1+SENDER...",e("br",{}),"FWB/17",e("br",{}),"...",e("br",{}),"'UNT+3+...'UNZ+1+...'"]})]}),e("button",{onClick:()=>B(!0),className:`p-4 rounded-lg border-2 text-left transition-all ${f?"border-sky-500 bg-sky-50":"border-slate-200 bg-white hover:border-slate-300"}`,children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${f?"border-sky-500":"border-slate-300"}`,children:f&&e("div",{className:"w-2 h-2 bg-sky-500 rounded-full"})}),e("span",{className:`font-semibold ${f?"text-sky-700":"text-slate-700"}`,children:"Type B (Descartes)"})]}),e("p",{className:"text-xs text-slate-500",children:"Formato IATA Type B para envío a Descartes GLN"}),e("div",{className:"mt-2 text-xs font-mono bg-slate-100 p-2 rounded text-slate-600",children:["QK ",E.recipientAddress||"DSGUNXA",e("br",{}),".",E.senderPrefix||"DSGTPXA",E.includeTimestamp?" DDHHmm":""," ",E.originAddress||"TDVAGT03OPERFLOR/BOG1",e("br",{}),"FWB/17",e("br",{}),"..."]}),e("p",{className:"text-xs text-slate-400 mt-1",children:"DSGUNXA = Descartes Universal Header (enruta automáticamente)"})]})]}),f&&e("div",{className:"mt-4 p-4 bg-sky-50 border border-sky-200 rounded-lg space-y-3",children:[e("p",{className:"text-sm font-semibold text-sky-800 flex items-center gap-2",children:[e(fa,{size:16})," Configuración Type B"]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Recipient Address (Descartes)"}),e("input",{type:"text",value:E.recipientAddress||"DSGUNXA",onChange:b=>X({recipientAddress:b.target.value}),className:"w-full border border-sky-300 rounded px-3 py-2 text-sm font-mono bg-white",placeholder:"DSGUNXA"}),e("p",{className:"text-xs text-sky-600 mt-1",children:"DSGUNXA = Descartes Universal Header (enruta automáticamente a la aerolínea)"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Sender Prefix (Línea 2)"}),e("input",{type:"text",value:E.senderPrefix||"DSGTPXA",onChange:b=>X({senderPrefix:b.target.value}),className:"w-full border border-sky-300 rounded px-3 py-2 text-sm font-mono bg-white",placeholder:"DSGTPXA"}),e("p",{className:"text-xs text-sky-600 mt-1",children:"Prefijo fijo de Descartes para la línea del sender"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Origin Address (Tu identificador)"}),e("input",{type:"text",value:E.originAddress||"TDVAGT03OPERFLOR/BOG1",onChange:b=>X({originAddress:b.target.value}),className:"w-full border border-sky-300 rounded px-3 py-2 text-sm font-mono bg-white",placeholder:"TDVAGT03OPERFLOR/BOG1"}),e("p",{className:"text-xs text-sky-600 mt-1",children:"Tu identificador de agente (proporcionado por Descartes)"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Timestamp en línea origen"}),e("div",{className:"flex items-center gap-3",children:[e("button",{onClick:()=>X({includeTimestamp:!1}),className:`px-3 py-1.5 rounded text-sm transition-colors ${E.includeTimestamp?"bg-white border border-sky-300 text-sky-700 hover:bg-sky-100":"bg-sky-600 text-white"}`,children:"Sin timestamp"}),e("button",{onClick:()=>X({includeTimestamp:!0}),className:`px-3 py-1.5 rounded text-sm transition-colors ${E.includeTimestamp?"bg-sky-600 text-white":"bg-white border border-sky-300 text-sky-700 hover:bg-sky-100"}`,children:"Con timestamp (DDHHmm)"})]}),e("p",{className:"text-xs text-sky-600 mt-1",children:E.includeTimestamp?"Ej: .DSGTPXA 031545 TDVAGT03OPERFLOR/BOG1":"Ej: .DSGTPXA TDVAGT03OPERFLOR/BOG1"})]}),e("div",{children:[e("label",{className:"text-xs text-sky-700 font-medium block mb-1",children:"Prioridad"}),e("div",{className:"flex gap-2",children:["QK","QD","QP","QU"].map(b=>e("button",{onClick:()=>X({defaultPriority:b}),className:`px-3 py-1.5 rounded text-sm font-mono transition-colors ${E.defaultPriority===b?"bg-sky-600 text-white":"bg-white border border-sky-300 text-sky-700 hover:bg-sky-100"}`,children:b},b))}),e("p",{className:"text-xs text-sky-600 mt-1",children:"QK=Normal, QD=Deferred, QP=Priority, QU=Urgent"})]})]})]})}),e(Ze,{title:"Special Handling Codes (SPH) por Aerolínea",icon:e(lr,{size:18}),badge:`${Object.keys(o.sphByAirline).length} aerolíneas`,defaultOpen:!1,children:e("div",{className:"space-y-3",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:"Define qué códigos SPH se agregan automáticamente según el prefijo AWB (primeros 3 dígitos)."}),e("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Object.entries(o.sphByAirline).map(([b,S])=>e("div",{className:`flex items-center justify-between p-3 rounded-lg border ${b==="DEFAULT"?"bg-purple-50 border-purple-200":"bg-slate-50 border-slate-200"}`,children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"font-mono font-bold text-slate-700 w-12",children:b}),e("span",{className:"text-slate-400",children:"→"}),e("div",{className:"flex flex-wrap gap-1",children:S.map(q=>e("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full font-medium",children:q},q))})]}),b!=="DEFAULT"&&e("button",{onClick:()=>ae(b),className:"text-red-500 hover:bg-red-100 p-1.5 rounded transition-colors",children:e(ft,{size:14})}),b==="DEFAULT"&&e("span",{className:"text-xs text-amber-600 font-medium",children:"Por defecto"})]},b))}),e("div",{className:"flex items-end gap-2 pt-4 border-t border-slate-200",children:[e("div",{className:"flex-shrink-0",children:[e("label",{className:"text-xs text-slate-500 font-medium block mb-1",children:"Prefijo AWB"}),e("input",{type:"text",value:d,onChange:b=>p(b.target.value.toUpperCase().slice(0,3)),placeholder:"075",className:"w-20 border border-slate-300 rounded px-2 py-1.5 text-sm font-mono",maxLength:3})]}),e("div",{className:"flex-1",children:[e("label",{className:"text-xs text-slate-500 font-medium block mb-1",children:"Códigos SPH (seleccione)"}),e("div",{className:"flex flex-wrap gap-1 border border-slate-300 rounded p-2 bg-white max-h-20 overflow-y-auto",children:Object.values(Dr).map(b=>e("button",{onClick:()=>{h.includes(b.code)?u(S=>S.filter(q=>q!==b.code)):u(S=>[...S,b.code])},className:`text-xs px-2 py-0.5 rounded-full transition-colors ${h.includes(b.code)?"bg-purple-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,title:b.description,children:b.code},b.code))})]}),e("button",{onClick:j,disabled:!d||d.length!==3||h.length===0,className:"flex-shrink-0 bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e(Wr,{size:14})," Agregar"]})]}),e("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:[e("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"📋 Prefijos AWB comunes:"}),e("div",{className:"grid grid-cols-4 gap-2 text-xs text-slate-500",children:[e("span",{children:[e("strong",{children:"075"})," = Iberia"]}),e("span",{children:[e("strong",{children:"145"})," = LATAM"]}),e("span",{children:[e("strong",{children:"985"})," = LATAM Cargo"]}),e("span",{children:[e("strong",{children:"074"})," = KLM"]}),e("span",{children:[e("strong",{children:"057"})," = Air France"]}),e("span",{children:[e("strong",{children:"020"})," = Lufthansa"]}),e("span",{children:[e("strong",{children:"205"})," = Emirates"]}),e("span",{children:[e("strong",{children:"176"})," = Emirates (alt)"]}),e("span",{children:[e("strong",{children:"235"})," = Turkish"]}),e("span",{children:[e("strong",{children:"157"})," = Qatar"]}),e("span",{children:[e("strong",{children:"045"})," = Avianca"]}),e("span",{children:[e("strong",{children:"369"})," = Atlas/Ethiopian"]}),e("span",{children:[e("strong",{children:"992"})," = DHL Aviation"]}),e("span",{children:[e("strong",{children:"999"})," = Polar/DHL"]}),e("span",{children:[e("strong",{children:"155"})," = ABX Air"]})]})]})]})}),e(Ze,{title:"OCI (Aduanas/Seguridad) por País de Origen",icon:e(Eo,{size:18}),badge:`${Object.keys(o.ociByOriginCountry).length} países`,children:e("div",{className:"space-y-3",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:"Define qué información OCI se agrega automáticamente según el país de origen del envío."}),e("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:Object.entries(o.ociByOriginCountry).map(([b,S])=>e("div",{className:`p-3 rounded-lg border ${b==="DEFAULT"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"flex items-center gap-2",children:[e("span",{className:"font-mono font-bold text-slate-700 bg-white px-2 py-1 rounded border",children:b}),b==="DEFAULT"&&e("span",{className:"text-xs text-amber-600 font-medium",children:"Por defecto"})]}),e("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>F(A===b?null:b),className:"text-purple-500 hover:bg-purple-100 p-1 rounded transition-colors text-xs",children:A===b?"Cerrar":"+ Agregar OCI"}),b!=="DEFAULT"&&e("button",{onClick:()=>Ae(b),className:"text-red-500 hover:bg-red-100 p-1 rounded transition-colors",children:e(ft,{size:14})})]})]}),e("div",{className:"space-y-1",children:S.map((q,Y)=>e("div",{className:"text-xs text-slate-600 flex items-center gap-2 bg-white p-1.5 rounded",children:[e("span",{className:"bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-medium",children:q.infoIdentifier}),e("span",{children:"→"}),e("span",{className:"bg-green-100 text-green-700 px-1.5 py-0.5 rounded font-medium",children:q.controlInfo}),S.length>1&&e("button",{onClick:()=>ue(b,Y),className:"ml-auto text-red-400 hover:text-red-600",children:e(Me,{size:12})})]},Y))}),A===b&&e("div",{className:"mt-3 pt-3 border-t border-dashed border-slate-300",children:[e("p",{className:"text-xs text-slate-500 mb-2",children:["Agregar nuevo OCI a ",b,":"]}),e("div",{className:"flex flex-wrap gap-2 items-center",children:[e("select",{value:x,onChange:q=>v(q.target.value),className:"border border-slate-300 rounded px-2 py-1 text-sm",children:[e("option",{value:"AGT",children:"AGT - Agent"}),e("option",{value:"CNE",children:"CNE - Consignee"}),e("option",{value:"SHP",children:"SHP - Shipper"}),e("option",{value:"FFW",children:"FFW - Freight Forwarder"})]}),e("select",{value:k,onChange:q=>N(q.target.value),className:"border border-slate-300 rounded px-2 py-1 text-sm",children:Object.entries(jt).map(([q,Y])=>e("option",{value:Y.short,children:[Y.short," - ",Y.description]},q))}),e("button",{onClick:()=>{V(b,x,k),F(null)},className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:e(Wr,{size:14})})]})]})]},b))}),e("div",{className:"pt-4 border-t border-slate-200",children:[e("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"Agregar nuevo país:"}),e("div",{className:"flex flex-wrap items-center gap-2",children:[e("input",{type:"text",value:i,onChange:b=>m(b.target.value.toUpperCase().slice(0,2)),placeholder:"CO",className:"w-16 border border-slate-300 rounded px-2 py-1.5 text-sm font-mono",maxLength:2}),e("select",{value:x,onChange:b=>v(b.target.value),className:"border border-slate-300 rounded px-2 py-1.5 text-sm",children:[e("option",{value:"AGT",children:"AGT - Agent"}),e("option",{value:"CNE",children:"CNE - Consignee"}),e("option",{value:"SHP",children:"SHP - Shipper"}),e("option",{value:"FFW",children:"FFW - Freight Forwarder"})]}),e("select",{value:k,onChange:b=>N(b.target.value),className:"border border-slate-300 rounded px-2 py-1.5 text-sm",children:Object.entries(jt).map(([b,S])=>e("option",{value:S.short,children:[S.short," - ",S.description]},b))}),e("button",{onClick:le,disabled:!i||i.length!==2,className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e(Wr,{size:14})," Agregar País"]})]})]}),e("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:[e("p",{className:"text-xs font-semibold text-slate-600 mb-2",children:"📋 Códigos de país ISO comunes:"}),e("div",{className:"grid grid-cols-4 gap-2 text-xs text-slate-500",children:[e("span",{children:[e("strong",{children:"CO"})," = Colombia"]}),e("span",{children:[e("strong",{children:"EC"})," = Ecuador"]}),e("span",{children:[e("strong",{children:"PE"})," = Perú"]}),e("span",{children:[e("strong",{children:"PA"})," = Panamá"]}),e("span",{children:[e("strong",{children:"MX"})," = México"]}),e("span",{children:[e("strong",{children:"CL"})," = Chile"]}),e("span",{children:[e("strong",{children:"AR"})," = Argentina"]}),e("span",{children:[e("strong",{children:"BR"})," = Brasil"]})]})]})]})}),e(Ze,{title:"Opciones de Envío",icon:e(kr,{size:18}),children:e("div",{className:"space-y-4",children:[e("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-green-800",children:"Incluir NIT/RUC del Importer"}),e("p",{className:"text-xs text-green-600",children:"Envía el NIT del consignee/importador como OCI (AGT/T/NIT)"}),e("p",{className:"text-xs text-green-500 mt-1 italic",children:"✅ Este es el default - Solo se envía si el importer tiene taxId"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:o.includeConsigneeTIN??!0,onChange:b=>_("includeConsigneeTIN",b.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),e("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-slate-700",children:"Incluir NIT/RUC del Shipper"}),e("p",{className:"text-xs text-slate-500",children:"Envía también el NIT del shipper/exportador (opcional)"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:o.includeShipperTIN,onChange:b=>_("includeShipperTIN",b.target.checked),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-slate-700",children:"Generar CSL automático"}),e("p",{className:"text-xs text-slate-500",children:"Crear Consolidation List para envíos con houses"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:o.messageConfig.autoGenerateCSL,onChange:b=>_("messageConfig",{...o.messageConfig,autoGenerateCSL:b.target.checked}),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})}),e(Ze,{title:"OCI Seguridad (RA/ED/SM/SD/SN)",icon:e(kr,{size:18}),badge:(Z=o.securityOci)!=null&&Z.enabled?"Activo":"Inactivo",children:e("div",{className:"space-y-4",children:[e("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e("div",{className:"flex items-start gap-2",children:[e(sr,{size:16,className:"text-blue-600 mt-0.5 flex-shrink-0"}),e("div",{className:"text-xs text-blue-700",children:[e("p",{className:"font-medium mb-1",children:"Información de Seguridad OCI"}),e("p",{children:"Algunos destinos/aerolíneas requieren información de seguridad adicional para documentar quién, cómo y cuándo se aseguró el envío. Active esta opción solo si la aerolínea lo requiere."})]})]})}),e("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e("div",{children:[e("p",{className:"font-medium text-amber-800",children:"Incluir OCI de Seguridad"}),e("p",{className:"text-xs text-amber-600",children:"Enviar RA, ED, SM, SD, SN en el mensaje"})]}),e("label",{className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:((ye=o.securityOci)==null?void 0:ye.enabled)||!1,onChange:b=>_("securityOci",{...o.securityOci,enabled:b.target.checked}),className:"sr-only peer"}),e("div",{className:"w-11 h-6 bg-slate-300 peer-focus:ring-2 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-500"})]})]}),((ke=o.securityOci)==null?void 0:ke.enabled)&&e("div",{className:"space-y-3 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"RA"}),"Número de Agente Regulado"]}),e("input",{type:"text",value:((xe=o.securityOci)==null?void 0:xe.regulatedAgentNumber)||"",onChange:b=>_("securityOci",{...o.securityOci,regulatedAgentNumber:b.target.value}),placeholder:"Ej: 00100-01",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",maxLength:35}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Número de certificado del agente regulado de Colombia"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"ED"}),"Fecha Expiración Certificado"]}),e("input",{type:"text",value:((ge=o.securityOci)==null?void 0:ge.expiryDate)||"",onChange:b=>_("securityOci",{...o.securityOci,expiryDate:b.target.value.toUpperCase().replace(/[^0-9]/g,"").substring(0,4)}),placeholder:"MMYY (Ej: 1225 = Dic 2025)",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",maxLength:4}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Formato MMYY - Mes y año de expiración del certificado"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-green-100 text-green-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"SM"}),"Método de Screening"]}),e("select",{value:((De=o.securityOci)==null?void 0:De.screeningMethod)||"",onChange:b=>_("securityOci",{...o.securityOci,screeningMethod:b.target.value}),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm",children:[e("option",{value:"",children:"-- Seleccionar método --"}),e("option",{value:"XRY",children:"XRY - Rayos X"}),e("option",{value:"EDS",children:"EDS - Sistema de Detección de Explosivos"}),e("option",{value:"ETD",children:"ETD - Detección de Trazas de Explosivos"}),e("option",{value:"VCK",children:"VCK - Verificación Visual"}),e("option",{value:"PHS",children:"PHS - Inspección Física"}),e("option",{value:"EDD",children:"EDD - Perros Detectores de Explosivos"})]}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Método utilizado para inspeccionar la carga"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"SD"}),"Fecha/Hora de Screening"]}),e("input",{type:"text",value:((ve=o.securityOci)==null?void 0:ve.screeningDate)||"",onChange:b=>_("securityOci",{...o.securityOci,screeningDate:b.target.value.toUpperCase().substring(0,13)}),placeholder:"DDMMMYYHHmm (Ej: 24DEC252359)",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",maxLength:13}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Formato DDMMMYYHHmm - Fecha y hora local del screening"})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:[e("span",{className:"bg-pink-100 text-pink-700 px-1.5 py-0.5 rounded text-xs font-bold mr-2",children:"SN"}),"Nombre del Responsable"]}),e("input",{type:"text",value:((I=o.securityOci)==null?void 0:I.screenerName)||"",onChange:b=>_("securityOci",{...o.securityOci,screenerName:b.target.value.toUpperCase().substring(0,35)}),placeholder:"Ej: JORGE GAMBOA",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm uppercase",maxLength:35}),e("p",{className:"text-xs text-slate-500 mt-1",children:"Nombre de la persona que realizó el screening"})]}),e("div",{className:"mt-4 p-3 bg-slate-800 rounded-lg",children:[e("p",{className:"text-xs text-slate-400 mb-2 font-medium",children:"Vista previa del OCI de seguridad:"}),e("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto",children:`[
${(Qe=o.securityOci)!=null&&Qe.regulatedAgentNumber?`  { "isoCountryCode": "CO", "informationIdentifier": "AGT", "additionalControlInformation": "RA", "supplementaryControlInformation": "${o.securityOci.regulatedAgentNumber}" },
`:""}${($e=o.securityOci)!=null&&$e.expiryDate?`  { "additionalControlInformation": "ED", "supplementaryControlInformation": "${o.securityOci.expiryDate}" },
`:""}${(Je=o.securityOci)!=null&&Je.screeningMethod?`  { "additionalControlInformation": "SM", "supplementaryControlInformation": "${o.securityOci.screeningMethod}" },
`:""}${(er=o.securityOci)!=null&&er.screeningDate?`  { "additionalControlInformation": "SD", "supplementaryControlInformation": "${o.securityOci.screeningDate}" },
`:""}${(G=o.securityOci)!=null&&G.screenerName?`  { "additionalControlInformation": "SN", "supplementaryControlInformation": "${o.securityOci.screenerName}" }
`:""}]`})]})]})]})}),e(Ze,{title:"CARGO-IMP (EDI) Configuración",icon:e(Tr,{size:18}),badge:"Formato EDI",defaultOpen:!0,children:e("div",{className:"space-y-4",children:[e("p",{className:"text-sm text-slate-500 mb-4",children:"Configura las versiones de mensaje y opciones para el formato CARGO-IMP (IATA CIMP EDI)."}),e("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[e("p",{className:"text-xs font-bold text-emerald-700 uppercase tracking-wide mb-3",children:"⚙️ Configuración Global"}),e("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e("div",{children:[e("label",{className:"text-xs font-medium text-slate-700 block mb-1",children:"Versión FWB"}),e("select",{value:((de=o.cargoImp)==null?void 0:de.fwbVersion)||"FWB/16",onChange:b=>_("cargoImp",{...o.cargoImp,fwbVersion:b.currentTarget.value}),className:"w-full border border-emerald-300 rounded px-2 py-1.5 text-sm bg-white focus:ring-2 focus:ring-emerald-400",children:[e("option",{value:"FWB/16",children:"FWB/16 (Estándar)"}),e("option",{value:"FWB/17",children:"FWB/17 (Extendido)"})]})]}),e("div",{children:[e("label",{className:"text-xs font-medium text-slate-700 block mb-1",children:"Versión FHL"}),e("select",{value:((rr=o.cargoImp)==null?void 0:rr.fhlVersion)||"FHL/4",onChange:b=>_("cargoImp",{...o.cargoImp,fhlVersion:b.currentTarget.value}),className:"w-full border border-emerald-300 rounded px-2 py-1.5 text-sm bg-white focus:ring-2 focus:ring-emerald-400",children:[e("option",{value:"FHL/4",children:"FHL/4 (Actual)"}),e("option",{value:"FHL/2",children:"FHL/2 (Legacy)"})]})]}),e("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"cargoImpUNB",checked:((Q=o.cargoImp)==null?void 0:Q.includeUNB_UNZ)||!1,onChange:b=>_("cargoImp",{...o.cargoImp,includeUNB_UNZ:b.currentTarget.checked}),className:"w-4 h-4 rounded border-emerald-300 text-emerald-600 focus:ring-emerald-400"}),e("label",{htmlFor:"cargoImpUNB",className:"text-xs text-slate-700",children:["Incluir UNB/UNZ",e("br",{}),e("span",{className:"text-[10px] text-slate-400",children:"(EDIFACT wrapper)"})]})]}),e("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"cargoImpEORI",checked:((tr=o.cargoImp)==null?void 0:tr.ociWithEori)||!1,onChange:b=>_("cargoImp",{...o.cargoImp,ociWithEori:b.currentTarget.checked}),className:"w-4 h-4 rounded border-emerald-300 text-emerald-600 focus:ring-emerald-400"}),e("label",{htmlFor:"cargoImpEORI",className:"text-xs text-slate-700",children:["EORI en OCI",e("br",{}),e("span",{className:"text-[10px] text-slate-400",children:"(Requerido UE)"})]})]})]})]}),e("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e("p",{className:"text-xs font-bold text-purple-700 uppercase tracking-wide mb-3",children:"📦 Códigos SPH por defecto"}),e("div",{className:"flex flex-wrap gap-2",children:["EAP","ECC","PER","SPX","DGR","ICE","VAL","AVI","HEA"].map(b=>{var S;return e("label",{className:"flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-purple-200 cursor-pointer hover:bg-purple-100",children:[e("input",{type:"checkbox",checked:(((S=o.cargoImp)==null?void 0:S.defaultSphCodes)||[]).includes(b),onChange:q=>{var M;const Y=((M=o.cargoImp)==null?void 0:M.defaultSphCodes)||[],R=q.currentTarget.checked?[...Y,b]:Y.filter(W=>W!==b);_("cargoImp",{...o.cargoImp,defaultSphCodes:R})},className:"w-3 h-3 rounded border-purple-300 text-purple-600"}),e("span",{className:"text-xs font-mono text-purple-700",children:b})]},b)})})]}),e("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("p",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide",children:"✈️ Políticas por Aerolínea (Pre-configuradas)"}),e("button",{onClick:()=>{_("cargoImp",{...o.cargoImp,airlinePolicies:{...Ve}})},className:"text-[10px] bg-indigo-100 text-indigo-700 px-2 py-1 rounded hover:bg-indigo-200",title:"Actualiza 992=DHL, 999=Polar Air, etc.",children:"🔄 Sincronizar predefinidas"})]}),e("p",{className:"text-xs text-slate-500 mb-3",children:"Haz clic en una aerolínea para expandir y editar. Los segmentos son clickeables para activar/desactivar."}),e("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:Object.entries({...Ve,...((oe=o.cargoImp)==null?void 0:oe.airlinePolicies)||{}}).sort(([b],[S])=>b==="DEFAULT"?1:S==="DEFAULT"?-1:b.localeCompare(S)).map(([b,S])=>{const q=Object.keys(Fe),Y=Math.floor((S.policy||20)/10);return e("details",{className:"group bg-white rounded-lg border border-slate-200 overflow-hidden",children:[e("summary",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-slate-50",children:[e("div",{className:"flex items-center gap-3 flex-wrap",children:[e("span",{className:"font-mono font-bold text-slate-700 bg-slate-100 px-2 py-0.5 rounded w-12 text-center",children:b}),e("span",{className:"text-xs text-slate-600",children:S.name||b}),e("span",{className:`text-[10px] px-2 py-0.5 rounded ${Y===7?"bg-orange-100 text-orange-700":Y===5?"bg-purple-100 text-purple-700":Y===4?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:["Caso ",Y]}),e("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded",children:S.fwbVersion||"FWB/16"}),e("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded",children:S.fhlVersion||"FHL/4"})]}),e("div",{className:"flex items-center gap-2",children:[e(je,{size:14,className:"text-slate-400 group-open:rotate-90 transition-transform"}),b!=="DEFAULT"&&e("button",{onClick:R=>{var W;R.preventDefault(),R.stopPropagation();const M={...(W=o.cargoImp)==null?void 0:W.airlinePolicies};delete M[b],_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"text-red-500 hover:text-red-700 p-1",children:e(ft,{size:14})})]})]}),e("div",{className:"px-3 pb-3 border-t border-slate-100 pt-3 space-y-3",children:[e("div",{className:"p-2 bg-amber-50 rounded border border-amber-200",children:[e("label",{className:"text-[10px] text-amber-700 font-bold block mb-1",children:"🔧 Política de Caso"}),e("select",{value:S.policy||20,onChange:R=>{var Er;const M=parseInt(R.currentTarget.value),W=Object.keys(Fe),pe=Object.keys(me),Ce=["FWB","AWB","RTG","SHP","CNE","AGT","CVD","ISU","FTR"],Te=pe;let re=[...Ce],ce=[],Ee=!0,Ne=!1;switch(Math.floor(M/10)){case 2:re=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],ce=W.filter(we=>!re.includes(we));break;case 4:re=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","ACC","CVD","RTD","NG","NH","OTH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],ce=W.filter(we=>!re.includes(we));break;case 5:re=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","REF","SPH","OCI","FTR"],ce=W.filter(we=>!re.includes(we));break;case 7:re=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","SSR","NFY","ACC","CVD","RTD","NG","NH","PPD","COL","CER","ISU","REF","SPH","OCI","FTR"],ce=W.filter(we=>!re.includes(we)),Ne=!0;break;case 8:re=["FWB","AWB","FLT","RTG","SHP","CNE","AGT","CVD","RTD","NG","NH","PPD","COL","ISU","SPH","OCI","FTR"],ce=W.filter(we=>!re.includes(we));break}const Ue={...((Er=o.cargoImp)==null?void 0:Er.airlinePolicies)||{},[b]:{...S,policy:M,enabledSegments:re,disabledSegments:ce,enabledFhlSegments:Te,disabledFhlSegments:[],includeUnbUnz:Ee,fhlAlwaysWithHeader:Ne}};_("cargoImp",{...o.cargoImp,airlinePolicies:Ue}),console.log(`[ConfigPanel] Caso cambiado a ${M} para ${b}, segmentos FWB: ${re.length} habilitados`)},className:"w-full border border-amber-300 rounded px-2 py-1 text-xs bg-white",children:[e("optgroup",{label:"📦 Consolidados",children:[e("option",{value:20,children:"Caso 2: FWB + FHL individuales"}),e("option",{value:40,children:"Caso 4: FWB_NEW + FHL individuales"}),e("option",{value:50,children:"Caso 5: FWB_NEW + FHL concatenados"}),e("option",{value:70,children:"Caso 7: DHL/ABX (FHL con header)"}),e("option",{value:80,children:"Caso 8: Todas FHL en 1 mensaje"})]}),e("optgroup",{label:"📄 Directos",children:[e("option",{value:21,children:"Caso 2: FWB directo"}),e("option",{value:41,children:"Caso 4: FWB_NEW directo"}),e("option",{value:71,children:"Caso 7: DHL/ABX directo"})]})]})]}),e("div",{className:"grid grid-cols-4 gap-2",children:[e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"FWB"}),e("select",{value:S.fwbVersion||"FWB/16",onChange:R=>{var W;const M={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[b]:{...S,fwbVersion:R.currentTarget.value}};_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"w-full border border-slate-300 rounded px-1 py-1 text-xs",children:[e("option",{value:"FWB/16",children:"FWB/16"}),e("option",{value:"FWB/17",children:"FWB/17"}),e("option",{value:"FWB/9",children:"FWB/9"})]})]}),e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"FHL"}),e("select",{value:S.fhlVersion||"FHL/4",onChange:R=>{var W;const M={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[b]:{...S,fhlVersion:R.currentTarget.value}};_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"w-full border border-slate-300 rounded px-1 py-1 text-xs",children:[e("option",{value:"FHL/4",children:"FHL/4"}),e("option",{value:"FHL/2",children:"FHL/2"})]})]}),e("label",{className:"flex items-center gap-1 text-[10px] p-1 bg-slate-100 rounded",children:[e("input",{type:"checkbox",checked:S.includeUnbUnz!==!1,onChange:R=>{var W;const M={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[b]:{...S,includeUnbUnz:R.currentTarget.checked}};_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"w-3 h-3"}),"UNB/UNZ"]}),e("label",{className:"flex items-center gap-1 text-[10px] p-1 bg-slate-100 rounded",children:[e("input",{type:"checkbox",checked:S.ociFormat==="withPrefix",onChange:R=>{var W;const M={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[b]:{...S,ociFormat:R.currentTarget.checked?"withPrefix":"withoutPrefix"}};_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"w-3 h-3"}),"EORI"]})]}),e("div",{children:[e("div",{className:"flex items-center justify-between mb-1",children:[e("label",{className:"text-[10px] font-bold text-slate-700",children:"📋 Segmentos (click para toggle):"}),e("div",{className:"flex gap-2",children:[e("button",{onClick:()=>{var M;const R={...((M=o.cargoImp)==null?void 0:M.airlinePolicies)||{},[b]:{...S,enabledSegments:[...q],disabledSegments:[]}};_("cargoImp",{...o.cargoImp,airlinePolicies:R})},className:"text-[9px] text-green-600 hover:underline",children:"Todos"}),e("button",{onClick:()=>{var W;const R=["FWB","AWB","SHP","CNE","CVD","ISU","FTR"],M={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[b]:{...S,enabledSegments:R,disabledSegments:q.filter(pe=>!R.includes(pe))}};_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"text-[9px] text-amber-600 hover:underline",children:"Mínimos"})]})]}),e("div",{className:"grid grid-cols-8 gap-1",children:q.map(R=>{var W;const M=(S.enabledSegments||[]).includes(R);return e("button",{onClick:()=>{var Ee;const pe=S.enabledSegments||q,Ce=S.disabledSegments||[];let Te,re;M?(Te=pe.filter(Ne=>Ne!==R),re=[...Ce,R]):(Te=[...pe,R],re=Ce.filter(Ne=>Ne!==R));const ce={...((Ee=o.cargoImp)==null?void 0:Ee.airlinePolicies)||{},[b]:{...S,enabledSegments:Te,disabledSegments:re}};_("cargoImp",{...o.cargoImp,airlinePolicies:ce})},className:`p-1 rounded text-[9px] font-mono font-bold text-center transition-all ${M?"bg-green-100 text-green-700 border border-green-300 hover:bg-green-200":"bg-red-50 text-red-400 border border-red-200 line-through hover:bg-red-100"}`,title:((W=Fe[R])==null?void 0:W.name)||R,children:R},R)})}),e("p",{className:"text-[9px] text-slate-400 mt-1",children:["✓ ",(S.enabledSegments||[]).length," activos | ✗ ",(S.disabledSegments||[]).length," deshabilitados"]})]}),e("div",{children:[e("div",{className:"flex items-center justify-between mb-1",children:[e("label",{className:"text-[10px] font-bold text-blue-700",children:"📦 Segmentos FHL (Houses - click para toggle):"}),e("div",{className:"flex gap-2",children:[e("button",{onClick:()=>{var W;const R=Object.keys(me),M={...((W=o.cargoImp)==null?void 0:W.airlinePolicies)||{},[b]:{...S,enabledFhlSegments:[...R],disabledFhlSegments:[]}};_("cargoImp",{...o.cargoImp,airlinePolicies:M})},className:"text-[9px] text-blue-600 hover:underline",children:"Todos"}),e("button",{onClick:()=>{var pe;const R=["FHL","MBI","HBS","SHP","CNE","CVD"],M=Object.keys(me),W={...((pe=o.cargoImp)==null?void 0:pe.airlinePolicies)||{},[b]:{...S,enabledFhlSegments:R,disabledFhlSegments:M.filter(Ce=>!R.includes(Ce))}};_("cargoImp",{...o.cargoImp,airlinePolicies:W})},className:"text-[9px] text-amber-600 hover:underline",children:"Mínimos"})]})]}),e("div",{className:"grid grid-cols-5 gap-1",children:Object.keys(me).map(R=>{var Ce;const M=Object.keys(me),pe=(S.enabledFhlSegments||M).includes(R);return e("button",{onClick:()=>{var mr;const Te=S.enabledFhlSegments||M,re=S.disabledFhlSegments||[];let ce,Ee;pe?(ce=Te.filter(Ue=>Ue!==R),Ee=[...re,R]):(ce=[...Te,R],Ee=re.filter(Ue=>Ue!==R));const Ne={...((mr=o.cargoImp)==null?void 0:mr.airlinePolicies)||{},[b]:{...S,enabledFhlSegments:ce,disabledFhlSegments:Ee}};_("cargoImp",{...o.cargoImp,airlinePolicies:Ne})},className:`p-1 rounded text-[9px] font-mono font-bold text-center transition-all ${pe?"bg-blue-100 text-blue-700 border border-blue-300 hover:bg-blue-200":"bg-red-50 text-red-400 border border-red-200 line-through hover:bg-red-100"}`,title:((Ce=me[R])==null?void 0:Ce.name)||R,children:R},R)})}),e("p",{className:"text-[9px] text-blue-400 mt-1",children:["✓ ",(S.enabledFhlSegments||Object.keys(me)).length," FHL activos"]})]}),S.notes&&e("div",{className:"bg-amber-50 border border-amber-200 rounded p-2",children:e("p",{className:"text-[10px] text-amber-700",children:[e(sr,{size:10,className:"inline mr-1"}),S.notes]})})]})]},b)})}),e("div",{className:"mt-3 p-3 bg-emerald-50 rounded-lg border border-emerald-200",children:[e("p",{className:"text-xs font-semibold text-emerald-700 mb-2",children:"+ Agregar política de aerolínea"}),e("div",{className:"flex items-end gap-2 flex-wrap",children:[e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"Prefijo AWB"}),e("input",{type:"text",maxLength:3,placeholder:"Ej: 075",value:d,onChange:b=>p(b.currentTarget.value.replace(/\D/g,"").slice(0,3)),className:"w-16 border border-emerald-300 rounded px-2 py-1 text-xs font-mono"})]}),e("div",{children:[e("label",{className:"text-[10px] text-slate-500 block mb-0.5",children:"Nombre"}),e("input",{type:"text",placeholder:"Ej: DHL",id:"newPolicyName",className:"w-24 border border-emerald-300 rounded px-2 py-1 text-xs"})]}),e("button",{onClick:()=>{var b;if(d&&d.length===3){const S=document.getElementById("newPolicyName"),q=Object.keys(Fe),Y={...((b=o.cargoImp)==null?void 0:b.airlinePolicies)||{},[d]:{awbPrefix:d,name:(S==null?void 0:S.value)||`Aerolínea ${d}`,policy:21,fwbVersion:"FWB/16",fhlVersion:"FHL/4",includeUnbUnz:!0,ociFormat:"withPrefix",enabledSegments:q,disabledSegments:[],defaultSphCodes:["EAP"]}};_("cargoImp",{...o.cargoImp,airlinePolicies:Y}),p(""),S&&(S.value="")}},disabled:!d||d.length!==3,className:"bg-emerald-600 text-white px-3 py-1 rounded text-xs font-medium hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[e(Wr,{size:12})," Agregar"]})]})]})]}),e("details",{className:"mt-4",children:[e("summary",{className:"cursor-pointer text-sm text-slate-600 hover:text-slate-800 flex items-center gap-2 py-2 font-medium",children:[e(je,{size:14})," Ver referencia de segmentos FWB/FHL"]}),e("div",{className:"mt-2 p-3 bg-slate-100 rounded-lg",children:e("div",{className:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("p",{className:"text-xs font-bold text-purple-700 mb-2",children:["Segmentos FWB (",Object.keys(Fe).length,")"]}),e("div",{className:"flex flex-wrap gap-1",children:Object.keys(Fe).map(b=>e("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded font-mono",children:b},b))})]}),e("div",{children:[e("p",{className:"text-xs font-bold text-blue-700 mb-2",children:["Segmentos FHL (",Object.keys(me).length,")"]}),e("div",{className:"flex flex-wrap gap-1",children:Object.keys(me).map(b=>e("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded font-mono",children:b},b))})]})]})})]})]})}),e(Ze,{title:"Configuración de Red",icon:e(pt,{size:18}),children:e("div",{className:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:"Timeout (ms)"}),e("input",{type:"number",value:o.messageConfig.sendTimeoutMs,onChange:b=>_("messageConfig",{...o.messageConfig,sendTimeoutMs:parseInt(b.target.value)||3e4}),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm",min:5e3,max:12e4,step:1e3})]}),e("div",{children:[e("label",{className:"text-sm font-medium text-slate-700 block mb-1",children:"Reintentos máximos"}),e("input",{type:"number",value:o.messageConfig.maxRetries,onChange:b=>_("messageConfig",{...o.messageConfig,maxRetries:parseInt(b.target.value)||3}),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm",min:0,max:10})]})]})})]}),e("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 flex items-center justify-between",children:[e("p",{className:"text-xs text-slate-500",children:'Los cambios se aplican inmediatamente. Use "Guardar" para persistir en su sistema.'}),e("div",{className:"flex items-center gap-3",children:[e("button",{onClick:t,className:"bg-slate-200 text-slate-700 px-6 py-2 rounded-lg text-sm font-medium hover:bg-slate-300 flex items-center gap-2",children:"Cerrar"}),n&&e("button",{onClick:()=>{n(o),c({type:"success",text:"✓ Configuración emitida para guardar"})},className:"bg-emerald-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-emerald-700 flex items-center gap-2",children:[e(Oe,{size:16})," Guardar"]})]})]})]})]}):null},Po={FWB:e(ut,{size:14}),FHL:e(ut,{size:14}),AWB:e(Le,{size:14}),MBI:e(Le,{size:14}),FLT:e(lr,{size:14}),RTG:e(gt,{size:14}),SHP:e(cr,{size:14}),CNE:e(cr,{size:14}),AGT:e($r,{size:14}),SSR:e(sr,{size:14}),ACC:e(Ar,{size:14}),CVD:e(Ar,{size:14}),RTD:e(_o,{size:14}),NG:e(bt,{size:14}),NH:e(bt,{size:14}),HBS:e(Le,{size:14}),HTS:e(bt,{size:14}),OTH:e(Ar,{size:14}),PPD:e(Ar,{size:14}),COL:e(Ar,{size:14}),CER:e(kr,{size:14}),ISU:e(pt,{size:14}),REF:e(Re,{size:14}),SPH:e(kr,{size:14}),OCI:e(kr,{size:14}),NFY:e(cr,{size:14}),TXT:e(Re,{size:14}),FTR:e(ut,{size:14})},Ho={FWB:{bg:"bg-slate-100",border:"border-slate-300",text:"text-slate-700"},FHL:{bg:"bg-slate-100",border:"border-slate-300",text:"text-slate-700"},FTR:{bg:"bg-slate-100",border:"border-slate-300",text:"text-slate-700"},AWB:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-700"},MBI:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-700"},HBS:{bg:"bg-purple-50",border:"border-purple-300",text:"text-purple-700"},FLT:{bg:"bg-sky-50",border:"border-sky-300",text:"text-sky-700"},RTG:{bg:"bg-sky-50",border:"border-sky-300",text:"text-sky-700"},SHP:{bg:"bg-green-50",border:"border-green-300",text:"text-green-700"},CNE:{bg:"bg-emerald-50",border:"border-emerald-300",text:"text-emerald-700"},AGT:{bg:"bg-teal-50",border:"border-teal-300",text:"text-teal-700"},NFY:{bg:"bg-cyan-50",border:"border-cyan-300",text:"text-cyan-700"},CVD:{bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700"},RTD:{bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700"},OTH:{bg:"bg-orange-50",border:"border-orange-300",text:"text-orange-700"},PPD:{bg:"bg-green-50",border:"border-green-300",text:"text-green-700"},COL:{bg:"bg-red-50",border:"border-red-300",text:"text-red-700"},ACC:{bg:"bg-amber-50",border:"border-amber-300",text:"text-amber-700"},NG:{bg:"bg-indigo-50",border:"border-indigo-300",text:"text-indigo-700"},NH:{bg:"bg-indigo-50",border:"border-indigo-300",text:"text-indigo-700"},HTS:{bg:"bg-indigo-50",border:"border-indigo-300",text:"text-indigo-700"},SSR:{bg:"bg-rose-50",border:"border-rose-300",text:"text-rose-700"},SPH:{bg:"bg-fuchsia-50",border:"border-fuchsia-300",text:"text-fuchsia-700"},OCI:{bg:"bg-violet-50",border:"border-violet-300",text:"text-violet-700"},CER:{bg:"bg-pink-50",border:"border-pink-300",text:"text-pink-700"},ISU:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-700"},REF:{bg:"bg-blue-50",border:"border-blue-300",text:"text-blue-700"},TXT:{bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-700"}},Bo=({segment:r,onEdit:t,onToggle:a,readOnly:n=!1,cardSize:o="normal"})=>{var T,E;const[s,l]=L(!1),c=r.originalContent||r.content,[d,p]=L(c),[h,u]=L(o==="expanded"),i=r.originalContent&&r.originalContent.length>r.content.length,m=r.currentLength>r.maxLength||r.originalContent&&r.originalContent.length>r.maxLength;or(()=>{p(r.originalContent||r.content)},[r.content,r.originalContent]);const x=Ho[r.code]||{bg:"bg-gray-50",border:"border-gray-300",text:"text-gray-700"},v=Po[r.code]||e(Re,{size:14}),k=()=>{t&&t(r.code,d),l(!1)},N=()=>{p(r.content),l(!1)},A=()=>{navigator.clipboard.writeText(r.content)},F=r.currentLength>r.maxLength,f=Math.min(100,r.currentLength/r.maxLength*100);return r.enabled?e("div",{className:`
      rounded-lg border-2 ${x.border} ${x.bg}
      transition-all duration-200 hover:shadow-md
      ${r.errors.length>0?"ring-2 ring-red-400":""}
      ${m?"ring-2 ring-orange-500 border-orange-400":""}
    `,children:[m&&e("div",{className:"bg-orange-500 text-white px-3 py-1.5 text-xs font-medium flex items-center gap-2 rounded-t-md",children:[e(fe,{size:14,className:"flex-shrink-0"}),e("span",{children:["⚠️ EXCEDE LÍMITE: ",((T=r.originalContent)==null?void 0:T.length)||r.currentLength," / ",r.maxLength," caracteres (",(((E=r.originalContent)==null?void 0:E.length)||r.currentLength)-r.maxLength," de más)"]}),!n&&r.editable&&e("button",{onClick:O=>{O.stopPropagation(),l(!0),u(!0)},className:"ml-auto px-2 py-0.5 bg-white/20 hover:bg-white/30 rounded text-[10px] flex items-center gap-1",children:[e(Ye,{size:10})," Editar para corregir"]})]}),e("div",{className:`
          flex items-center gap-2 p-2 cursor-pointer
          ${o==="compact"?"py-1":""}
        `,onClick:()=>!s&&u(!h),children:[e("div",{className:x.text,children:v}),e("span",{className:`font-mono font-bold ${x.text} text-sm`,children:r.code}),e("span",{className:`text-[10px] ${x.text} opacity-70 truncate flex-1`,children:r.name}),e("div",{className:"flex items-center gap-1",children:[e("div",{className:`
              text-[9px] font-mono px-1.5 py-0.5 rounded
              ${F?"bg-red-100 text-red-700":"bg-white/50 text-slate-500"}
            `,title:`${r.currentLength} / ${r.maxLength} caracteres`,children:[r.currentLength,"/",r.maxLength]}),e("div",{className:"w-8 h-1 bg-white/50 rounded-full overflow-hidden",children:e("div",{className:`h-full transition-all ${F?"bg-red-500":"bg-green-500"}`,style:{width:`${f}%`}})})]}),!n&&r.editable&&!s&&e("button",{onClick:O=>{O.stopPropagation(),l(!0),u(!0)},className:"p-1 hover:bg-white/50 rounded transition-colors",title:"Editar segmento",children:e(Ye,{size:12,className:x.text})}),e("button",{onClick:O=>{O.stopPropagation(),A()},className:"p-1 hover:bg-white/50 rounded transition-colors",title:"Copiar contenido",children:e(ir,{size:12,className:x.text})}),a&&!r.required&&e("button",{onClick:O=>{O.stopPropagation(),a(r.code,!1)},className:"p-1 hover:bg-red-100 rounded transition-colors text-red-400 hover:text-red-600",title:"Deshabilitar segmento",children:e(mt,{size:12})}),h?e(Sr,{size:14,className:x.text}):e(je,{size:14,className:x.text})]}),r.errors.length>0&&e("div",{className:"px-2 pb-1",children:r.errors.map((O,B)=>e("div",{className:"flex items-center gap-1 text-[10px] text-red-600",children:[e(fe,{size:10}),e("span",{children:O})]},B))}),h&&e("div",{className:"border-t border-white/50 p-2",children:[s?e("div",{className:"space-y-2",children:[e("textarea",{value:d,onChange:O=>p(O.target.value),className:`
                  w-full font-mono text-xs p-2 rounded border
                  ${d.length>r.maxLength?"border-red-300 bg-red-50":"border-slate-300 bg-white"}
                  focus:outline-none focus:ring-2 focus:ring-purple-400
                  resize-none
                `,rows:Math.min(10,Math.max(3,c.split(`
`).length+1)),spellcheck:!1}),e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex flex-col gap-0.5",children:[e("span",{className:`text-[10px] ${d.length>r.maxLength?"text-red-600 font-semibold":"text-slate-500"}`,children:[d.length," / ",r.maxLength," caracteres",d.length>r.maxLength&&e("span",{className:"ml-1 text-red-600",children:["(⚠️ ",d.length-r.maxLength," de más - ¡Debe reducir!)"]})]}),i&&e("span",{className:"text-[9px] text-orange-600",children:"ℹ️ Mostrando texto original completo para edición"})]}),e("div",{className:"flex gap-1",children:[e("button",{onClick:N,className:"px-2 py-1 text-xs bg-slate-200 hover:bg-slate-300 rounded flex items-center gap-1",children:[e(Me,{size:12})," Cancelar"]}),e("button",{onClick:k,className:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded flex items-center gap-1",children:[e(ba,{size:12})," Guardar"]})]})]})]}):e("pre",{className:`
              font-mono text-[11px] whitespace-pre-wrap break-all
              ${x.text} opacity-90 leading-relaxed
            `,children:r.content||e("span",{className:"italic text-slate-400",children:"Sin contenido"})}),r.fields.length>0&&!s&&e("div",{className:"mt-2 pt-2 border-t border-white/30",children:[e("div",{className:"text-[9px] text-slate-500 mb-1 uppercase tracking-wide font-semibold",children:"Campos:"}),e("div",{className:"flex flex-wrap gap-1",children:r.fields.map((O,B)=>{var X;return e("div",{className:"text-[10px] bg-white/60 px-1.5 py-0.5 rounded border border-white/80",title:`${O.name}: máx ${O.maxLength} chars${O.required?" (requerido)":""}`,children:[e("span",{className:"font-medium text-slate-600",children:[O.name,":"]})," ",e("span",{className:`font-mono ${O.modified?"text-purple-600 font-bold":"text-slate-700"}`,children:O.value||"-"}),e("span",{className:"text-slate-400 ml-1",children:["(",((X=O.value)==null?void 0:X.length)||0,"/",O.maxLength,")"]})]},B)})})]})]})]}):e("div",{className:"relative group",children:[e("div",{className:`
          p-2 rounded-lg border-2 border-dashed border-slate-200 bg-slate-50/50
          opacity-60 hover:opacity-80
          transition-all duration-200 ${a?"cursor-pointer hover:border-green-400 hover:bg-green-50/30":"cursor-not-allowed"}
        `,onClick:()=>a&&a(r.code,!0),children:[e("div",{className:"flex items-center gap-2",children:[e("div",{className:"text-slate-400",children:v}),e("span",{className:"font-mono text-xs font-bold text-slate-400",children:r.code}),e("span",{className:"text-[10px] text-slate-400 truncate flex-1",children:r.name}),a?e("button",{onClick:O=>{O.stopPropagation(),a(r.code,!0)},className:"p-1 hover:bg-green-100 rounded transition-colors text-green-600",title:"Habilitar segmento",children:e(Ur,{size:12})}):e(mt,{size:12,className:"text-slate-400"})]}),o!=="compact"&&e("div",{className:"mt-1 text-[10px] text-slate-400 italic flex items-center justify-between",children:[e("span",{children:"Deshabilitado por política de aerolínea"}),a&&e("span",{className:"text-green-600 font-medium",children:"Clic para habilitar →"})]})]}),e("div",{className:"absolute hidden group-hover:block bottom-full left-0 mb-1 p-2 bg-slate-800 text-white text-xs rounded shadow-lg z-50 w-56",children:a?"Clic para HABILITAR este segmento y ver sus datos":"Este segmento no se incluye según la política configurada para esta aerolínea."})]})},va=({message:r,policy:t,onSegmentChange:a,onRegenerate:n,onToggleSegment:o,showDisabled:s=!0,readOnly:l=!1,cardSize:c="normal"})=>{const[d,p]=L(r.segments),[h,u]=L(!1),[i,m]=L(!1);or(()=>{p(r.segments)},[r]);const x=J((T,E)=>{p(O=>O.map(B=>B.code===T?{...B,content:E,currentLength:E.length}:B)),a&&a(T,E)},[a]),v=()=>{n&&n(d)},k=()=>{navigator.clipboard.writeText(r.fullMessage),m(!0),setTimeout(()=>m(!1),2e3)},N=s?d:d.filter(T=>T.enabled),A=d.filter(T=>T.enabled).length,F=d.filter(T=>!T.enabled).length,f=d.reduce((T,E)=>T+E.errors.length,0);return e("div",{className:"space-y-4",children:[e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"flex items-center gap-2",children:[e("div",{className:`
              px-3 py-1.5 rounded-lg font-bold text-sm
              ${r.type==="FWB"?"bg-purple-600 text-white":"bg-sky-600 text-white"}
            `,children:[r.type,"/",r.version.split("/")[1]]}),e("span",{className:"font-mono text-sm text-slate-600",children:r.awbNumber}),r.hawbNumber&&e("span",{className:"font-mono text-xs text-slate-400",children:["→ ",r.hawbNumber]})]}),e("div",{className:`flex items-center gap-1 text-xs ${r.isValid?"text-green-600":"text-red-600"}`,children:[r.isValid?e(Oe,{size:14}):e(fe,{size:14}),r.isValid?"Válido":`${f} error${f!==1?"es":""}`]})]}),e("div",{className:"flex items-center gap-2",children:[e("div",{className:"text-xs text-slate-500 space-x-2",children:[e("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:[A," activos"]}),F>0&&e("span",{className:"bg-slate-100 text-slate-500 px-2 py-0.5 rounded-full",children:[F," inactivos"]})]}),e("button",{onClick:()=>u(!h),className:"px-3 py-1.5 text-xs bg-slate-100 hover:bg-slate-200 rounded-lg flex items-center gap-1",children:[h?e(mt,{size:12}):e(Ur,{size:12}),h?"Ocultar":"Ver mensaje"]}),e("button",{onClick:k,className:`
              px-3 py-1.5 text-xs rounded-lg flex items-center gap-1
              ${i?"bg-green-500 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}
            `,children:[e(ir,{size:12}),i?"¡Copiado!":"Copiar todo"]})]})]}),t&&e("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-50 rounded-lg p-2",children:[e(sr,{size:12}),e("span",{children:["Política: ",e("strong",{children:t.name})," (",t.awbPrefix,")"]}),e("span",{className:"text-slate-300",children:"|"}),e("span",{children:["Versión: ",t.fwbVersion]}),e("span",{className:"text-slate-300",children:"|"}),e("span",{children:["SPH: ",t.defaultSphCodes.join(", ")]}),t.notes&&e(ie,{children:[e("span",{className:"text-slate-300",children:"|"}),e("span",{className:"italic",children:t.notes})]})]}),h&&e("div",{className:"bg-slate-900 rounded-lg p-4 overflow-x-auto",children:e("pre",{className:"font-mono text-xs text-green-400 whitespace-pre-wrap",children:r.fullMessage})}),e("div",{className:`
        grid gap-2
        ${c==="compact"?"grid-cols-3 md:grid-cols-4 lg:grid-cols-6":""}
        ${c==="normal"?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":""}
        ${c==="expanded"?"grid-cols-1 md:grid-cols-2":""}
      `,children:N.map(T=>e(Bo,{segment:T,onEdit:x,onToggle:o,readOnly:l,cardSize:c},`${T.code}-${T.order}`))}),!l&&n&&e("div",{className:"flex justify-end pt-2",children:e("button",{onClick:v,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm font-medium flex items-center gap-2",children:[e(ba,{size:16}),"Regenerar mensaje"]})}),e("div",{className:"border-t border-slate-200 pt-4",children:[e("div",{className:"text-xs text-slate-500 mb-2 font-semibold",children:"Leyenda de segmentos:"}),e("div",{className:"flex flex-wrap gap-2 text-[10px]",children:[e("span",{className:"bg-purple-50 border border-purple-300 text-purple-700 px-2 py-0.5 rounded",children:"AWB/Carga"}),e("span",{className:"bg-sky-50 border border-sky-300 text-sky-700 px-2 py-0.5 rounded",children:"Vuelo/Ruta"}),e("span",{className:"bg-green-50 border border-green-300 text-green-700 px-2 py-0.5 rounded",children:"Partes"}),e("span",{className:"bg-amber-50 border border-amber-300 text-amber-700 px-2 py-0.5 rounded",children:"Cargos"}),e("span",{className:"bg-indigo-50 border border-indigo-300 text-indigo-700 px-2 py-0.5 rounded",children:"Mercancía"}),e("span",{className:"bg-fuchsia-50 border border-fuchsia-300 text-fuchsia-700 px-2 py-0.5 rounded",children:"Manejo/Seguridad"}),e("span",{className:"bg-slate-50 border-2 border-dashed border-slate-300 text-slate-400 px-2 py-0.5 rounded",children:"Deshabilitado"})]})]})]})};function Mo(r){let t=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return t=t.replace(/&lt;\/([a-zA-Z:]+)&gt;/g,'<span class="xml-bracket">&lt;/</span><span class="xml-tag">$1</span><span class="xml-bracket">&gt;</span>').replace(/&lt;([a-zA-Z:]+)(\s+[^&]*?)&gt;/g,(a,n,o)=>{const s=o.replace(/([a-zA-Z:]+)="([^"]*)"/g,'<span class="xml-attr-name">$1</span>=<span class="xml-attr-value">"$2"</span>');return`<span class="xml-bracket">&lt;</span><span class="xml-tag">${n}</span>${s}<span class="xml-bracket">&gt;</span>`}).replace(/&lt;([a-zA-Z:]+)\s*\/&gt;/g,'<span class="xml-bracket">&lt;</span><span class="xml-tag">$1</span><span class="xml-bracket"> /&gt;</span>').replace(/&lt;([a-zA-Z:]+)&gt;/g,'<span class="xml-bracket">&lt;</span><span class="xml-tag">$1</span><span class="xml-bracket">&gt;</span>').replace(/&lt;\?xml([^?]*)\?&gt;/g,'<span class="xml-declaration">&lt;?xml$1?&gt;</span>'),t}const Ca=at(({xml:r,title:t,type:a,hawbNumber:n,isValid:o,errors:s,onCopy:l})=>{const[c,d]=L(!0),[p,h]=L(!1),[u,i]=L("formatted"),m=He(()=>u==="raw"?r:Mo(r),[r,u]),x=async()=>{try{await navigator.clipboard.writeText(r),h(!0),l==null||l(r),setTimeout(()=>h(!1),2e3)}catch(A){console.error("Error copying XML:",A)}},v=a==="XFWB"?"from-blue-50 to-indigo-50 border-blue-200":"from-purple-50 to-pink-50 border-purple-200",k=a==="XFWB"?"bg-blue-600":"bg-purple-600",N=a==="XFWB"?Le:Xe;return e("div",{className:`rounded-lg border overflow-hidden mb-4 bg-gradient-to-r ${v}`,children:[e("div",{className:`${k} px-4 py-2.5 flex items-center justify-between cursor-pointer`,onClick:()=>d(!c),children:[e("div",{className:"flex items-center gap-2 text-white",children:[e("button",{className:"p-0.5 hover:bg-white/20 rounded",children:c?e(Sr,{size:16}):e(je,{size:16})}),e(N,{size:16}),e("span",{className:"font-bold",children:t}),n&&e("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded",children:["HAWB: ",n]})]}),e("div",{className:"flex items-center gap-2",children:o?e("span",{className:"flex items-center gap-1 text-xs text-green-200",children:[e(Oe,{size:12})," Válido"]}):e("span",{className:"flex items-center gap-1 text-xs text-red-200",children:[e(fe,{size:12})," Errores: ",s.length]})})]}),c&&e("div",{className:"p-4",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("div",{className:"flex gap-1 bg-white rounded-lg p-1 shadow-sm",children:[e("button",{onClick:()=>i("formatted"),className:`px-3 py-1 text-xs rounded ${u==="formatted"?"bg-slate-800 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Formateado"}),e("button",{onClick:()=>i("raw"),className:`px-3 py-1 text-xs rounded ${u==="raw"?"bg-slate-800 text-white":"text-slate-600 hover:bg-slate-100"}`,children:"Raw"})]}),e("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-white hover:bg-slate-50 rounded-lg border border-slate-200 transition-colors",children:[p?e(dt,{size:12,className:"text-green-600"}):e(ir,{size:12}),p?"Copiado!":"Copiar XML"]})]}),s.length>0&&e("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e("div",{className:"flex items-center gap-2 text-red-700 font-bold text-sm mb-1",children:[e(fe,{size:14})," Errores de validación"]}),e("ul",{className:"text-xs text-red-600 list-disc list-inside",children:s.map((A,F)=>e("li",{children:A},F))})]}),e("div",{className:"bg-slate-900 rounded-lg overflow-hidden",children:e("div",{className:"overflow-auto max-h-96 p-4",children:u==="formatted"?e("pre",{className:"text-xs font-mono leading-relaxed",dangerouslySetInnerHTML:{__html:m}}):e("pre",{className:"text-xs font-mono leading-relaxed text-green-400 whitespace-pre-wrap",children:r})})})]}),e("style",{children:`
        .xml-bracket { color: #9ca3af; }
        .xml-tag { color: #60a5fa; }
        .xml-attr-name { color: #a78bfa; }
        .xml-attr-value { color: #34d399; }
        .xml-declaration { color: #fbbf24; }
        .xml-comment { color: #6b7280; font-style: italic; }
      `})]})}),$o=at(({bundle:r,onCopy:t})=>{const[a,n]=L("xfwb"),[o,s]=L(!1),l=r.xfzbs&&r.xfzbs.length>0,c=He(()=>{let p=r.xfwb.xmlContent;return l&&r.xfzbs.forEach((h,u)=>{p+=`

<!-- ========== XFZB #${u+1}: ${h.hawbNumber} ========== -->

${h.xmlContent}`}),p},[r,l]),d=async()=>{try{await navigator.clipboard.writeText(c),s(!0),setTimeout(()=>s(!1),2e3)}catch(p){console.error("Error copying all XML:",p)}};return e("div",{className:"h-full flex flex-col",children:[e("div",{className:"flex items-center justify-between mb-4",children:[e("div",{className:"bg-slate-100 p-1 rounded-lg inline-flex items-center shadow-inner",children:[e("button",{onClick:()=>n("xfwb"),className:`px-6 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center gap-2 ${a==="xfwb"?"bg-white text-blue-700 shadow-sm ring-1 ring-black/5 transform scale-105":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[e(Le,{size:14}),"XFWB (Master)"]}),l&&e("button",{onClick:()=>n("xfzb"),className:`px-6 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center gap-2 ${a==="xfzb"?"bg-white text-purple-700 shadow-sm ring-1 ring-black/5 transform scale-105":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[e(Xe,{size:14}),"XFZB (Houses: ",r.xfzbs.length,")"]})]}),e("button",{onClick:d,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[o?e(dt,{size:14,className:"text-green-600"}):e(ir,{size:14}),o?"Copiado!":"Copiar Todo"]})]}),e("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg",children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e(Re,{size:16,className:"text-blue-600"}),e("span",{className:"font-bold text-blue-800",children:"Vista XML - IATA Cargo-XML 3.0"}),e("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-0.5 rounded",children:a==="xfwb"?"XFWB (Waybill)":"XFZB (HouseWaybill)"})]}),e("p",{className:"text-xs text-blue-600",children:["Formato XML estándar IATA ONE Record / Cargo-XML para mensajes electrónicos de guía aérea.",a==="xfwb"?" XFWB contiene los datos del Master Air Waybill.":" XFZB contiene los datos de las House Waybills."]})]}),e("div",{className:"flex-1 overflow-y-auto",children:[a==="xfwb"&&r.xfwb&&e(Ca,{xml:r.xfwb.xmlContent,title:`XFWB - Master AWB ${r.xfwb.awbNumber}`,type:"XFWB",isValid:r.xfwb.isValid,errors:r.xfwb.errors,onCopy:p=>t==null?void 0:t(p,"XFWB")}),a==="xfzb"&&e(ie,{children:l?e(ie,{children:[e("div",{className:"mb-3 p-2 bg-purple-50 border border-purple-200 rounded-lg",children:e("span",{className:"text-sm font-bold text-purple-800",children:["📦 ",r.xfzbs.length," Mensaje(s) XFZB"]})}),r.xfzbs.map((p,h)=>e(Ca,{xml:p.xmlContent,title:`XFZB #${h+1}`,type:"XFZB",hawbNumber:p.hawbNumber,isValid:p.isValid,errors:p.errors,onCopy:u=>t==null?void 0:t(u,`XFZB-${p.hawbNumber}`)},h))]}):e("div",{className:"text-slate-400 italic p-4 text-center",children:"No hay houses en este envío. XFZB solo se genera para envíos consolidados."})})]})]})}),Uo=`xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
             xmlns:ram="iata:datamodel:3" 
             xmlns:udt="urn:un:unece:uncefact:data:standard:UnqualifiedDataType:8" 
             xmlns:ccts="urn:un:unece:uncefact:documentation:standard:CoreComponentsTechnicalSpecification:2" 
             xmlns:rsm="iata:waybill:1" 
             xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
             xsi:schemaLocation="iata:waybill:1 Waybill_1.xsd"`,Wo=`xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                  xmlns:ram="iata:datamodel:3" 
                  xmlns:udt="urn:un:unece:uncefact:data:standard:UnqualifiedDataType:8" 
                  xmlns:ccts="urn:un:unece:uncefact:documentation:standard:CoreComponentsTechnicalSpecification:2" 
                  xmlns:rsm="iata:housewaybill:1" 
                  xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
                  xsi:schemaLocation="iata:housewaybill:1 HouseWaybill_1.xsd"`;function H(r){return r?r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}function wa(r){return r.replace(/\s/g,"")}function dr(r){return(r?new Date(r):new Date).toISOString().replace("Z","").split(".")[0]}function ya(){const r=new Date,t=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0"),o=String(r.getHours()).padStart(2,"0"),s=String(r.getMinutes()).padStart(2,"0"),l=String(r.getSeconds()).padStart(2,"0");return`${t}${a}${n}${o}${s}${l}`}function Gr(r){return{CO:"COLOMBIA",US:"UNITED STATES",EC:"ECUADOR",MX:"MEXICO",CA:"CANADA",NL:"NETHERLANDS",DE:"GERMANY",ES:"SPAIN",FR:"FRANCE",GB:"UNITED KINGDOM",IT:"ITALY",BE:"BELGIUM",CN:"CHINA",JP:"JAPAN",KR:"SOUTH KOREA",AU:"AUSTRALIA",BR:"BRAZIL",CL:"CHILE",PE:"PERU",AR:"ARGENTINA"}[r==null?void 0:r.toUpperCase()]||(r==null?void 0:r.toUpperCase())||""}function Na(r){return r?{FL:"FLORIDA",CA:"CALIFORNIA",NY:"NEW YORK",TX:"TEXAS",IL:"ILLINOIS",GA:"GEORGIA",NC:"NORTH CAROLINA",NJ:"NEW JERSEY",OH:"OHIO",PA:"PENNSYLVANIA",MA:"MASSACHUSETTS",WA:"WASHINGTON",MD:"MARYLAND",VA:"VIRGINIA",KY:"KENTUCKY",TN:"TENNESSEE",AZ:"ARIZONA",CO:"COLORADO",OR:"OREGON",ON:"ONTARIO",BC:"BRITISH COLUMBIA",QC:"QUEBEC"}[r.toUpperCase()]||r.toUpperCase():""}function Go(r){var n,o,s,l,c,d,p,h;const t=[],a=new Date().toISOString();try{const u=wa(r.awbNumber),i=ya(),m=dr(),x=dr(r.executionDate),v=r.weight||0,k=r.pieces||0,N=r.currency||"USD";let A=0,F=0,f=0;r.rates&&r.rates.length>0&&(A=r.rates.reduce((Z,ye)=>Z+(ye.total||0),0),F=r.rates[0].chargeableWeight||v,f=r.rates[0].rateOrCharge||0);let T=0,E=0;const O=[];r.otherCharges&&r.otherCharges.forEach(Z=>{const ye=Z.paymentMethod==="Prepaid",ke=Z.entitlement==="DueAgent"?"A":"C",xe=an(Z.code);Z.entitlement==="DueAgent"?T+=Z.amount:E+=Z.amount,O.push(`
        <ram:ApplicableLogisticsAllowanceCharge>
            <ram:ID>${xe}</ram:ID>
            <ram:PrepaidIndicator>${ye}</ram:PrepaidIndicator>
            <ram:PartyTypeCode>${ke}</ram:PartyTypeCode>
            <ram:ActualAmount currencyID="${N}">${Z.amount.toFixed(2)}</ram:ActualAmount>
        </ram:ApplicableLogisticsAllowanceCharge>`)});const B=A+T+E,_=(r.specialHandlingCodes||["EAP","PER"]).map(Z=>`
        <ram:HandlingSPHInstructions>
            <ram:DescriptionCode>${Z}</ram:DescriptionCode>
        </ram:HandlingSPHInstructions>`).join(""),ae=tn(r).map(Z=>`
                <ram:TypeCode>${Z}</ram:TypeCode>`).join(""),le=Qo(r),V=en(r),ue=H(Sa(r)),Ae=`<?xml version="1.0" encoding="UTF-8"?>
<rsm:Waybill ${Uo}>
    <rsm:MessageHeaderDocument>
        <ram:ID>${u}</ram:ID>
        <ram:Name>Master Air Waybill</ram:Name>
        <ram:TypeCode>741</ram:TypeCode>
        <ram:IssueDateTime>${m}</ram:IssueDateTime>
        <ram:PurposeCode>Creation</ram:PurposeCode>
        <ram:VersionID>3.00</ram:VersionID>
        <ram:ConversationID>${i}</ram:ConversationID>
        <ram:SenderParty>
            <ram:PrimaryID schemeID="C">${H(((n=r.routing)==null?void 0:n.senderAddress)||"TDVAGT03OPERFLOR/BOG1")}</ram:PrimaryID>
        </ram:SenderParty>
        <ram:RecipientParty>
            <ram:PrimaryID schemeID="C">${H(((o=r.routing)==null?void 0:o.recipientAddress)||"TDVAIR08DHV")}</ram:PrimaryID>
        </ram:RecipientParty>
    </rsm:MessageHeaderDocument>
    <rsm:BusinessHeaderDocument>
        <ram:ID>${u}</ram:ID>
        <ram:IncludedHeaderNote>
            <ram:ContentCode>C</ram:ContentCode>
            <ram:Content>${ue}</ram:Content>
        </ram:IncludedHeaderNote>
        <ram:SignatoryConsignorAuthentication>
            <ram:Signatory>${H(((s=r.agent)==null?void 0:s.name)||((l=r.shipper)==null?void 0:l.name)||"AGENT")}</ram:Signatory>
        </ram:SignatoryConsignorAuthentication>
        <ram:SignatoryCarrierAuthentication>
            <ram:ActualDateTime>${x}</ram:ActualDateTime>
            <ram:Signatory>${H(r.signature||"OPERATOR")}</ram:Signatory>
            <ram:IssueAuthenticationLocation>
                <ram:Name>${r.origin}</ram:Name>
            </ram:IssueAuthenticationLocation>
        </ram:SignatoryCarrierAuthentication>
    </rsm:BusinessHeaderDocument>
    <rsm:MasterConsignment>
        <ram:NilCarriageValueIndicator>true</ram:NilCarriageValueIndicator>
        <ram:NilCustomsValueIndicator>true</ram:NilCustomsValueIndicator>
        <ram:NilInsuranceValueIndicator>true</ram:NilInsuranceValueIndicator>
        <ram:TotalChargePrepaidIndicator>${r.paymentMethod==="Prepaid"}</ram:TotalChargePrepaidIndicator>
        <ram:TotalDisbursementPrepaidIndicator>${r.paymentMethod==="Prepaid"}</ram:TotalDisbursementPrepaidIndicator>
        <ram:IncludedTareGrossWeightMeasure unitCode="KGM">${v}</ram:IncludedTareGrossWeightMeasure>${r.volume?`
        <ram:GrossVolumeMeasure unitCode="MTQ">${r.volume.toFixed(2)}</ram:GrossVolumeMeasure>`:""}
        <ram:TotalPieceQuantity>${k}</ram:TotalPieceQuantity>
        ${qo(r.shipper)}
        ${jo(r.consignee)}
        ${Xo(r.agent)}
        <ram:OriginLocation>
            <ram:ID>${r.origin}</ram:ID>
        </ram:OriginLocation>
        <ram:FinalDestinationLocation>
            <ram:ID>${r.destination}</ram:ID>
        </ram:FinalDestinationLocation>
${le}${_}${V}
        <ram:ApplicableOriginCurrencyExchange>
            <ram:SourceCurrencyCode>${N}</ram:SourceCurrencyCode>
        </ram:ApplicableOriginCurrencyExchange>
        <ram:ApplicableLogisticsServiceCharge>
            <ram:TransportPaymentMethodCode>${r.paymentMethod==="Prepaid"?"PP":"CC"}</ram:TransportPaymentMethodCode>
            <ram:ServiceTypeCode>A</ram:ServiceTypeCode>
        </ram:ApplicableLogisticsServiceCharge>${O.join("")}
        <ram:ApplicableRating>
            <ram:TypeCode>A</ram:TypeCode>
            <ram:TotalChargeAmount>${A.toFixed(2)}</ram:TotalChargeAmount>
            <ram:IncludedMasterConsignmentItem>
                <ram:SequenceNumeric>1</ram:SequenceNumeric>${ae}
                <ram:GrossWeightMeasure unitCode="KGM">${v}</ram:GrossWeightMeasure>${r.volume?`
                <ram:GrossVolumeMeasure unitCode="MTQ">${r.volume.toFixed(2)}</ram:GrossVolumeMeasure>`:""}
                <ram:PieceQuantity>${k}</ram:PieceQuantity>
                <ram:NatureIdentificationTransportCargo>
                    <ram:Identification>${ue}</ram:Identification>
                </ram:NatureIdentificationTransportCargo>
                <ram:OriginCountry>
                    <ram:ID>${((d=(c=r.shipper)==null?void 0:c.address)==null?void 0:d.countryCode)||"CO"}</ram:ID>
                </ram:OriginCountry>
                <ram:TransportLogisticsPackage>
                    <ram:ItemQuantity>${k}</ram:ItemQuantity>
                    <ram:GrossWeightMeasure unitCode="KGM">${v}</ram:GrossWeightMeasure>${rn(r.dimensions)}
                </ram:TransportLogisticsPackage>
                <ram:ApplicableFreightRateServiceCharge>
                    <ram:CategoryCode>${on((h=(p=r.rates)==null?void 0:p[0])==null?void 0:h.rateClassCode)}</ram:CategoryCode>
                    <ram:CommodityItemID>${r.commodityCode||"1421"}</ram:CommodityItemID>
                    <ram:ChargeableWeightMeasure unitCode="KGM">${F}</ram:ChargeableWeightMeasure>
                    <ram:AppliedRate>${f.toFixed(2)}</ram:AppliedRate>
                    <ram:AppliedAmount currencyID="${N}">${A.toFixed(2)}</ram:AppliedAmount>
                </ram:ApplicableFreightRateServiceCharge>
            </ram:IncludedMasterConsignmentItem>
        </ram:ApplicableRating>
        <ram:ApplicableTotalRating>
            <ram:TypeCode>A</ram:TypeCode>
            <ram:ApplicablePrepaidCollectMonetarySummation>
                <ram:PrepaidIndicator>${r.paymentMethod==="Prepaid"}</ram:PrepaidIndicator>
                <ram:WeightChargeTotalAmount currencyID="${N}">${A.toFixed(2)}</ram:WeightChargeTotalAmount>
                <ram:AgentTotalDuePayableAmount currencyID="${N}">${T.toFixed(2)}</ram:AgentTotalDuePayableAmount>
                <ram:CarrierTotalDuePayableAmount currencyID="${N}">${E.toFixed(2)}</ram:CarrierTotalDuePayableAmount>
                <ram:GrandTotalAmount currencyID="${N}">${B.toFixed(2)}</ram:GrandTotalAmount>
            </ram:ApplicablePrepaidCollectMonetarySummation>
        </ram:ApplicableTotalRating>
    </rsm:MasterConsignment>
</rsm:Waybill>`;return{type:"XFWB",awbNumber:u,xmlContent:Ae,isValid:t.length===0,errors:t,timestamp:a}}catch(u){return t.push(`Error generando XFWB: ${u.message}`),{type:"XFWB",awbNumber:r.awbNumber,xmlContent:"",isValid:!1,errors:t,timestamp:a}}}function Vo(r,t){var o,s,l,c,d,p,h,u;const a=[],n=new Date().toISOString();try{const i=wa(r.awbNumber),m=t.hawbNumber,x=`${m}_${i}`,v=ya(),k=dr(),N=dr(r.executionDate),A=r.currency||"USD",F=t.weight||0,f=t.pieces||0,E=(t.htsCodes||[]).map(V=>`
                <ram:TypeCode>${V}</ram:TypeCode>`).join(""),B=(r.specialHandlingCodes||["EAP","PER"]).map(V=>`
            <ram:HandlingSPHInstructions>
                <ram:DescriptionCode>${V}</ram:DescriptionCode>
            </ram:HandlingSPHInstructions>`).join(""),X=Jo(r),_=H(t.natureOfGoods||Sa(r)),j=t.shipper||{name:t.shipperName,address:(o=r.shipper)==null?void 0:o.address},ae=t.consignee||{name:t.consigneeName,address:(s=r.consignee)==null?void 0:s.address},le=`<?xml version="1.0" encoding="UTF-8"?>
<rsm:HouseWaybill ${Wo}>
    <rsm:MessageHeaderDocument>
        <ram:ID>${H(x)}</ram:ID>
        <ram:Name>House Waybill</ram:Name>
        <ram:TypeCode>703</ram:TypeCode>
        <ram:IssueDateTime>${k}</ram:IssueDateTime>
        <ram:PurposeCode>Creation</ram:PurposeCode>
        <ram:VersionID>3.00</ram:VersionID>
        <ram:ConversationID>${v}</ram:ConversationID>
        <ram:SenderParty>
            <ram:PrimaryID schemeID="C">${H(((l=r.routing)==null?void 0:l.senderAddress)||"TDVAGT03OPERFLOR/BOG1")}</ram:PrimaryID>
        </ram:SenderParty>
        <ram:RecipientParty>
            <ram:PrimaryID schemeID="C">${H(((c=r.routing)==null?void 0:c.recipientAddress)||"TDVAIR08DHV")}</ram:PrimaryID>
        </ram:RecipientParty>
    </rsm:MessageHeaderDocument>
    <rsm:BusinessHeaderDocument>
        <ram:ID>${H(m)}</ram:ID>
        <ram:SignatoryConsignorAuthentication>
            <ram:Signatory>${H(((d=r.agent)==null?void 0:d.name)||"AGENT")}</ram:Signatory>
        </ram:SignatoryConsignorAuthentication>
        <ram:SignatoryCarrierAuthentication>
            <ram:ActualDateTime>${N}</ram:ActualDateTime>
            <ram:Signatory>${H(r.signature||"OPERATOR")}</ram:Signatory>
            <ram:IssueAuthenticationLocation>
                <ram:Name>${r.origin}</ram:Name>
            </ram:IssueAuthenticationLocation>
        </ram:SignatoryCarrierAuthentication>
    </rsm:BusinessHeaderDocument>
    <rsm:MasterConsignment>
        <ram:IncludedTareGrossWeightMeasure unitCode="KGM">${r.weight}</ram:IncludedTareGrossWeightMeasure>
        <ram:TotalPieceQuantity>${r.pieces}</ram:TotalPieceQuantity>
        <ram:TransportContractDocument>
            <ram:ID>${i}</ram:ID>
        </ram:TransportContractDocument>
        <ram:OriginLocation>
            <ram:ID>${r.origin}</ram:ID>
        </ram:OriginLocation>
        <ram:FinalDestinationLocation>
            <ram:ID>${r.destination}</ram:ID>
        </ram:FinalDestinationLocation>
        <ram:IncludedHouseConsignment>
            <ram:NilCarriageValueIndicator>true</ram:NilCarriageValueIndicator>
            <ram:NilCustomsValueIndicator>true</ram:NilCustomsValueIndicator>
            <ram:NilInsuranceValueIndicator>true</ram:NilInsuranceValueIndicator>
            <ram:TotalChargePrepaidIndicator>${r.paymentMethod==="Prepaid"}</ram:TotalChargePrepaidIndicator>
            <ram:TotalDisbursementPrepaidIndicator>${r.paymentMethod==="Prepaid"}</ram:TotalDisbursementPrepaidIndicator>
            <ram:IncludedTareGrossWeightMeasure unitCode="KGM">${F}</ram:IncludedTareGrossWeightMeasure>
            <ram:TotalPieceQuantity>${f}</ram:TotalPieceQuantity>
            <ram:SummaryDescription>${_}</ram:SummaryDescription>
            ${Yo(j)}
            ${Ko(ae)}
            ${Zo(r.agent)}
            <ram:OriginLocation>
                <ram:ID>${t.origin||r.origin}</ram:ID>
            </ram:OriginLocation>
            <ram:FinalDestinationLocation>
                <ram:ID>${t.destination||r.destination}</ram:ID>
            </ram:FinalDestinationLocation>
${X}${B}
            <ram:AssociatedReferenceDocument>
                <ram:ID>${i}</ram:ID>
                <ram:TypeCode>741</ram:TypeCode>
                <ram:Name>Master Air Waybill</ram:Name>
            </ram:AssociatedReferenceDocument>
            <ram:ApplicableOriginCurrencyExchange>
                <ram:SourceCurrencyCode>${A}</ram:SourceCurrencyCode>
            </ram:ApplicableOriginCurrencyExchange>
            <ram:IncludedHouseConsignmentItem>
                <ram:SequenceNumeric>1</ram:SequenceNumeric>${E}
                <ram:GrossWeightMeasure unitCode="KGM">${F}</ram:GrossWeightMeasure>
                <ram:PieceQuantity>${f}</ram:PieceQuantity>
                <ram:NatureIdentificationTransportCargo>
                    <ram:Identification>${_}</ram:Identification>
                </ram:NatureIdentificationTransportCargo>
                <ram:OriginCountry>
                    <ram:ID>${((p=j==null?void 0:j.address)==null?void 0:p.countryCode)||((u=(h=r.shipper)==null?void 0:h.address)==null?void 0:u.countryCode)||"CO"}</ram:ID>
                </ram:OriginCountry>
                <ram:TransportLogisticsPackage>
                    <ram:ItemQuantity>${f}</ram:ItemQuantity>
                    <ram:GrossWeightMeasure unitCode="KGM">${F}</ram:GrossWeightMeasure>
                </ram:TransportLogisticsPackage>
                <ram:ApplicableFreightRateServiceCharge>
                    <ram:CategoryCode>K</ram:CategoryCode>
                    <ram:CommodityItemID>${r.commodityCode||"1421"}</ram:CommodityItemID>
                    <ram:ChargeableWeightMeasure unitCode="KGM">${F}</ram:ChargeableWeightMeasure>
                </ram:ApplicableFreightRateServiceCharge>
            </ram:IncludedHouseConsignmentItem>
        </ram:IncludedHouseConsignment>
    </rsm:MasterConsignment>
</rsm:HouseWaybill>`;return{type:"XFZB",awbNumber:i,hawbNumber:m,xmlContent:le,isValid:a.length===0,errors:a,timestamp:n}}catch(i){return a.push(`Error generando XFZB: ${i.message}`),{type:"XFZB",awbNumber:r.awbNumber,hawbNumber:t.hawbNumber,xmlContent:"",isValid:!1,errors:a,timestamp:n}}}function zo(r){const t=Go(r),a=[];return r.hasHouses&&r.houseBills&&r.houseBills.length>0&&r.houseBills.forEach(n=>{a.push(Vo(r,n))}),{xfwb:t,xfzbs:a}}function qo(r){var t,a,n,o,s,l;return r?`<ram:ConsignorParty>
            <ram:Name>${H(r.name)}</ram:Name>
            <ram:PostalStructuredAddress>
                <ram:PostcodeCode>${H(((t=r.address)==null?void 0:t.postalCode)||"")}</ram:PostcodeCode>
                <ram:StreetName>${H(((a=r.address)==null?void 0:a.street)||"")}</ram:StreetName>
                <ram:CityName>${H(((n=r.address)==null?void 0:n.place)||"")}</ram:CityName>
                <ram:CountryID>${((o=r.address)==null?void 0:o.countryCode)||"CO"}</ram:CountryID>
                <ram:CountryName>${Gr(((s=r.address)==null?void 0:s.countryCode)||"CO")}</ram:CountryName>
            </ram:PostalStructuredAddress>${(l=r.contact)!=null&&l.number?`
            <ram:DefinedTradeContact>
                <ram:DirectTelephoneCommunication>
                    <ram:CompleteNumber>${H(r.contact.number)}</ram:CompleteNumber>
                </ram:DirectTelephoneCommunication>
            </ram:DefinedTradeContact>`:""}
        </ram:ConsignorParty>`:""}function jo(r){var a,n,o,s,l,c,d;if(!r)return"";const t=(a=r.address)==null?void 0:a.state;return`<ram:ConsigneeParty>
            <ram:Name>${H(r.name)}</ram:Name>
            <ram:PostalStructuredAddress>
                <ram:PostcodeCode>${H(((n=r.address)==null?void 0:n.postalCode)||"")}</ram:PostcodeCode>
                <ram:StreetName>${H(((o=r.address)==null?void 0:o.street)||"")}</ram:StreetName>
                <ram:CityName>${H(((s=r.address)==null?void 0:s.place)||"")}</ram:CityName>
                <ram:CountryID>${((l=r.address)==null?void 0:l.countryCode)||"US"}</ram:CountryID>
                <ram:CountryName>${Gr(((c=r.address)==null?void 0:c.countryCode)||"US")}</ram:CountryName>${t?`
                <ram:CountrySubDivisionName>${Na(t)}</ram:CountrySubDivisionName>`:""}
            </ram:PostalStructuredAddress>${(d=r.contact)!=null&&d.number?`
            <ram:DefinedTradeContact>
                <ram:DirectTelephoneCommunication>
                    <ram:CompleteNumber>${H(r.contact.number)}</ram:CompleteNumber>
                </ram:DirectTelephoneCommunication>
            </ram:DefinedTradeContact>`:""}
        </ram:ConsigneeParty>`}function Xo(r){return r?`<ram:FreightForwarderParty>
            <ram:Name>${H(r.name)}</ram:Name>
            <ram:CargoAgentID>${H(r.iataCode)}</ram:CargoAgentID>
            <ram:FreightForwarderAddress>
                <ram:CityName>${H(r.place)}</ram:CityName>
            </ram:FreightForwarderAddress>${r.cassCode?`
            <ram:SpecifiedCargoAgentLocation>
                <ram:ID>${H(r.cassCode)}</ram:ID>
            </ram:SpecifiedCargoAgentLocation>`:""}
        </ram:FreightForwarderParty>`:""}function Yo(r){var n;if(!r)return"";const t=r.name||r.shipperName||"",a=r.address||{};return`<ram:ConsignorParty>
                <ram:Name>${H(t)}</ram:Name>
                <ram:PostalStructuredAddress>
                    <ram:StreetName>${H(a.street||"")}</ram:StreetName>
                    <ram:CityName>${H(a.place||"")}</ram:CityName>
                    <ram:CountryID>${a.countryCode||"CO"}</ram:CountryID>
                    <ram:CountryName>${Gr(a.countryCode||"CO")}</ram:CountryName>
                </ram:PostalStructuredAddress>${(n=r.contact)!=null&&n.number?`
                <ram:DefinedTradeContact>
                    <ram:DirectTelephoneCommunication>
                        <ram:CompleteNumber>${H(r.contact.number)}</ram:CompleteNumber>
                    </ram:DirectTelephoneCommunication>
                </ram:DefinedTradeContact>`:""}
            </ram:ConsignorParty>`}function Ko(r){var o;if(!r)return"";const t=r.name||r.consigneeName||"",a=r.address||{},n=a.state;return`<ram:ConsigneeParty>
                <ram:Name>${H(t)}</ram:Name>
                <ram:PostalStructuredAddress>
                    <ram:StreetName>${H(a.street||"")}</ram:StreetName>
                    <ram:CityName>${H(a.place||"")}</ram:CityName>
                    <ram:CountryID>${a.countryCode||"US"}</ram:CountryID>
                    <ram:CountryName>${Gr(a.countryCode||"US")}</ram:CountryName>${n?`
                    <ram:CountrySubDivisionName>${Na(n)}</ram:CountrySubDivisionName>`:""}
                </ram:PostalStructuredAddress>${(o=r.contact)!=null&&o.number?`
                <ram:DefinedTradeContact>
                    <ram:DirectTelephoneCommunication>
                        <ram:CompleteNumber>${H(r.contact.number)}</ram:CompleteNumber>
                    </ram:DirectTelephoneCommunication>
                </ram:DefinedTradeContact>`:""}
            </ram:ConsigneeParty>`}function Zo(r){return r?`<ram:FreightForwarderParty>
                <ram:Name>${H(r.name)}</ram:Name>
                <ram:PostalStructuredAddress>
                    <ram:CityName>${H(r.place)}</ram:CityName>
                    <ram:CountryID>CO</ram:CountryID>
                </ram:PostalStructuredAddress>
            </ram:FreightForwarderParty>`:""}function Qo(r){return!r.flights||r.flights.length===0?"":r.flights.map((t,a)=>{const n=dr(t.date);return`        <ram:SpecifiedLogisticsTransportMovement>
            <ram:StageCode>Main-Carriage</ram:StageCode>
            <ram:ModeCode>4</ram:ModeCode>
            <ram:Mode>AIR TRANSPORT</ram:Mode>
            <ram:ID>${H(t.flightNumber)}</ram:ID>
            <ram:SequenceNumeric>${a+1}</ram:SequenceNumeric>
            <ram:UsedLogisticsTransportMeans>
                <ram:Name>${H(t.carrierCode)}</ram:Name>
            </ram:UsedLogisticsTransportMeans>
            <ram:ArrivalEvent>
                <ram:OccurrenceArrivalLocation>
                    <ram:ID>${t.destination}</ram:ID>
                    <ram:TypeCode>Airport</ram:TypeCode>
                </ram:OccurrenceArrivalLocation>
            </ram:ArrivalEvent>
            <ram:DepartureEvent>
                <ram:ScheduledOccurrenceDateTime>${n}</ram:ScheduledOccurrenceDateTime>
                <ram:OccurrenceDepartureLocation>
                    <ram:ID>${t.origin}</ram:ID>
                    <ram:TypeCode>Airport</ram:TypeCode>
                </ram:OccurrenceDepartureLocation>
            </ram:DepartureEvent>
        </ram:SpecifiedLogisticsTransportMovement>
`}).join("")}function Jo(r){return!r.flights||r.flights.length===0?"":r.flights.map((t,a)=>{const n=dr(t.date);return`            <ram:SpecifiedLogisticsTransportMovement>
                <ram:StageCode>Main-Carriage</ram:StageCode>
                <ram:ModeCode>4</ram:ModeCode>
                <ram:Mode>AIR TRANSPORT</ram:Mode>
                <ram:ID>${H(t.flightNumber)}</ram:ID>
                <ram:SequenceNumeric>${a+1}</ram:SequenceNumeric>
                <ram:UsedLogisticsTransportMeans>
                    <ram:Name>${H(t.carrierCode)}</ram:Name>
                </ram:UsedLogisticsTransportMeans>
                <ram:ArrivalEvent>
                    <ram:OccurrenceArrivalLocation>
                        <ram:ID>${t.destination}</ram:ID>
                    </ram:OccurrenceArrivalLocation>
                </ram:ArrivalEvent>
                <ram:DepartureEvent>
                    <ram:ScheduledOccurrenceDateTime>${n}</ram:ScheduledOccurrenceDateTime>
                    <ram:OccurrenceDepartureLocation>
                        <ram:ID>${t.origin}</ram:ID>
                    </ram:OccurrenceDepartureLocation>
                </ram:DepartureEvent>
            </ram:SpecifiedLogisticsTransportMovement>
`}).join("")}function en(r){return!r.accounting||r.accounting.length===0?"":r.accounting.map(t=>`
        <ram:IncludedAccountingNote>
            <ram:ContentCode>GEN</ram:ContentCode>
            <ram:Content>${H(t.accountingInformation||"")}</ram:Content>
        </ram:IncludedAccountingNote>`).join("")}function rn(r){if(!r||r.length===0)return"";const t=r[0];return`
                    <ram:LinearSpatialDimension>
                        <ram:WidthMeasure unitCode="CMT">${t.width||0}</ram:WidthMeasure>
                        <ram:LengthMeasure unitCode="CMT">${t.length||0}</ram:LengthMeasure>
                        <ram:HeightMeasure unitCode="CMT">${t.height||0}</ram:HeightMeasure>
                    </ram:LinearSpatialDimension>`}function tn(r){const t=new Set;return r.rates&&r.rates.forEach(a=>{a.hsCodes?a.hsCodes.forEach(n=>t.add(n)):a.hsCode&&t.add(a.hsCode)}),r.houseBills&&r.houseBills.forEach(a=>{a.htsCodes&&a.htsCodes.forEach(n=>t.add(n))}),Array.from(t)}function Sa(r){var t,a;return r.description?r.description.substring(0,200):r.hasHouses?"CONSOLIDATION COMERCIAL INVOICE ATTACHED FRESH CUT FLOWERS":((a=(t=r.rates)==null?void 0:t[0])==null?void 0:a.description)||"FRESH CUT FLOWERS"}function an(r){return{AWC:"AW",AWA:"DA",MY:"MY",FE:"FE",CG:"CG"}[r]||r.substring(0,2)}function on(r){return r&&{N:"K",Q:"Q",C:"C",M:"M",NORMAL_RATE:"K",QUANTITY_RATE:"Q",SPECIFIC_COMMODITY_RATE:"C",MINIMUM_CHARGE:"M"}[r]||"K"}const Aa=at(({house:r,index:t,isExpanded:a,onToggle:n,onUpdate:o,masterOrigin:s,masterDestination:l,isReadOnly:c})=>{const d=J(m=>{var v,k,N,A,F,f,T,E;const x=`shipper${m.charAt(0).toUpperCase()+m.slice(1)}`;return r[x]!==void 0&&r[x]!==""?r[x]:m==="name"?r.shipperName||((v=r.shipper)==null?void 0:v.name)||"":m==="taxId"?((k=r.shipper)==null?void 0:k.taxId)||"":m==="address"?((A=(N=r.shipper)==null?void 0:N.address)==null?void 0:A.street)||"":m==="city"?((f=(F=r.shipper)==null?void 0:F.address)==null?void 0:f.place)||"":m==="country"&&((E=(T=r.shipper)==null?void 0:T.address)==null?void 0:E.countryCode)||""},[r]),p=J(m=>{var v,k,N,A,F,f,T,E;const x=`consignee${m.charAt(0).toUpperCase()+m.slice(1)}`;return r[x]!==void 0&&r[x]!==""?r[x]:m==="name"?r.consigneeName||((v=r.consignee)==null?void 0:v.name)||"":m==="taxId"?((k=r.consignee)==null?void 0:k.taxId)||"":m==="address"?((A=(N=r.consignee)==null?void 0:N.address)==null?void 0:A.street)||"":m==="city"?((f=(F=r.consignee)==null?void 0:F.address)==null?void 0:f.place)||"":m==="country"&&((E=(T=r.consignee)==null?void 0:T.address)==null?void 0:E.countryCode)||""},[r]),h=J((m,x)=>{const v={...r,[m]:x};o(t,v)},[r,t,o]),u=J((m,x)=>{const v={...r},k=`shipper${m.charAt(0).toUpperCase()+m.slice(1)}`;v[k]=x,v.shipper||(v.shipper={name:"",address:{street:"",place:"",countryCode:"",postalCode:""}}),m==="name"?(v.shipper.name=x,v.shipperName=x):m==="taxId"?v.shipper.taxId=x:m==="address"?v.shipper.address.street=x:m==="city"?v.shipper.address.place=x:m==="country"&&(v.shipper.address.countryCode=x),o(t,v)},[r,t,o]),i=J((m,x)=>{const v={...r},k=`consignee${m.charAt(0).toUpperCase()+m.slice(1)}`;v[k]=x,v.consignee||(v.consignee={name:"",address:{street:"",place:"",countryCode:"",postalCode:""}}),m==="name"?(v.consignee.name=x,v.consigneeName=x):m==="taxId"?v.consignee.taxId=x:m==="address"?v.consignee.address.street=x:m==="city"?v.consignee.address.place=x:m==="country"&&(v.consignee.address.countryCode=x),o(t,v)},[r,t,o]);return e("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[e("button",{type:"button",onClick:()=>n(t),className:"w-full bg-slate-50 px-3 py-2 border-b border-slate-200 flex items-center justify-between hover:bg-slate-100 transition-colors",children:[e("div",{className:"flex items-center gap-3",children:[e("span",{className:"bg-sky-100 text-sky-700 w-6 h-6 rounded-full text-xs font-bold flex items-center justify-center",children:t+1}),e("span",{className:"font-mono font-bold text-slate-800 text-sm",children:r.hawbNumber||"Sin HAWB"}),e("span",{className:"text-slate-400 text-xs",children:"|"}),e("span",{className:"text-xs text-slate-600 truncate max-w-[150px]",title:String(d("name")||""),children:[String(d("name")||"?")," → ",String(p("name")||"?")]})]}),e("div",{className:"flex items-center gap-4",children:[e("div",{className:"text-right",children:[e("span",{className:"text-sm font-semibold text-slate-700",children:[r.pieces," pcs"]}),e("span",{className:"text-slate-400 mx-1",children:"/"}),e("span",{className:"text-sm font-semibold text-slate-700",children:[r.weight," kg"]})]}),a?e(Sr,{size:16,className:"text-slate-400"}):e(je,{size:16,className:"text-slate-400"})]})]}),a&&e("div",{className:"p-3 space-y-3 animate-in slide-in-from-top-1 duration-150",children:[e("div",{className:"grid grid-cols-5 gap-2",children:[e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-purple-600 uppercase font-bold mb-0.5",children:"HAWB *"}),e("input",{type:"text",value:r.hawbNumber||"",onChange:m=>h("hawbNumber",m.target.value),readOnly:c,maxLength:12,className:"text-sm border border-purple-200 rounded px-2 py-1 focus:ring-1 focus:ring-purple-400 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Origen"}),e("input",{type:"text",value:r.origin||s,onChange:m=>h("origin",m.target.value),readOnly:c,maxLength:3,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Destino"}),e("input",{type:"text",value:r.destination||l,onChange:m=>h("destination",m.target.value),readOnly:c,maxLength:3,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Piezas *"}),e("input",{type:"number",value:r.pieces,onChange:m=>h("pieces",parseInt(m.target.value)||0),readOnly:c,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Peso *"}),e("input",{type:"number",step:"0.01",value:r.weight,onChange:m=>h("weight",parseFloat(m.target.value)||0),readOnly:c,className:"text-sm border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]})]}),e("div",{className:"grid grid-cols-2 gap-2",children:[e("div",{className:"bg-sky-50/50 border border-sky-100 rounded p-2",children:[e("div",{className:"text-[10px] font-bold text-sky-600 mb-1 flex items-center gap-1",children:[e($r,{size:10})," SHIPPER"]}),e("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[e("input",{placeholder:"Nombre *",value:d("name"),onChange:m=>u("name",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border border-sky-200 rounded text-xs"}),e("input",{placeholder:"NIT/Tax ID",value:d("taxId"),onChange:m=>u("taxId",m.target.value),readOnly:c,className:"px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Dirección",value:d("address"),onChange:m=>u("address",m.target.value),readOnly:c,className:"col-span-3 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Ciudad",value:d("city"),onChange:m=>u("city",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"País",value:d("country"),onChange:m=>u("country",m.target.value),readOnly:c,maxLength:2,className:"px-1.5 py-1 border rounded text-xs"})]})]}),e("div",{className:"bg-purple-50/50 border border-purple-100 rounded p-2",children:[e("div",{className:"text-[10px] font-bold text-purple-600 mb-1 flex items-center gap-1",children:[e(cr,{size:10})," CONSIGNEE"]}),e("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[e("input",{placeholder:"Nombre *",value:p("name"),onChange:m=>i("name",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border border-purple-200 rounded text-xs"}),e("input",{placeholder:"NIT/Tax ID",value:p("taxId"),onChange:m=>i("taxId",m.target.value),readOnly:c,className:"px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Dirección",value:p("address"),onChange:m=>i("address",m.target.value),readOnly:c,className:"col-span-3 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"Ciudad",value:p("city"),onChange:m=>i("city",m.target.value),readOnly:c,className:"col-span-2 px-1.5 py-1 border rounded text-xs"}),e("input",{placeholder:"País",value:p("country"),onChange:m=>i("country",m.target.value),readOnly:c,maxLength:2,className:"px-1.5 py-1 border rounded text-xs"})]})]})]}),e("div",{className:"grid grid-cols-2 gap-2",children:[e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-0.5",children:"Nature of Goods *"}),e("input",{type:"text",value:r.natureOfGoods||"",onChange:m=>h("natureOfGoods",m.target.value),readOnly:c,maxLength:500,className:"text-xs border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-0.5",children:"Common Name"}),e("input",{type:"text",value:r.commonName||"",onChange:m=>h("commonName",m.target.value),readOnly:c,maxLength:500,className:"text-xs border border-slate-200 rounded px-2 py-1 focus:ring-1 outline-none"})]})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-purple-600 uppercase font-bold mb-0.5 flex items-center gap-1",children:[e(To,{size:10})," HTS Codes (Arancelarios)"]}),e("div",{className:"flex flex-wrap gap-1 min-h-[28px] p-1.5 bg-purple-50 border border-purple-200 rounded",children:[(r.htsCodes||[]).length>0&&r.htsCodes.map((m,x)=>e("span",{className:"inline-flex items-center gap-1 bg-purple-100 text-purple-800 px-2 py-0.5 rounded text-xs font-mono",children:[m,!c&&e("button",{onClick:()=>{const v=r.htsCodes.filter((k,N)=>N!==x);h("htsCodes",v)},className:"hover:text-red-600",children:e(Me,{size:10})})]},x)),!c&&e("input",{type:"text",placeholder:(r.htsCodes||[]).length>0?"+ Agregar HTS":"Escribe código HTS y presiona Enter",className:"flex-1 min-w-[120px] px-1 py-0.5 text-xs border-0 bg-transparent outline-none placeholder:text-purple-400 placeholder:italic",onKeyDown:m=>{if(m.key==="Enter"&&m.currentTarget.value.trim()){const x=m.currentTarget.value.trim().replace(/\D/g,""),v=r.htsCodes||[];x&&!v.includes(x)&&h("htsCodes",[...v,x]),m.currentTarget.value=""}}}),c&&(r.htsCodes||[]).length===0&&e("span",{className:"text-xs text-purple-400 italic",children:"Sin códigos HTS"})]})]})]})]})},(r,t)=>r.house===t.house&&r.isExpanded===t.isExpanded&&r.isReadOnly===t.isReadOnly&&r.index===t.index);Aa.displayName="HouseRow";const nn=({title:r,children:t,defaultOpen:a=!1})=>{const[n,o]=L(a);return e("div",{className:"border border-slate-100 rounded overflow-hidden mt-2",children:[e("button",{onClick:()=>o(!n),className:"w-full flex items-center justify-between px-2 py-1.5 bg-slate-50 hover:bg-slate-100 text-xs text-slate-600",children:[e("span",{className:"flex items-center gap-1",children:[n?e(Sr,{size:12}):e(je,{size:12}),r]}),e("span",{className:"text-[10px] text-slate-400 bg-slate-200 px-1 rounded",children:"opcional"})]}),n&&e("div",{className:"p-2 bg-white border-t border-slate-100",children:t})]})},sn=r=>typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r)),U=({label:r,value:t,onChange:a,readOnly:n=!1,maxLength:o,placeholder:s,className:l="",type:c="text",required:d=!1})=>{const p=(t==null?void 0:t.toString())||"",h=o&&p.length>o,u=d&&!p.trim(),i=d?u||h?"border-red-300 bg-red-50":"border-purple-300 focus:ring-purple-300":h?"border-red-300 bg-red-50":"border-slate-200 focus:ring-slate-200",m=d?"text-slate-600":"text-slate-400";return e("div",{className:`flex flex-col ${l}`,children:[e("div",{className:"flex justify-between items-center mb-0.5",children:[e("label",{className:`text-[10px] uppercase font-bold flex items-center gap-1 ${m}`,children:[r,d&&e("span",{className:"text-purple-500",children:"*"}),!d&&e("span",{className:"text-[9px] text-slate-300 font-normal normal-case",children:"(opt)"})]}),o&&!n&&e("span",{className:`text-[9px] ${h?"text-red-500 font-bold":"text-slate-400"}`,children:[p.length,"/",o]})]}),n?e("div",{className:`text-sm font-medium py-1.5 border-b min-h-[32px] flex items-center px-2 rounded ${d?"border-slate-200 bg-slate-50":"border-slate-100 bg-slate-50/50"} text-slate-700`,children:p||e("span",{className:"text-slate-400 italic text-xs",children:"-"})}):e("input",{type:c,value:p,onChange:x=>a==null?void 0:a(x.target.value),className:`text-sm border ${i} rounded px-2 py-1.5 focus:ring-1 outline-none transition-all h-[34px]`,placeholder:s})]})},ka=({title:r,icon:t,party:a,onUpdate:n,readOnly:o})=>{var l;const s=(c,d)=>{var p;if(c.includes(".")){const[h,u]=c.split(".");h==="address"?n({...a,address:{...a.address,[u]:d}}):h==="contact"&&n({...a,contact:{...a.contact,identifier:((p=a.contact)==null?void 0:p.identifier)||"TE",[u]:d}})}else n({...a,[c]:d})};return e("div",{className:"bg-white border border-slate-200 rounded-lg p-3 shadow-sm",children:[e("div",{className:"flex items-center gap-2 mb-3 border-b border-slate-100 pb-2",children:[e("div",{className:"bg-purple-100 p-1 rounded text-purple-600",children:t}),e("h3",{className:"font-semibold text-slate-800 text-sm",children:r}),!o&&e("span",{className:"ml-auto text-[10px] bg-green-100 text-green-600 px-1.5 py-0.5 rounded flex items-center gap-1",children:e(Ye,{size:10})})]}),e("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1.5 text-xs",children:[e(U,{label:"Nombre *",value:a.name,onChange:c=>s("name",c),readOnly:o,maxLength:35,required:!0}),e(U,{label:"Nombre 2",value:a.name2||"",onChange:c=>s("name2",c),readOnly:o,maxLength:35}),e(U,{label:"NIT/Tax ID",value:a.taxId||"",onChange:c=>s("taxId",c),readOnly:o,maxLength:17}),e(U,{label:"No. Cuenta",value:a.accountNumber||"",onChange:c=>s("accountNumber",c),readOnly:o,maxLength:14}),e(U,{label:"Dirección 1 *",value:a.address.street,onChange:c=>s("address.street",c),readOnly:o,maxLength:35,required:!0}),e(U,{label:"Dirección 2",value:a.address.street2||"",onChange:c=>s("address.street2",c),readOnly:o,maxLength:35}),e(U,{label:"Ciudad *",value:a.address.place,onChange:c=>s("address.place",c),readOnly:o,maxLength:17,required:!0}),e(U,{label:"Estado",value:a.address.state||"",onChange:c=>s("address.state",c),readOnly:o,maxLength:9}),e(U,{label:"País (ISO) *",value:a.address.countryCode,onChange:c=>s("address.countryCode",c),readOnly:o,maxLength:2,required:!0}),e(U,{label:"Código Postal",value:a.address.postalCode,onChange:c=>s("address.postalCode",c),readOnly:o,maxLength:9}),e(U,{label:"Teléfono",value:((l=a.contact)==null?void 0:l.number)||"",onChange:c=>s("contact.number",c),readOnly:o,maxLength:25,className:"col-span-2"})]}),e(nn,{title:"Campos Adicionales",children:e("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1.5 text-xs",children:[e(U,{label:"Email",value:a.email||"",onChange:c=>s("email",c),readOnly:o,maxLength:70}),e(U,{label:"Fax",value:a.fax||"",onChange:c=>s("fax",c),readOnly:o,maxLength:25})]})})]})},ln=({agent:r,onUpdate:t,readOnly:a})=>{const n=(o,s)=>{t({...r,[o]:s})};return e("div",{className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 border border-purple-200 rounded-lg p-4 shadow-sm",children:[e("div",{className:"flex items-center gap-2 mb-4 border-b border-purple-200 pb-2",children:[e("div",{className:"bg-purple-100 p-1.5 rounded text-purple-600",children:e(ha,{size:16})}),e("h3",{className:"font-bold text-purple-800",children:"Agente de Carga (IATA)"}),!a&&e("span",{className:"ml-auto text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded flex items-center gap-1",children:[e(Ye,{size:10})," Editable"]})]}),e("div",{className:"grid grid-cols-3 gap-3",children:[e(U,{label:"Nombre del Agente",value:r.name,onChange:o=>n("name",o),readOnly:a,maxLength:35,required:!0,className:"col-span-2"}),e(U,{label:"Código IATA",value:r.iataCode,onChange:o=>n("iataCode",o),readOnly:a,maxLength:7,required:!0}),e(U,{label:"Código CASS",value:r.cassCode||"",onChange:o=>n("cassCode",o),readOnly:a,maxLength:4}),e(U,{label:"Ciudad/Lugar",value:r.place,onChange:o=>n("place",o),readOnly:a,maxLength:17,required:!0}),e(U,{label:"Número de Cuenta",value:r.accountNumber||"",onChange:o=>n("accountNumber",o),readOnly:a,maxLength:14})]})]})},pr=({icon:r,label:t,value:a,subvalue:n,color:o="blue"})=>e("div",{className:`rounded-lg border p-3 ${{blue:"bg-purple-50 border-purple-200 text-purple-700",green:"bg-green-50 border-green-200 text-green-700",amber:"bg-amber-50 border-amber-200 text-amber-700",purple:"bg-purple-50 border-purple-200 text-purple-700",slate:"bg-slate-50 border-slate-200 text-slate-700"}[o]}`,children:[e("div",{className:"flex items-center gap-2 mb-1",children:[r,e("span",{className:"text-xs uppercase font-bold opacity-70",children:t})]}),e("div",{className:"text-lg font-bold",children:a}),n&&e("div",{className:"text-xs opacity-60",children:n})]}),Ta=({isOpen:r,onClose:t,shipment:a,onSave:n,onCopySuccess:o,onSaveConfig:s})=>{var Ne,mr,Ue,Er,we,Ia,Fa,Oa,Ra,La,Da,Pa,Ha;const[l,c]=L("parties"),[d,p]=L("fwb"),[h,u]=L("xfwb"),[i,m]=L(null),[x,v]=L(!1),[k,N]=L([]),[A,F]=L(!1),[f,T]=L(null),[E,O]=L("masterAndHouses"),[B,X]=L("cargoxml"),[_,j]=L("shipper"),[ae,le]=L(!1),[V,ue]=L(()=>nr()),[Ae,Z]=L(0),ye="CARGO_IMP",[ke,xe]=L(new Set),ge=Gt(null),De=Gt(!0),ve=(i==null?void 0:i.status)==="DRAFT",I=!ve,Qe=J(g=>{xe(C=>{const w=new Set(C);return w.has(g)?w.delete(g):w.add(g),w})},[]),$e=J(()=>{mo(),Lo(),Z(0),t()},[t]),Je=J((g,C)=>{m(w=>{if(!w)return w;const y=[...w.houseBills];return y[g]=C,{...w,houseBills:y}})},[]);or(()=>(De.current=!0,()=>{De.current=!1,ge.current!==null&&(window.clearTimeout(ge.current),ge.current=null)}),[]),or(()=>{a&&(m(sn(a)),p("fwb"),u("xfwb"),c("parties"),N([]),T(null),O("masterAndHouses"),X("cargoxml"),j("shipper"),xe(new Set))},[a]);const er=He(()=>{var g,C;if(!i)return{fwbMessage:null,fhlMessages:null,concatenatedFhl:null,policyInfo:null,error:null};try{const w=((g=i.awbNumber)==null?void 0:g.split("-")[0])||"000",y=Mr.getPolicyInfo(w);console.log(`[CARGO-IMP] Regenerando (v${Ae}) con política: ${y.airlineName}, segmentos habilitados: ${((C=y.policy.enabledSegments)==null?void 0:C.length)||0}`);const D=Mr.generateFWB(i);let K=[],he="";return i.hasHouses&&i.houseBills.length>0&&(K=i.houseBills.map(ur=>Mr.generateFHL(i,ur)),he=Mr.generateConcatenatedFHL(i)),{fwbMessage:D,fhlMessages:K.length>0?K:null,concatenatedFhl:he,policyInfo:y,error:null}}catch(w){return console.error("[CARGO-IMP Generation Error]",w),{fwbMessage:null,fhlMessages:null,concatenatedFhl:null,policyInfo:null,error:w.message||"Error generando EDI"}}},[i,ye,Ae]),{fwbMessage:G,fhlMessages:de,concatenatedFhl:rr,policyInfo:Q,error:tr}=er,oe=He(()=>{if(!i)return null;try{console.log("[CARGO-XML] Generando bundle XFWB/XFZB...");const g=zo(i);return console.log(`[CARGO-XML] Bundle generado: XFWB válido=${g.xfwb.isValid}, XFZBs=${g.xfzbs.length}`),g}catch(g){return console.error("[CARGO-XML Generation Error]",g),null}},[i,Ae]),b=J((g,C)=>{if(!(i!=null&&i.awbNumber))return;const w=i.awbNumber.split("-")[0]||"000",D=Object.keys(me).includes(g);D?go(w,g,C):uo(w,g,C),Z(K=>K+1),console.log(`[CARGO-IMP] Toggle segmento ${D?"FHL":"FWB"} ${g} -> ${C?"HABILITADO":"DESHABILITADO"} para ${w}`)},[i]),S=J(()=>{if(!(G!=null&&G.fullMessage))return;let g=G.fullMessage;i!=null&&i.hasHouses&&E==="masterAndHouses"&&rr&&(g=G.fullMessage+`

`+rr),Ce(g);const C={allSuccess:!0,summary:`✅ Mensaje EDI copiado al clipboard. FWB${i!=null&&i.hasHouses?` + ${i.houseBills.length} FHL`:""}.`,fwbMessage:G.fullMessage,fhlMessages:de==null?void 0:de.map(w=>w.fullMessage)};T(C),i&&o&&o(i.id,g)},[G,rr,de,i,E,o]),[q,Y]=L(!1),[R,M]=L(!1),W=He(()=>{var g,C,w;return!!((g=i==null?void 0:i.descartesConfig)!=null&&g.endpoint&&((C=i==null?void 0:i.descartesConfig)!=null&&C.username)&&((w=i==null?void 0:i.descartesConfig)!=null&&w.password))},[i==null?void 0:i.descartesConfig]),pe=J(async()=>{var g,C;if(i!=null&&i.descartesConfig&&!(B==="cargoxml"&&!((g=oe==null?void 0:oe.xfwb)!=null&&g.xmlContent))&&!(B==="edi"&&!(G!=null&&G.fullMessage))){Y(!0),M(!1),T(null);try{const w=new yo({endpoint:i.descartesConfig.endpoint,username:i.descartesConfig.username,password:i.descartesConfig.password}),y=i.awbNumber;let D,K,he=[];if(B==="cargoxml"){K=oe.xfwb.xmlContent;let be=[];i.hasHouses&&E==="masterAndHouses"&&oe.xfzbs.length>0&&(he=oe.xfzbs.map(Pe=>Pe.xmlContent),be=oe.xfzbs.map(Pe=>Pe.hawbNumber||"")),D=await w.sendBundle(K,y,he,be)}else{K=G.fullMessage;let be=[];i.hasHouses&&E==="masterAndHouses"&&de&&(he=de.map(Pe=>Pe.fullMessage),be=i.houseBills.map(Pe=>Pe.hawbNumber)),D=await w.sendBundle(K,y,he,be)}const ur={allSuccess:D.allSuccess,summary:D.summary,fwbMessage:K,fhlMessages:he.length>0?he:void 0,transmissionResult:D};T(ur),M(D.allSuccess),D.allSuccess&&o&&o(i.id,`TRANSMITTED (${B.toUpperCase()}): ${y}`)}catch(w){const y=w instanceof Error?w.message:"Error desconocido";T({allSuccess:!1,summary:`❌ Error de transmisión: ${y}`,fwbMessage:B==="cargoxml"?(C=oe==null?void 0:oe.xfwb)==null?void 0:C.xmlContent:G==null?void 0:G.fullMessage})}finally{Y(!1)}}},[G,de,oe,i,E,B,o]),Ce=J(g=>{navigator.clipboard.writeText(g),v(!0),ge.current!==null&&window.clearTimeout(ge.current),ge.current=window.setTimeout(()=>{De.current&&v(!1),ge.current=null},2e3)},[]),{totalWeightCharge:Te,totalOtherCharges:re,grandTotal:ce}=He(()=>{if(!i)return{totalWeightCharge:0,totalOtherCharges:0,grandTotal:0};const g=i.rates.reduce((w,y)=>w+y.total,0),C=i.otherCharges.reduce((w,y)=>w+y.amount,0);return{totalWeightCharge:g,totalOtherCharges:C,grandTotal:g+C}},[i]);if(!r||!i)return null;const Ee=[{id:"parties",icon:Ro,label:"Partes"},{id:"cargo",icon:Le,label:"Carga"},{id:"financials",icon:ga,label:"Cargos"},{id:"security",icon:xa,label:"Seguridad"},{id:"houses",icon:Xe,label:i.hasHouses?`Houses (${i.houseBills.length})`:"Houses"},{id:"summary",icon:Ur,label:"Resumen"},{id:"json",icon:Tr,label:"EDI"},{id:"xml",icon:Re,label:"XML"}];return e("div",{className:"modal-overlay fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:[e("div",{className:"modal-content bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[88vh] flex flex-col overflow-hidden",children:[e("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-gradient-to-r from-slate-50 to-purple-50",children:[e("div",{className:"flex items-center gap-4",children:[e("div",{className:"bg-purple-600 p-2.5 rounded-lg text-white shadow-md",children:e(lr,{size:22})}),e("div",{children:[e("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[ve?"Editor de Envío":"Visualización de Envío",ve&&e("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-medium flex items-center gap-1",children:[e(Ye,{size:10})," MODO EDICIÓN"]}),!ve&&e("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full font-medium",children:"SOLO LECTURA"})]}),e("p",{className:"text-sm text-slate-500 font-mono",children:["AWB: ",e("span",{className:"font-bold text-slate-700",children:i.awbNumber})]})]})]}),e("div",{className:"flex items-center gap-3",children:[e("div",{className:`px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-1 ${i.status==="DRAFT"?"bg-gray-100 text-gray-600":i.status==="TRANSMITTED"?"bg-amber-100 text-amber-700":i.status==="ACKNOWLEDGED"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i.status==="ACKNOWLEDGED"&&e(Oe,{size:12}),i.status==="REJECTED"&&e(fe,{size:12}),i.status==="TRANSMITTED"&&e(pt,{size:12}),i.status]}),e("button",{onClick:()=>le(!0),className:"text-slate-500 hover:text-purple-600 hover:bg-purple-50 p-2 rounded-lg transition-colors",title:"Configuración del Conector",children:e(ht,{size:20})}),e("button",{onClick:$e,className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-lg transition-colors",children:e(Me,{size:20})})]})]}),e("div",{className:"px-6 border-b border-slate-200 flex gap-1 bg-white overflow-x-auto flex-nowrap min-h-[46px]",children:Ee.map(g=>e("button",{onClick:()=>c(g.id),className:`py-3 px-4 text-xs font-semibold border-b-2 transition-all flex items-center gap-2 whitespace-nowrap flex-shrink-0 ${l===g.id?"border-purple-600 text-purple-700 bg-purple-50 rounded-t-lg":"border-transparent text-slate-600 hover:text-purple-600 hover:bg-slate-50"}`,children:[e(g.icon,{size:14}),g.label]},g.id))}),k.length>0&&e("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 text-red-700 font-bold mb-2",children:[e(fe,{size:16})," Errores de Validación"]}),e("ul",{className:"text-sm text-red-600 list-disc list-inside",children:k.map((g,C)=>e("li",{children:g},C))})]}),e("div",{className:"flex-1 overflow-y-auto px-4 py-3 bg-slate-50/30",style:{maxHeight:"calc(90vh - 120px)"},children:[l==="summary"&&e("div",{className:"space-y-4",children:[e("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[e(pr,{icon:e(gt,{size:14}),label:"Origen",value:i.origin,color:"blue"}),e(pr,{icon:e(gt,{size:14}),label:"Destino",value:i.destination,color:"green"}),e(pr,{icon:e(Le,{size:14}),label:"Piezas",value:i.pieces,color:"amber"}),e(pr,{icon:e(Fo,{size:14}),label:"Peso",value:`${i.weight} ${i.weightUnit==="KILOGRAM"?"KG":"LB"}`,color:"purple"}),e(pr,{icon:e(ga,{size:14}),label:"Total",value:`${i.currency} ${ce.toFixed(2)}`,color:"green"}),e(pr,{icon:e(lr,{size:14}),label:"Vuelos",value:i.flights.length,subvalue:((Ne=i.flights[0])==null?void 0:Ne.flightNumber)||"Sin vuelo",color:"slate"})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3 text-purple-600",children:[e($r,{size:16})," ",e("span",{className:"font-bold text-sm",children:"SHIPPER (Exportador)"})]}),e("p",{className:"font-bold text-slate-800",children:i.shipper.name}),e("p",{className:"text-sm text-slate-500",children:i.shipper.address.street}),e("p",{className:"text-sm text-slate-500",children:[i.shipper.address.place,", ",i.shipper.address.countryCode]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3 text-green-600",children:[e(cr,{size:16})," ",e("span",{className:"font-bold text-sm",children:"CONSIGNEE (Importador)"})]}),e("p",{className:"font-bold text-slate-800",children:i.consignee.name}),e("p",{className:"text-sm text-slate-500",children:i.consignee.address.street}),e("p",{className:"text-sm text-slate-500",children:[i.consignee.address.place,", ",i.consignee.address.countryCode]})]}),e("div",{className:"bg-white border border-amber-200 rounded-lg p-4 bg-amber-50/50",children:[e("div",{className:"flex items-center gap-2 mb-3 text-amber-600",children:[e(ha,{size:16})," ",e("span",{className:"font-bold text-sm",children:"AGENT (Agente IATA)"})]}),e("p",{className:"font-bold text-slate-800",children:i.agent.name}),e("p",{className:"text-sm text-slate-500",children:[e("span",{className:"font-semibold",children:"IATA:"})," ",i.agent.iataCode,i.agent.cassCode&&e("span",{className:"ml-2",children:[e("span",{className:"font-semibold",children:"CASS:"})," ",i.agent.cassCode]})]}),e("p",{className:"text-sm text-slate-500",children:i.agent.place})]})]}),e("div",{className:"bg-gradient-to-r from-purple-50 to-purple-50 border border-purple-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3 text-purple-700",children:[e(Ye,{size:16})," ",e("span",{className:"font-bold text-sm",children:"FIRMA Y EJECUCIÓN"})]}),e("div",{className:"grid grid-cols-3 gap-4",children:[e("div",{children:[e("span",{className:"text-xs text-purple-500 uppercase",children:"Firma Autorizada"}),e("p",{className:"font-bold text-lg text-purple-800",children:i.signature||"Sin firma"})]}),e("div",{children:[e("span",{className:"text-xs text-purple-500 uppercase",children:"Fecha de Ejecución"}),e("p",{className:"font-bold text-lg text-purple-800",children:i.executionDate})]}),e("div",{children:[e("span",{className:"text-xs text-purple-500 uppercase",children:"Lugar de Ejecución"}),e("p",{className:"font-bold text-lg text-purple-800",children:i.executionPlace})]})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-3",children:"DESCRIPCIÓN DE MERCANCÍA"}),e("div",{className:"grid grid-cols-3 gap-4",children:[e(U,{label:"Descripción (Backend)",value:i.description,onChange:g=>m({...i,description:g}),readOnly:I,maxLength:500,className:"col-span-2"}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Tipo de Envío"}),e("div",{className:`text-sm font-medium py-2 px-3 rounded ${i.hasHouses?"bg-amber-50 border border-amber-200 text-amber-800":"bg-slate-50 border border-slate-200 text-slate-700"}`,children:i.hasHouses?e("span",{className:"flex items-center gap-2",children:[e(Xe,{size:14}),"CONSOLIDADO (",i.houseBills.length," Hijas)"]}):e("span",{className:"flex items-center gap-2",children:[e(Le,{size:14}),"DIRECTO ",i.flights.length>1&&`(${i.flights.length} Rutas)`]})})]})]}),e("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("p",{className:"text-xs font-bold text-blue-800 flex items-center gap-1",children:[e(Re,{size:12}),"GOODS DESCRIPTION (Lo que se enviará a Traxon)"]}),e("span",{className:"text-[10px] text-blue-600",children:"Máx 25 chars/línea • Usa Enter para saltos"})]}),e("div",{className:"mb-3",children:[e("label",{className:"text-[10px] text-blue-700 font-bold mb-1 block",children:"Override Manual (deja vacío para usar automático):"}),e("textarea",{value:i.goodsDescriptionOverride||"",onChange:g=>m({...i,goodsDescriptionOverride:g.target.value||void 0}),placeholder:`Ej: FRESH CUT FLOWERS
PERISHABLE CARGO`,disabled:I,className:"w-full px-2 py-1.5 border border-blue-300 rounded text-sm font-mono bg-white focus:ring-2 focus:ring-blue-400 outline-none disabled:bg-slate-50 resize-none",rows:3,maxLength:200}),e("div",{className:"flex justify-between text-[10px] text-blue-500 mt-1",children:[e("span",{children:"Usa Enter para nueva línea (cada línea máx 25 chars)"}),e("span",{children:[(i.goodsDescriptionOverride||"").length,"/200"]})]})]}),e("div",{className:"border-t border-blue-200 pt-2",children:[e("p",{className:"text-[10px] text-blue-700 font-bold mb-1",children:"Preview Final:"}),(()=>{var D;const g=((D=i.awbNumber)==null?void 0:D.split("-")[0])||"";let C="",w="";i.goodsDescriptionOverride?(C=i.goodsDescriptionOverride.toUpperCase(),w="override"):i.hasHouses?(C=`CONSOLIDATION AS PER
ATTACHED DOCUMENTS`,w="consolidado"):["145","985"].includes(g)?(C=i.commodityCode==="0609"||i.commodityCode==="609"?"CONSOLIDATE FLOWERS":"CUT FLOWERS",w="latam"):(C=sa(i.description,150)||"FRESH CUT FLOWERS",w="auto");const y=C.split(`
`);return e("div",{className:"font-mono text-sm",children:[y.map((K,he)=>e("div",{className:"flex items-center gap-2",children:[e("span",{className:`${K.length>25?"text-red-600 bg-red-100":"text-blue-900 bg-white"} px-2 py-0.5 rounded border ${K.length>25?"border-red-300":"border-blue-200"}`,children:K||"(vacío)"}),e("span",{className:`text-[10px] ${K.length>25?"text-red-500 font-bold":"text-blue-500"}`,children:["(",K.length,"/25)",K.length>25&&" ⚠️ EXCEDE"]})]},he)),e("p",{className:"text-[10px] text-blue-600 mt-2",children:["Total: ",C.length," chars | ",y.length," líneas |",e("span",{className:`ml-1 font-bold ${w==="override"?"text-purple-600":w==="consolidado"?"text-amber-600":w==="latam"?"text-green-600":"text-blue-600"}`,children:[w==="override"&&"✏️ Override manual",w==="consolidado"&&"📦 Consolidado (fijo)",w==="latam"&&"✈️ LATAM (específico)",w==="auto"&&"🔄 Saneado automático"]})]})]})})()]})]}),i.hasHouses&&e("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e("p",{className:"text-xs text-amber-700 font-medium mb-2",children:[e(Xe,{size:12,className:"inline mr-1"}),"Este envío consolidado transmitirá: 1 Master AWB (FWB) + 1 Lista de Consolidación (CSL) + ",i.houseBills.length," House Waybills (FHL)"]}),e("div",{className:"flex flex-wrap gap-2",children:i.houseBills.map((g,C)=>e("span",{className:"text-xs bg-white px-2 py-1 rounded border border-amber-200 text-amber-800 font-mono",children:g.hawbNumber},C))})]})]}),ve&&e("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[e("div",{className:"flex items-center justify-between",children:[e("div",{children:[e("p",{className:"font-bold text-emerald-800",children:B==="cargoxml"?"📄 Cargo-XML (XFWB/XFZB)":"📟 CARGO-IMP (EDI)"}),e("p",{className:"text-sm text-emerald-600",children:B==="cargoxml"?"Formato: IATA Cargo-XML 3.0":"Formato: FWB/16, FWB/17, FHL/4"}),i.hasHouses&&e("p",{className:"text-xs text-purple-500 mt-1",children:["Consolidado: Master + ",i.houseBills.length," House(s)"]}),!i.hasHouses&&i.flights.length>1&&e("p",{className:"text-xs text-purple-500 mt-1",children:["Directo con ",i.flights.length," rutas"]})]}),e("div",{className:"flex items-center gap-3",children:[e("div",{className:"flex flex-col items-end",children:[e("label",{className:"text-[10px] text-blue-600 uppercase font-bold mb-1",children:"Formato"}),e("select",{value:B,onChange:g=>{const C=g.target.value;X(C),c(C==="cargoxml"?"xml":"json")},className:"text-sm border border-blue-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white font-medium",children:[e("option",{value:"cargoxml",children:"Cargo-XML"}),e("option",{value:"edi",children:"EDI (CARGO-IMP)"})]})]}),i.hasHouses&&e("div",{className:"flex flex-col items-end",children:[e("label",{className:"text-[10px] text-purple-600 uppercase font-bold mb-1",children:"Contenido"}),e("select",{value:E,onChange:g=>O(g.target.value),className:"text-sm border border-purple-300 rounded px-3 py-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white",children:[e("option",{value:"masterAndHouses",children:B==="cargoxml"?`XFWB + ${i.houseBills.length} XFZB`:`FWB + ${i.houseBills.length} FHL`}),e("option",{value:"masterOnly",children:B==="cargoxml"?"Solo XFWB (Master)":"Solo FWB (Master)"})]})]}),W&&e("button",{onClick:pe,disabled:B==="cargoxml"?!((mr=oe==null?void 0:oe.xfwb)!=null&&mr.xmlContent):!(G!=null&&G.fullMessage)||q,className:"bg-emerald-600 hover:bg-emerald-700 disabled:bg-slate-400 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-bold transition-all shadow-lg hover:shadow-xl",children:q?e(ie,{children:[e(Io,{size:18,className:"animate-spin"})," Transmitiendo..."]}):R?e(ie,{children:[e(Oe,{size:18})," ¡Transmitido!"]}):e(ie,{children:[e(Oo,{size:18})," Transmitir a Descartes"]})})]})]}),f&&e("div",{className:`mt-4 p-4 rounded-lg border-2 shadow-lg ${f.allSuccess?"bg-gradient-to-r from-green-100 to-emerald-100 border-green-400 animate-pulse":"bg-gradient-to-r from-red-100 to-orange-100 border-red-400 animate-pulse"}`,style:{animationDuration:"2s"},children:[e("div",{className:"flex items-center gap-2 mb-2",children:[f.allSuccess?e(Oe,{size:24,className:"text-green-600 animate-bounce"}):e(fe,{size:24,className:"text-red-600 animate-bounce"}),e("span",{className:`font-bold text-lg ${f.allSuccess?"text-green-700":"text-red-700"}`,children:f.transmissionResult?f.allSuccess?"✅ TRANSMITIDO":"❌ ERROR TRANSMISIÓN":f.allSuccess?"✅ EDI COPIADO":"❌ ERROR"})]}),e("div",{className:`text-base font-bold py-2 px-3 rounded-lg mb-3 ${f.allSuccess?"bg-green-200/70 text-green-800 border border-green-300":"bg-red-200/70 text-red-800 border border-red-300"}`,children:["📊 ",f.summary]}),f.transmissionResult&&e("div",{className:"mt-2 text-xs bg-white/70 p-3 rounded border border-slate-200 space-y-2",children:[e("div",{className:"p-2 rounded bg-slate-50 border border-slate-200",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:`text-lg ${f.transmissionResult.fwbResult.success?"text-green-600":"text-red-600"}`,children:f.transmissionResult.fwbResult.success?"✓":"✗"}),e("strong",{className:"text-sm",children:["FWB (",f.transmissionResult.fwbResult.reference,")"]})]}),f.transmissionResult.fwbResult.descartesResponse&&e("div",{className:"ml-6 text-xs space-y-0.5",children:[f.transmissionResult.fwbResult.descartesResponse.tid&&e("p",{children:[e("span",{className:"text-slate-500",children:"TID:"})," ",e("span",{className:"font-mono text-blue-700",children:f.transmissionResult.fwbResult.descartesResponse.tid})]}),f.transmissionResult.fwbResult.descartesResponse.status&&e("p",{children:[e("span",{className:"text-slate-500",children:"Status:"})," ",e("span",{className:"text-green-700 font-medium",children:f.transmissionResult.fwbResult.descartesResponse.status})]}),f.transmissionResult.fwbResult.descartesResponse.bytesReceived&&e("p",{children:[e("span",{className:"text-slate-500",children:"Bytes:"})," ",f.transmissionResult.fwbResult.descartesResponse.bytesReceived]}),f.transmissionResult.fwbResult.descartesResponse.error&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Error:"})," ",f.transmissionResult.fwbResult.descartesResponse.error]}),f.transmissionResult.fwbResult.descartesResponse.errorDetail&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Detalle:"})," ",f.transmissionResult.fwbResult.descartesResponse.errorDetail]})]}),f.transmissionResult.fwbResult.error&&!f.transmissionResult.fwbResult.descartesResponse&&e("p",{className:"ml-6 text-red-600",children:f.transmissionResult.fwbResult.error})]}),f.transmissionResult.fhlResults.map((g,C)=>e("div",{className:"p-2 rounded bg-slate-50 border border-slate-200",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:`text-lg ${g.success?"text-green-600":"text-red-600"}`,children:g.success?"✓":"✗"}),e("strong",{className:"text-sm",children:["FHL (",g.reference,")"]})]}),g.descartesResponse&&e("div",{className:"ml-6 text-xs space-y-0.5",children:[g.descartesResponse.tid&&e("p",{children:[e("span",{className:"text-slate-500",children:"TID:"})," ",e("span",{className:"font-mono text-blue-700",children:g.descartesResponse.tid})]}),g.descartesResponse.status&&e("p",{children:[e("span",{className:"text-slate-500",children:"Status:"})," ",e("span",{className:"text-green-700 font-medium",children:g.descartesResponse.status})]}),g.descartesResponse.error&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Error:"})," ",g.descartesResponse.error]}),g.descartesResponse.errorDetail&&e("p",{className:"text-red-600",children:[e("span",{className:"text-slate-500",children:"Detalle:"})," ",g.descartesResponse.errorDetail]})]}),g.error&&!g.descartesResponse&&e("p",{className:"ml-6 text-red-600",children:g.error})]},C)),e("div",{className:"pt-2 border-t border-slate-300 flex items-center justify-between",children:[e("span",{className:"text-slate-600",children:["📈 Total: ",e("strong",{children:[f.transmissionResult.totalSuccess,"/",f.transmissionResult.totalSent]})," exitosos"]}),f.transmissionResult.totalFailed>0&&e("span",{className:"text-red-600 font-medium",children:["⚠️ ",f.transmissionResult.totalFailed," fallidos"]})]})]}),!f.transmissionResult&&f.fwbMessage&&e("div",{className:"mt-2 text-xs font-mono bg-white/70 p-2 rounded border border-slate-200",children:e("p",{children:[e("strong",{children:"FWB:"})," Mensaje generado correctamente"]})}),!f.transmissionResult&&f.fhlMessages&&f.fhlMessages.length>0&&e("div",{className:"mt-1 text-xs font-mono bg-white/70 p-2 rounded border border-slate-200",children:e("p",{className:"font-bold mb-1",children:[e("strong",{children:"FHL:"})," ",f.fhlMessages.length," mensaje(s) FHL generado(s)"]})})]})]})]}),l==="parties"&&e("div",{className:"space-y-4",children:[e("div",{className:"grid grid-cols-2 gap-4",children:[e(ka,{title:"SHIPPER (Exportador)",icon:e($r,{size:16}),party:i.shipper,onUpdate:g=>m({...i,shipper:g}),readOnly:I}),e(ka,{title:"CONSIGNEE (Importador)",icon:e(cr,{size:16}),party:i.consignee,onUpdate:g=>m({...i,consignee:g}),readOnly:I})]}),e(ln,{agent:i.agent,onUpdate:g=>m({...i,agent:g}),readOnly:I}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-3 flex items-center gap-2",children:[e(Ye,{size:14})," FIRMA Y EJECUCIÓN DEL TRANSPORTISTA"]}),e("div",{className:"grid grid-cols-3 gap-4",children:[e(U,{label:"Firma Autorizada",value:i.signature,onChange:g=>m({...i,signature:g}),readOnly:I,maxLength:20,required:!0}),e(U,{label:"Fecha de Ejecución",value:i.executionDate,onChange:g=>m({...i,executionDate:g}),readOnly:I,type:"date",required:!0}),e(U,{label:"Lugar de Ejecución",value:i.executionPlace,onChange:g=>m({...i,executionPlace:g}),readOnly:I,maxLength:17,required:!0})]})]})]}),l==="cargo"&&e("div",{className:"space-y-4",children:[e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"DATOS PRINCIPALES AWB"}),e("div",{className:"grid grid-cols-5 gap-3",children:[e(U,{label:"AWB Number *",value:i.awbNumber,onChange:g=>m({...i,awbNumber:g}),readOnly:I,maxLength:12,required:!0}),e(U,{label:"Origen (IATA) *",value:i.origin,onChange:g=>m({...i,origin:g}),readOnly:I,maxLength:3,required:!0}),e(U,{label:"Destino (IATA) *",value:i.destination,onChange:g=>m({...i,destination:g}),readOnly:I,maxLength:3,required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Pago *"}),e("select",{value:i.paymentMethod,onChange:g=>m({...i,paymentMethod:g.target.value}),disabled:I,className:"text-sm border border-slate-300 rounded px-2 py-1.5 focus:ring-2 focus:ring-purple-500 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"Prepaid",children:"Prepaid"}),e("option",{value:"Collect",children:"Collect"})]})]}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Servicio"}),e("select",{value:i.serviceCode||"",onChange:g=>m({...i,serviceCode:g.target.value}),disabled:I,className:"text-sm border border-slate-200 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"",children:"--"}),e("option",{value:"AIRPORT_TO_AIRPORT",children:"A-A"}),e("option",{value:"DOOR_TO_DOOR_SERVICE",children:"D-D"}),e("option",{value:"AIRPORT_TO_DOOR",children:"A-D"}),e("option",{value:"DOOR_TO_AIRPORT",children:"D-A"})]})]})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"PESO Y VOLUMEN"}),e("div",{className:"grid grid-cols-6 gap-3",children:[e(U,{label:"Piezas *",value:i.pieces,onChange:g=>m({...i,pieces:parseInt(g)||0}),readOnly:I,type:"number",required:!0}),e(U,{label:"Peso Total *",value:i.weight,onChange:g=>m({...i,weight:parseFloat(g)||0}),readOnly:I,type:"number",required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Unidad"}),e("select",{value:i.weightUnit,onChange:g=>m({...i,weightUnit:g.target.value}),disabled:I,className:"text-sm border border-slate-200 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"KILOGRAM",children:"KG"}),e("option",{value:"POUND",children:"LB"})]})]}),e(U,{label:"Volumen",value:i.volume,onChange:g=>m({...i,volume:parseFloat(g)||0}),readOnly:I,type:"number"}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Vol Unit"}),e("select",{value:i.volumeUnit||"CUBIC_METRE",onChange:g=>m({...i,volumeUnit:g.target.value}),disabled:I,className:"text-sm border border-slate-200 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"CUBIC_METRE",children:"m³"}),e("option",{value:"CUBIC_CENTIMETRE",children:"cm³"}),e("option",{value:"CUBIC_FOOT",children:"ft³"})]})]}),e(U,{label:"SLAC",value:i.slac||"",onChange:g=>m({...i,slac:parseInt(g)||0}),readOnly:I,type:"number"})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2 flex items-center gap-2",children:[e(lr,{size:14})," VUELOS / ROUTING"]}),i.flights.length===0?e("p",{className:"text-slate-500 italic text-sm",children:"Sin vuelos asignados"}):e("div",{className:"space-y-2",children:i.flights.map((g,C)=>e("div",{className:"grid grid-cols-4 gap-3 bg-slate-50 p-2 rounded-lg",children:[e(U,{label:"Vuelo",value:g.flightNumber,onChange:w=>{const y=[...i.flights];y[C]={...g,flightNumber:w},m({...i,flights:y})},readOnly:I}),e(U,{label:"Fecha",value:g.date,onChange:w=>{const y=[...i.flights];y[C]={...g,date:w},m({...i,flights:y})},readOnly:I,type:"date"}),e(U,{label:"Origen",value:g.origin,readOnly:!0}),e(U,{label:"Destino",value:g.destination,readOnly:!0})]},C))})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"DESCRIPCIÓN DE MERCANCÍA"}),e("div",{className:"grid grid-cols-2 gap-3",children:[e(U,{label:"Descripción *",value:i.description,onChange:g=>m({...i,description:g}),readOnly:I,maxLength:500,required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"SPH Codes"}),e("div",{className:"text-sm bg-slate-50 px-2 py-1.5 rounded border border-slate-200 min-h-[32px] flex flex-wrap gap-1",children:i.specialHandlingCodes&&i.specialHandlingCodes.length>0?i.specialHandlingCodes.map(g=>e("span",{className:"bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded text-xs",children:g},g)):e("span",{className:"text-slate-400 text-xs",children:"Ninguno"})})]})]})]})]}),l==="financials"&&e("div",{className:"space-y-4",children:[e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("h3",{className:"font-bold text-sm text-slate-700 mb-2",children:"CHARGE DECLARATIONS"}),e("div",{className:"grid grid-cols-4 gap-3",children:[e(U,{label:"Moneda (ISO) *",value:i.currency,onChange:g=>m({...i,currency:g}),readOnly:I,maxLength:3,required:!0}),e("div",{className:"flex flex-col",children:[e("label",{className:"text-[10px] text-slate-500 uppercase font-bold mb-1",children:"Pago Weight *"}),e("select",{value:i.paymentMethod,onChange:g=>m({...i,paymentMethod:g.target.value}),disabled:I,className:"text-sm border border-slate-300 rounded px-2 py-1.5 outline-none bg-white disabled:bg-slate-50 h-[34px]",children:[e("option",{value:"Prepaid",children:"Prepaid"}),e("option",{value:"Collect",children:"Collect"})]})]}),e(U,{label:"Valor Declarado Carga",value:i.declaredValueCarriage||"",onChange:g=>m({...i,declaredValueCarriage:g}),readOnly:I}),e(U,{label:"Valor Declarado Aduana",value:i.declaredValueCustoms||"",onChange:g=>m({...i,declaredValueCustoms:g}),readOnly:I})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("h3",{className:"font-bold text-sm text-slate-700",children:"RATE CHARGES"}),!I&&e("button",{onClick:()=>m({...i,rates:[...i.rates,{pieces:0,weight:0,rateClassCode:"QUANTITY_RATE",rateOrCharge:0,total:0,description:""}]}),className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded hover:bg-purple-200",children:"+ Añadir Rate"})]}),e("table",{className:"w-full text-xs",children:[e("thead",{className:"bg-slate-100",children:e("tr",{children:[e("th",{className:"text-left p-1.5 w-16",children:"Pzas"}),e("th",{className:"text-left p-1.5 w-20",children:"Peso"}),e("th",{className:"text-left p-1.5 w-24",children:"P.Cobr"}),e("th",{className:"text-left p-1.5 w-28",children:"Clase"}),e("th",{className:"text-left p-1.5 w-20",children:"Tarifa"}),e("th",{className:"text-left p-1.5 w-32",children:"Desc. Merc."}),e("th",{className:"text-right p-1.5 w-24",children:"Total"}),!I&&e("th",{className:"w-8"})]})}),e("tbody",{children:i.rates.map((g,C)=>e("tr",{className:"border-b",children:[e("td",{className:"p-1",children:e("input",{type:"number",value:g.pieces,onChange:w=>{const y=[...i.rates];y[C]={...g,pieces:parseInt(w.target.value)||0},m({...i,rates:y})},disabled:I,className:"w-full px-1 py-0.5 border border-slate-200 rounded text-xs disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("input",{type:"number",value:g.weight,onChange:w=>{const y=[...i.rates],D=parseFloat(w.target.value)||0;y[C]={...g,weight:D,total:D*(g.rateOrCharge||0)},m({...i,rates:y})},disabled:I,className:"w-full px-1 py-0.5 border border-slate-200 rounded text-xs disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("input",{type:"number",value:g.chargeableWeight||g.weight,onChange:w=>{const y=[...i.rates];y[C]={...g,chargeableWeight:parseFloat(w.target.value)||0},m({...i,rates:y})},disabled:I,className:"w-full px-1 py-0.5 border border-purple-200 rounded text-xs font-semibold text-purple-700 disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("select",{value:g.rateClassCode,onChange:w=>{const y=[...i.rates];y[C]={...g,rateClassCode:w.target.value},m({...i,rates:y})},disabled:I,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50",children:[e("option",{value:"QUANTITY_RATE",children:"Q-Cantidad"}),e("option",{value:"MINIMUM_CHARGE",children:"M-Mínimo"}),e("option",{value:"NORMAL_RATE",children:"N-Normal"}),e("option",{value:"SPECIFIC_COMMODITY_RATE",children:"C-SCR"}),e("option",{value:"BASIC_CHARGE",children:"B-Básico"})]})}),e("td",{className:"p-1",children:e("input",{type:"number",step:"0.01",value:g.rateOrCharge,onChange:w=>{const y=[...i.rates],D=parseFloat(w.target.value)||0,K=g.chargeableWeight||g.weight;y[C]={...g,rateOrCharge:D,total:K*D},m({...i,rates:y})},disabled:I,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50"})}),e("td",{className:"p-1",children:e("input",{type:"text",value:g.goodsDescriptionOverride||"",placeholder:"Auto",onChange:w=>{const y=[...i.rates];y[C]={...g,goodsDescriptionOverride:w.target.value||void 0},m({...i,rates:y})},disabled:I,className:"w-full px-1 py-0.5 border border-amber-200 rounded text-xs disabled:bg-slate-50 placeholder:text-slate-400",title:"Descripción de mercancía (ej: CONSOLIDATE FLOWERS). Deja vacío para usar valor automático."})}),e("td",{className:"p-1 text-right font-bold",children:[i.currency," ",g.total.toFixed(2)]}),!I&&e("td",{className:"p-1",children:e("button",{onClick:()=>{const w=i.rates.filter((y,D)=>D!==C);m({...i,rates:w})},className:"text-red-500 hover:text-red-700",children:e(Me,{size:14})})})]},C))}),e("tfoot",{className:"bg-purple-50",children:e("tr",{children:[e("td",{colSpan:6,className:"p-1.5 text-right font-bold text-xs",children:"Total Weight:"}),e("td",{className:"p-1.5 text-right font-bold text-purple-700",children:[i.currency," ",Te.toFixed(2)]}),!I&&e("td",{})]})})]}),e("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e("div",{className:"flex items-center justify-between mb-2",children:e("p",{className:"text-xs font-bold text-blue-800 flex items-center gap-1",children:[e(Re,{size:12}),"GOODS DESCRIPTION - Preview por Rate (máx 25 chars/línea)"]})}),e("div",{className:"space-y-2",children:i.rates.map((g,C)=>{var ur;const w=((ur=i.awbNumber)==null?void 0:ur.split("-")[0])||"";let y="",D="";g.goodsDescriptionOverride?(y=g.goodsDescriptionOverride.toUpperCase(),D="override-rate"):i.goodsDescriptionOverride?(y=i.goodsDescriptionOverride.toUpperCase(),D="override-master"):i.hasHouses?(y=`CONSOLIDATION AS PER
ATTACHED DOCUMENTS`,D="consolidado"):["145","985"].includes(w)?(y=i.commodityCode==="0609"||i.commodityCode==="609"?"CONSOLIDATE FLOWERS":"CUT FLOWERS",D="latam"):(y=sa(g.description||i.description,150)||"FRESH CUT FLOWERS",D="auto");const K=y.split(`
`),he=K.some(be=>be.length>25);return e("div",{className:`p-2 rounded border ${he?"bg-red-50 border-red-200":"bg-white border-blue-100"}`,children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"text-[10px] font-bold text-slate-600",children:["Rate #",C+1]}),e("span",{className:`text-[10px] px-1 rounded ${D==="override-rate"?"bg-purple-100 text-purple-700":D==="override-master"?"bg-indigo-100 text-indigo-700":D==="consolidado"?"bg-amber-100 text-amber-700":D==="latam"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:[D==="override-rate"&&"✏️ Override Rate",D==="override-master"&&"✏️ Override Master",D==="consolidado"&&"📦 Consolidado",D==="latam"&&"✈️ LATAM",D==="auto"&&"🔄 Auto"]})]}),e("div",{className:"font-mono text-xs space-y-0.5",children:K.map((be,Pe)=>e("div",{className:"flex items-center gap-1",children:[e("span",{className:`px-1 rounded ${be.length>25?"bg-red-200 text-red-800":"bg-slate-100"}`,children:be||"(vacío)"}),e("span",{className:`text-[9px] ${be.length>25?"text-red-600 font-bold":"text-slate-400"}`,children:[be.length,"/25 ",be.length>25&&"⚠️"]})]},Pe))})]},C)})}),e("p",{className:"text-[10px] text-blue-600 mt-2",children:'💡 Para editar: escribe en "Desc. Merc." de cada rate, o usa el Override Master arriba en "Descripción de Mercancía"'})]})]}),e("div",{className:"bg-white border border-slate-200 rounded-lg p-3",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("h3",{className:"font-bold text-sm text-slate-700",children:"OTHER CHARGES"}),!I&&e("button",{onClick:()=>m({...i,otherCharges:[...i.otherCharges,{code:"AW",entitlement:"DueCarrier",paymentMethod:"Prepaid",amount:0}]}),className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded hover:bg-amber-200",children:"+ Añadir Cargo"})]}),e("table",{className:"w-full text-xs",children:[e("thead",{className:"bg-slate-100",children:e("tr",{children:[e("th",{className:"text-left p-1.5 w-24",children:"Código"}),e("th",{className:"text-left p-1.5 w-24",children:"Entitlement"}),e("th",{className:"text-left p-1.5 w-24",children:"Pago"}),e("th",{className:"text-right p-1.5 w-28",children:"Monto"}),!I&&e("th",{className:"w-8"})]})}),e("tbody",{children:i.otherCharges.map((g,C)=>e("tr",{className:"border-b",children:[e("td",{className:"p-1",children:e("select",{value:g.code,onChange:w=>{const y=[...i.otherCharges];y[C]={...g,code:w.target.value},m({...i,otherCharges:y})},disabled:I,className:"w-full px-1 py-0.5 border rounded text-xs font-mono disabled:bg-slate-50",children:[e("option",{value:"AW",children:"AW-AWB Fee"}),e("option",{value:"FC",children:"FC-Fuel"}),e("option",{value:"SC",children:"SC-Security"}),e("option",{value:"MY",children:"MY-Customs"}),e("option",{value:"TX",children:"TX-Taxes"}),e("option",{value:"RA",children:"RA-DGR"}),e("option",{value:"CC",children:"CC-Collect Fee"}),e("option",{value:"IN",children:"IN-Insurance"})]})}),e("td",{className:"p-1",children:e("select",{value:g.entitlement,onChange:w=>{const y=[...i.otherCharges];y[C]={...g,entitlement:w.target.value},m({...i,otherCharges:y})},disabled:I,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50",children:[e("option",{value:"DueCarrier",children:"Carrier"}),e("option",{value:"DueAgent",children:"Agent"})]})}),e("td",{className:"p-1",children:e("select",{value:g.paymentMethod,onChange:w=>{const y=[...i.otherCharges];y[C]={...g,paymentMethod:w.target.value},m({...i,otherCharges:y})},disabled:I,className:"w-full px-1 py-0.5 border rounded text-xs disabled:bg-slate-50",children:[e("option",{value:"Prepaid",children:"Prepaid"}),e("option",{value:"Collect",children:"Collect"})]})}),e("td",{className:"p-1",children:e("input",{type:"number",step:"0.01",value:g.amount,onChange:w=>{const y=[...i.otherCharges];y[C]={...g,amount:parseFloat(w.target.value)||0},m({...i,otherCharges:y})},disabled:I,className:"w-full px-1 py-0.5 border rounded text-xs text-right disabled:bg-slate-50"})}),!I&&e("td",{className:"p-1",children:e("button",{onClick:()=>{const w=i.otherCharges.filter((y,D)=>D!==C);m({...i,otherCharges:w})},className:"text-red-500 hover:text-red-700",children:e(Me,{size:14})})})]},C))}),e("tfoot",{className:"bg-amber-50",children:e("tr",{children:[e("td",{colSpan:3,className:"p-1.5 text-right font-bold text-xs",children:"Total Other:"}),e("td",{className:"p-1.5 text-right font-bold text-amber-700",children:[i.currency," ",re.toFixed(2)]}),!I&&e("td",{})]})})]})]}),e("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-3",children:e("div",{className:"flex justify-between items-center",children:[e("span",{className:"font-bold text-green-800",children:"GRAND TOTAL"}),e("span",{className:"font-bold text-green-800 text-xl",children:[i.currency," ",ce.toFixed(2)]})]})})]}),l==="security"&&e("div",{className:"space-y-6",children:[e("div",{className:"bg-gradient-to-br from-purple-50 to-purple-50 border border-purple-200 rounded-lg p-4",children:[e("div",{className:"flex items-center justify-between mb-3",children:[e("div",{className:"flex items-center gap-2",children:[e(xa,{size:18,className:"text-purple-600"}),e("h3",{className:"font-bold text-purple-800",children:"Special Handling Codes (SPH)"})]}),e("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:["Default: ",st(it(i.awbNumber)).join(", ")]})]}),e("div",{className:"flex flex-wrap gap-2 mb-3",children:(i.specialHandlingCodes&&i.specialHandlingCodes.length>0?i.specialHandlingCodes:st(it(i.awbNumber))).map((g,C)=>{var w,y;return e("span",{className:"inline-flex items-center gap-1 bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:[g,((w=Dr[g])==null?void 0:w.description)&&e("span",{className:"text-purple-200 text-xs",children:["(",(y=Dr[g])==null?void 0:y.description,")"]}),!I&&e("button",{onClick:()=>{const D=i.specialHandlingCodes||[];m({...i,specialHandlingCodes:D.filter(K=>K!==g)})},className:"ml-1 hover:bg-purple-700 rounded-full p-0.5",children:e(Me,{size:12})})]},C)})}),!I&&e("div",{className:"border-t border-purple-200 pt-3",children:[e("p",{className:"text-xs text-purple-600 mb-2 font-medium",children:"Agregar código adicional:"}),e("div",{className:"flex flex-wrap gap-2",children:Object.entries(Dr).map(([g,C])=>{const w=i.specialHandlingCodes||st(it(i.awbNumber)),y=w.includes(g);return e("button",{onClick:()=>{m(y?{...i,specialHandlingCodes:w.filter(D=>D!==g)}:{...i,specialHandlingCodes:[...w,g]})},className:`px-2 py-1 rounded text-xs font-medium transition-all ${y?"bg-purple-600 text-white":"bg-white border border-purple-300 text-purple-700 hover:bg-purple-100"}`,title:C.description,children:g},g)})})]}),e("p",{className:"text-xs text-purple-500 mt-3 italic",children:"💡 Si no envías SPH desde tu backend, se usarán los valores por defecto según la aerolínea."})]}),e("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border border-amber-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3",children:[e(Re,{size:18,className:"text-amber-600"}),e("h3",{className:"font-bold text-amber-800",children:"Special Service Request (SSR)"}),e("span",{className:"text-xs bg-amber-100 text-amber-600 px-2 py-0.5 rounded ml-auto",children:"Opcional"})]}),e("textarea",{value:i.specialServiceRequest||"",onChange:g=>m({...i,specialServiceRequest:g.target.value||void 0}),disabled:I,placeholder:"Ej: MUST BE KEPT ABOVE 5 DEGREES CELSIUS. / EN CLOSE POUCH WITH EXPORT DOCUMENTS",className:"w-full px-3 py-2 border border-amber-200 rounded-lg text-sm resize-none h-20 focus:ring-2 focus:ring-amber-300 outline-none disabled:bg-slate-50"}),e("p",{className:"text-xs text-amber-600 mt-2 italic",children:"💡 Instrucciones especiales de servicio que se envían a la aerolínea. Deja vacío si no se requiere."})]}),e("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-4",children:[e("div",{className:"flex items-center gap-2 mb-3",children:[e(sr,{size:18,className:"text-amber-600"}),e("h3",{className:"font-bold text-amber-800",children:"OCI / Información de Seguridad y Aduanas"})]}),e("div",{className:"bg-white/70 rounded-lg p-3 border border-amber-200",children:[e("p",{className:"text-amber-700 text-sm mb-2 font-bold flex items-center gap-1",children:[e(Ur,{size:14})," Vista previa del OCI que se enviará:"]}),e("div",{className:"space-y-1 text-xs font-mono",children:[(V.includeConsigneeTIN??!0)&&((Ue=i.consignee)==null?void 0:Ue.taxId)&&e("div",{className:"bg-green-100 text-green-800 p-2 rounded flex items-center gap-2",children:[e(Oe,{size:12,className:"text-green-600"}),e("span",{children:[e("strong",{children:[((we=(Er=i.consignee)==null?void 0:Er.address)==null?void 0:we.countryCode)||"US","/AGT/T/"]}),i.consignee.taxId]}),e("span",{className:"text-green-600 text-[10px] ml-auto",children:"← NIT Importer"})]}),(V.includeConsigneeTIN??!0)&&!((Ia=i.consignee)!=null&&Ia.taxId)&&e("div",{className:"bg-slate-100 text-slate-500 p-2 rounded flex items-center gap-2 italic",children:[e(fe,{size:12,className:"text-slate-400"}),e("span",{children:"Importer sin taxId - No se enviará OCI de TIN"})]}),V.includeShipperTIN&&((Fa=i.shipper)==null?void 0:Fa.taxId)&&e("div",{className:"bg-purple-100 text-purple-800 p-2 rounded flex items-center gap-2",children:[e(Oe,{size:12,className:"text-purple-600"}),e("span",{children:[e("strong",{children:[((Ra=(Oa=i.shipper)==null?void 0:Oa.address)==null?void 0:Ra.countryCode)||"CO","/AGT/T/"]}),i.shipper.taxId]}),e("span",{className:"text-purple-600 text-[10px] ml-auto",children:"← NIT Shipper"})]}),((La=V.securityOci)==null?void 0:La.enabled)&&e(ie,{children:[V.securityOci.regulatedAgentNumber&&e("div",{className:"bg-amber-100 text-amber-800 p-2 rounded flex items-center gap-2",children:[e("span",{children:[e("strong",{children:"CO/AGT/RA/"}),V.securityOci.regulatedAgentNumber]}),e("span",{className:"text-amber-600 text-[10px] ml-auto",children:"← Agente Regulado"})]}),V.securityOci.expiryDate&&e("div",{className:"bg-orange-100 text-orange-800 p-2 rounded",children:[e("strong",{children:"ED/"}),V.securityOci.expiryDate]}),V.securityOci.screeningMethod&&e("div",{className:"bg-blue-100 text-blue-800 p-2 rounded",children:[e("strong",{children:"SM/"}),V.securityOci.screeningMethod]}),V.securityOci.screeningDate&&e("div",{className:"bg-cyan-100 text-cyan-800 p-2 rounded",children:[e("strong",{children:"SD/"}),V.securityOci.screeningDate]}),V.securityOci.screenerName&&e("div",{className:"bg-pink-100 text-pink-800 p-2 rounded",children:[e("strong",{children:"SN/"}),V.securityOci.screenerName]})]}),!(V.includeConsigneeTIN??!0)&&!V.includeShipperTIN&&!((Da=V.securityOci)!=null&&Da.enabled)&&e("div",{className:"bg-slate-100 text-slate-500 p-2 rounded italic",children:"No hay OCI configurados. Activa opciones en el panel de Configuración."})]}),e("p",{className:"text-amber-500 text-[10px] mt-2 italic",children:["💡 Para modificar estos valores, ve al panel de ",e("strong",{children:"Configuración"})," (⚙️)"]})]})]})]}),l==="houses"&&e("div",{className:"space-y-2",children:[e("div",{className:"flex items-center justify-between mb-3 sticky top-0 bg-slate-50/95 backdrop-blur-sm py-2 -mt-2 -mx-2 px-2 z-10 border-b border-slate-200",children:[e("div",{className:"flex items-center gap-3",children:[e("h3",{className:"font-bold text-slate-700 text-sm",children:"House Waybills"}),e("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${i.hasHouses?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-500"}`,children:i.hasHouses?`${i.houseBills.length} houses`:"Directo"})]}),i.hasHouses&&i.houseBills.length>0&&e("div",{className:"flex items-center gap-2",children:[e("button",{onClick:()=>xe(new Set(i.houseBills.map((g,C)=>C))),className:"text-[10px] text-purple-600 hover:text-purple-800 px-2 py-1 rounded hover:bg-purple-50",children:"Expandir todo"}),e("button",{onClick:()=>xe(new Set),className:"text-[10px] text-slate-500 hover:text-slate-700 px-2 py-1 rounded hover:bg-slate-100",children:"Colapsar todo"})]})]}),i.hasHouses?e("div",{className:"space-y-1.5 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:i.houseBills.map((g,C)=>e(Aa,{house:g,index:C,isExpanded:ke.has(C),onToggle:Qe,onUpdate:Je,masterOrigin:i.origin,masterDestination:i.destination,isReadOnly:I},g.id||C))}):e("div",{className:"text-center py-8 text-slate-400",children:[e(Le,{size:32,className:"mx-auto mb-2 opacity-50"}),e("p",{className:"text-sm",children:"Envío directo - No tiene house waybills"})]}),i.hasHouses&&i.houseBills.length>0&&e("div",{className:"mt-3 pt-2 border-t border-slate-200 flex items-center justify-between text-xs text-slate-500",children:[e("span",{children:["Total: ",i.houseBills.reduce((g,C)=>g+C.pieces,0)," piezas, ",i.houseBills.reduce((g,C)=>g+C.weight,0).toFixed(2)," kg"]}),e("span",{className:"text-amber-600 font-medium",children:[ke.size," de ",i.houseBills.length," expandidos"]})]})]}),l==="json"&&e("div",{className:"h-full flex flex-col",children:[e("div",{className:"flex items-center justify-between mb-4",children:[e("div",{className:"bg-slate-100 p-1 rounded-lg inline-flex items-center shadow-inner",children:[e("button",{onClick:()=>p("fwb"),className:`px-6 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center gap-2 ${d==="fwb"?"bg-white text-emerald-700 shadow-sm ring-1 ring-black/5 transform scale-105":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[e(Tr,{size:14}),"FWB/",((Pa=G==null?void 0:G.messageVersion)==null?void 0:Pa.split("/")[1])||"16"]}),i.hasHouses&&e("button",{onClick:()=>p("fhl"),className:`px-6 py-2 rounded-md text-sm font-bold transition-all duration-200 flex items-center gap-2 ${d==="fhl"?"bg-white text-emerald-700 shadow-sm ring-1 ring-black/5 transform scale-105":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}`,children:[e(Xe,{size:14}),"FHL/4 (Houses)"]})]}),e("div",{className:"flex gap-2",children:e("button",{onClick:()=>{Ce(d==="fwb"?(G==null?void 0:G.fullMessage)||"":rr||"")},className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",children:[x?e(dt,{size:14,className:"text-green-600"}):e(ir,{size:14}),x?"Copiado!":"Copiar EDI"]})})]}),tr&&e("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-center gap-2 text-red-700",children:[e(fe,{size:16})," Error generando EDI: ",tr]}),e("div",{className:"mb-4 p-3 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-lg",children:[e("div",{className:"flex items-center gap-2 mb-2",children:[e(Tr,{size:16,className:"text-emerald-600"}),e("span",{className:"font-bold text-emerald-800",children:"Vista EDI - IATA CARGO-IMP"}),e("span",{className:"text-xs bg-emerald-100 text-emerald-600 px-2 py-0.5 rounded",children:(G==null?void 0:G.messageVersion)||"FWB/16"})]}),e("p",{className:"text-xs text-emerald-600",children:"Formato EDI legado IATA Cargo Interchange Message Procedures. Cada segmento se visualiza como una tarjeta editable con límites de caracteres."})]}),Q&&e("div",{className:`mb-4 p-3 rounded-lg border ${Q.isDefault?"bg-amber-50 border-amber-300":Q.source==="custom"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[e("div",{className:"flex items-center justify-between mb-2",children:e("div",{className:"flex items-center gap-2",children:[e(lr,{size:14,className:Q.isDefault?"text-amber-600":"text-blue-600"}),e("span",{className:`font-bold text-sm ${Q.isDefault?"text-amber-800":"text-blue-800"}`,children:Q.airlineName}),e("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${Q.source==="custom"?"bg-purple-200 text-purple-700":Q.source==="configured"?"bg-blue-200 text-blue-700":"bg-amber-200 text-amber-700"}`,children:Q.source==="custom"?"✏️ Personalizada":Q.source==="configured"?"✓ Pre-configurada":"⚠️ DEFAULT"})]})}),e("div",{className:"flex flex-wrap gap-2 mb-2",children:[e("span",{className:"text-[10px] bg-white px-1.5 py-0.5 rounded border border-slate-200",children:[e("strong",{children:"FWB:"})," ",Q.policy.fwbVersion]}),e("span",{className:"text-[10px] bg-white px-1.5 py-0.5 rounded border border-slate-200",children:[e("strong",{children:"FHL:"})," ",Q.policy.fhlVersion]}),Q.policy.includeUNB_UNZ&&e("span",{className:"text-[10px] bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded",children:"UNB/UNZ"}),Q.policy.ociWithEori&&e("span",{className:"text-[10px] bg-violet-100 text-violet-700 px-1.5 py-0.5 rounded",children:"EORI"}),Q.policy.sphCodes&&Q.policy.sphCodes.length>0&&e("span",{className:"text-[10px] bg-rose-100 text-rose-700 px-1.5 py-0.5 rounded",children:["SPH: ",Q.policy.sphCodes.join(", ")]})]}),Q.warnings.length>0&&e("div",{className:"mt-2 space-y-1",children:Q.warnings.map((g,C)=>e("p",{className:"text-xs text-amber-700",children:g},C))}),Q.isDefault&&e("button",{onClick:()=>le(!0),className:"mt-2 text-xs text-amber-700 underline hover:text-amber-900 flex items-center gap-1",children:[e(ht,{size:12})," Configurar política para aerolínea ",(Ha=i==null?void 0:i.awbNumber)==null?void 0:Ha.split("-")[0]]})]}),tr&&e("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-center gap-2 text-red-700",children:[e(fe,{size:16})," Error generando EDI: ",tr]}),e("div",{className:"flex-1 overflow-y-auto",children:[d==="fwb"&&G&&e(va,{message:G,onSegmentChange:(g,C)=>{console.log(`[CARGO-IMP] Editando segmento ${g}:`,C)},onToggleSegment:b}),d==="fhl"&&e(ie,{children:de&&de.length>0?e(ie,{children:[e("div",{className:"mb-3 p-2 bg-purple-50 border border-purple-200 rounded-lg",children:e("span",{className:"text-sm font-bold text-purple-800",children:["📦 ",de.length," Mensaje(s) FHL"]})}),de.map((g,C)=>e("div",{className:"mb-4",children:[e("div",{className:"bg-purple-100 px-3 py-2 rounded-t-lg font-bold text-purple-800 flex items-center gap-2",children:[e(Xe,{size:14}),"FHL #",C+1]}),e(va,{message:g,onSegmentChange:(w,y)=>{console.log(`[CARGO-IMP FHL ${C}] Editando segmento ${w}:`,y)},onToggleSegment:b})]},C))]}):e("div",{className:"text-slate-400 italic p-4 text-center",children:"No hay houses en este envío. FHL solo se genera para envíos consolidados."})})]}),G&&e("details",{className:"mt-4",children:[e("summary",{className:"cursor-pointer text-sm text-slate-600 hover:text-slate-800 flex items-center gap-2 py-2",children:[e(Tr,{size:14})," Ver EDI Raw (Formato plano)"]}),e("div",{className:"bg-slate-900 text-green-400 p-4 rounded-lg overflow-auto font-mono text-xs leading-relaxed max-h-64 mt-2",children:e("pre",{children:G.fullMessage})})]})]}),l==="xml"&&e("div",{className:"h-full flex flex-col",children:oe?e($o,{bundle:oe,onCopy:(g,C)=>{console.log(`[CARGO-XML] Copiado ${C}`)}}):e("div",{className:"flex items-center justify-center h-full text-slate-400",children:e("div",{className:"text-center",children:[e(Re,{size:48,className:"mx-auto mb-4 opacity-50"}),e("p",{children:"No se pudo generar el Cargo-XML"}),e("p",{className:"text-sm",children:"Verifique los datos del envío"})]})})})]}),e("div",{className:"px-3 py-2 border-t border-slate-100 flex justify-between items-center bg-white",children:[e("div",{className:"text-[10px] text-slate-400 truncate max-w-[200px]",children:(f==null?void 0:f.allSuccess)&&e("span",{className:"text-green-500",children:"EDI copiado al portapapeles"})}),e("div",{className:"flex gap-1.5",children:[e("button",{onClick:$e,className:"px-3 py-1.5 text-xs text-slate-500 hover:bg-slate-100 rounded transition-colors",children:"Cerrar"}),ve&&G&&e("button",{onClick:S,className:"px-4 py-1.5 text-xs bg-emerald-600 hover:bg-emerald-700 text-white rounded transition-colors flex items-center gap-1.5 font-semibold",children:[e(ir,{size:12})," Copiar EDI"]})]})]})]}),e(Do,{isOpen:ae,onClose:()=>le(!1),onConfigChange:g=>{ue(g),Z(C=>C+1)},onSaveConfig:s})]})},xt=[{id:"uat-consolidado-20251217-001",status:"DRAFT",awbNumber:"145-11223344",origin:"BOG",destination:"MIA",pieces:75,weight:1275,weightUnit:"KILOGRAM",volume:7.5,volumeUnit:"CUBIC_METRE",dimensions:[{pieces:75,length:100,width:40,height:25,unit:"CENTIMETRE"}],description:"CONSOLIDATE FLOWERS",commodityCode:"0609",currency:"USD",paymentMethod:"Collect",routing:{senderAddress:"REUFFW90AVTOPF/BOG01",recipientAddress:"USCAIR01LUXXSXS"},agent:{name:"AVTOPF CARGO SAS",iataCode:"1234567",cassCode:"0016",place:"BOGOTA"},executionDate:"2025-12-17",executionPlace:"BOGOTA",signature:"AVTOPF",rates:[{pieces:75,weight:1275,chargeableWeight:1350,rateClassCode:"Q",rateOrCharge:1.1,total:1485,description:"CONSOLIDATE FLOWERS",commodityCode:"0609"}],otherCharges:[],oci:[{countryCode:"US",infoIdentifier:"ISS",controlInfo:"REGULATED_AGENT",supplementaryControlInfo:"RA-CO-01234-567"}],specialHandlingCodes:["EAP","PER"],hasHouses:!0,houseBills:[{id:"h1",hawbNumber:"HAWB20251217A",pieces:25,weight:425,shipperName:"FINCA LAS ROSAS SAS",consigneeName:"BLOOM MIAMI LLC",natureOfGoods:"ROSES RED",commonName:"RED ROSES"},{id:"h2",hawbNumber:"HAWB20251217B",pieces:25,weight:425,shipperName:"FLORES DEL CAMPO LTDA",consigneeName:"SUNNY FLOWERS INC",natureOfGoods:"CARNATIONS",commonName:"CARNATIONS"},{id:"h3",hawbNumber:"HAWB20251217C",pieces:25,weight:425,shipperName:"ORQUIDEAS COLOMBIA SAS",consigneeName:"ORCHID WORLD USA",natureOfGoods:"ORCHIDS",commonName:"ORCHIDS"}],shipper:{name:"CONSOLIDADORA FLORES COLOMBIA SAS",address:{street:"CRA 7 NO 140-20 PISO 3",place:"BOGOTA",countryCode:"CO",postalCode:"110121"}},consignee:{name:"USA FLOWER DISTRIBUTORS LLC",address:{street:"8000 NW 36TH STREET SUITE 200",place:"DORAL",state:"FL",countryCode:"US",postalCode:"33166"}},flights:[{flightNumber:"LA4567",date:"2025-12-18",origin:"BOG",destination:"MIA",carrierCode:"LA"}],descartesConfig:{endpoint:"https://wwwtest.myvan.descartes.com/HttpUpload/SimpleUploadHandler.aspx",username:"jgamboa3@gln.com",password:"Avatar4570!",enabled:!0},logs:[]},{id:"uat-directo-20251217-002",status:"DRAFT",awbNumber:"145-55667788",origin:"BOG",destination:"MIA",pieces:25,weight:425,weightUnit:"KILOGRAM",volume:2.5,volumeUnit:"CUBIC_METRE",dimensions:[{pieces:25,length:100,width:40,height:25,unit:"CENTIMETRE"}],description:"CUT FLOWERS",commodityCode:"0603",currency:"USD",paymentMethod:"Collect",routing:{senderAddress:"REUFFW90AVTOPF/BOG01",recipientAddress:"USCAIR01LUXXSXS"},agent:{name:"AVTOPF CARGO SAS",iataCode:"1234567",cassCode:"0016",place:"BOGOTA"},executionDate:"2025-12-17",executionPlace:"BOGOTA",signature:"AVTOPF",rates:[{pieces:25,weight:425,chargeableWeight:450,rateClassCode:"Q",rateOrCharge:1.1,total:495,description:"CUT FLOWERS",commodityCode:"0603"}],otherCharges:[],oci:[{countryCode:"US",infoIdentifier:"ISS",controlInfo:"REGULATED_AGENT",supplementaryControlInfo:"RA-CO-01234-567"}],specialHandlingCodes:["EAP","PER"],hasHouses:!1,houseBills:[],shipper:{name:"FLORES DIRECTAS DE COLOMBIA SAS",address:{street:"CRA 7 NO 140-20 PISO 3",place:"BOGOTA",countryCode:"CO",postalCode:"110121"}},consignee:{name:"DIRECT FLOWERS USA INC",address:{street:"8000 NW 36TH STREET SUITE 100",place:"DORAL",state:"FL",countryCode:"US",postalCode:"33166"}},flights:[{flightNumber:"LA4567",date:"2025-12-18",origin:"BOG",destination:"MIA",carrierCode:"LA"},{flightNumber:"AA1234",date:"2025-12-18",origin:"MIA",destination:"JFK",carrierCode:"AA"}],descartesConfig:{endpoint:"https://wwwtest.myvan.descartes.com/HttpUpload/SimpleUploadHandler.aspx",username:"jgamboa3@gln.com",password:"Avatar4570!",enabled:!0},logs:[]},{id:"uat-iberia-20251217-003",status:"DRAFT",awbNumber:"075-99887766",origin:"BOG",destination:"MAD",pieces:30,weight:510,weightUnit:"KILOGRAM",volume:3,volumeUnit:"CUBIC_METRE",dimensions:[],description:"FRESH FLOWERS",commodityCode:"0603",currency:"USD",paymentMethod:"Prepaid",routing:{senderAddress:"REUFFW90AVTOPF/BOG01",recipientAddress:"USCAIR01LUXXSXS"},agent:{name:"AVTOPF CARGO SAS",iataCode:"1234567",cassCode:"0016",place:"BOGOTA"},executionDate:"2025-12-17",executionPlace:"BOGOTA",signature:"AVTOPF",rates:[{pieces:30,weight:510,chargeableWeight:540,rateClassCode:"Q",rateOrCharge:1.5,total:810,description:"FRESH FLOWERS",commodityCode:"0603"}],otherCharges:[{code:"MY",entitlement:"DueCarrier",amount:25,paymentMethod:"Prepaid"},{code:"AW",entitlement:"DueAgent",amount:15,paymentMethod:"Prepaid"}],oci:[{countryCode:"ES",infoIdentifier:"ISS",controlInfo:"REGULATED_AGENT",supplementaryControlInfo:"RA-CO-01234-567"}],specialHandlingCodes:["ECC","EAP","PER"],hasHouses:!1,houseBills:[],shipper:{name:"EXPORTADORA FLORES IBERIA SAS",address:{street:"CALLE 100 NO 20-30",place:"BOGOTA",countryCode:"CO",postalCode:"110111"}},consignee:{name:"FLORES MADRID SL",address:{street:"CALLE GRAN VIA 123",place:"MADRID",countryCode:"ES",postalCode:"28013"}},flights:[{flightNumber:"IB6524",date:"2025-12-18",origin:"BOG",destination:"MAD",carrierCode:"IB"}],descartesConfig:{endpoint:"https://wwwtest.myvan.descartes.com/HttpUpload/SimpleUploadHandler.aspx",username:"jgamboa3@gln.com",password:"Avatar4570!",enabled:!0},logs:[]}],cn=`
/* Reset básico para Shadow DOM del Portal */
:host {
  /* No usar all: initial para evitar perder estilos de Tailwind en prod */
  display: block !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 2147483647 !important;
  pointer-events: none !important;
  /* Forzar nuevo stacking context */
  isolation: isolate !important;
  contain: layout style !important;
}

:host([data-visible="true"]) {
  pointer-events: auto !important;
}

/* Contenedor raíz del portal */
#cargo-imp-portal-mount {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 2147483647 !important;
  pointer-events: none !important;
}

#cargo-imp-portal-mount:has(.modal-overlay),
#cargo-imp-portal-mount:has(.fixed) {
  pointer-events: auto !important;
}

*, *::before, *::after {
  box-sizing: border-box;
}

/* ===================================================== */
/* ESTILOS CRÍTICOS PARA PRODUCCIÓN                     */
/* Aseguran layout correcto independiente de Tailwind   */
/* ===================================================== */

/* Flexbox container para la vista fullscreen */
.fixed.inset-0.flex.flex-col {
  display: flex !important;
  flex-direction: column !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
}

/* Flex-1 para contenido scrolleable */
.flex-1 {
  flex: 1 1 0% !important;
}

/* Flex-shrink-0 para header/footer */
.flex-shrink-0 {
  flex-shrink: 0 !important;
}

/* Overflow para scrolling */
.overflow-y-auto {
  overflow-y: auto !important;
}

.overflow-hidden {
  overflow: hidden !important;
}

/* Footer siempre visible al fondo */
footer.flex-shrink-0 {
  flex-shrink: 0 !important;
  margin-top: auto !important;
}

/* Header siempre arriba */
header.flex-shrink-0 {
  flex-shrink: 0 !important;
}

/* Modal overlay */
.modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background-color: rgba(0, 0, 0, 0.5) !important;
  z-index: 50 !important;
}

/* Modal content */
.modal-content {
  display: flex !important;
  flex-direction: column !important;
  background-color: white !important;
  border-radius: 0.75rem !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
  max-height: 88vh !important;
  overflow: hidden !important;
}

/* Grids básicos */
.grid {
  display: grid !important;
}

.grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)) !important; }
.grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) !important; }
.grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)) !important; }
.grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)) !important; }
.grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)) !important; }
.grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)) !important; }

/* Gap */
.gap-1 { gap: 0.25rem !important; }
.gap-2 { gap: 0.5rem !important; }
.gap-3 { gap: 0.75rem !important; }
.gap-4 { gap: 1rem !important; }
.gap-6 { gap: 1.5rem !important; }

/* Padding y margin críticos */
.p-4 { padding: 1rem !important; }
.p-6 { padding: 1.5rem !important; }
.px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }
.px-6 { padding-left: 1.5rem !important; padding-right: 1.5rem !important; }
.py-2 { padding-top: 0.5rem !important; padding-bottom: 0.5rem !important; }
.py-3 { padding-top: 0.75rem !important; padding-bottom: 0.75rem !important; }
.py-4 { padding-top: 1rem !important; padding-bottom: 1rem !important; }
.py-6 { padding-top: 1.5rem !important; padding-bottom: 1.5rem !important; }
.mb-4 { margin-bottom: 1rem !important; }
.mb-6 { margin-bottom: 1.5rem !important; }

/* Colores de fondo críticos */
.bg-white { background-color: #ffffff !important; }
.bg-gray-50 { background-color: #f9fafb !important; }
.bg-slate-50 { background-color: #f8fafc !important; }
.bg-purple-50 { background-color: #faf5ff !important; }
.bg-purple-600 { background-color: #9333ea !important; }
.bg-purple-700 { background-color: #7c3aed !important; }

/* Colores de texto críticos */
.text-white { color: #ffffff !important; }
.text-slate-500 { color: #64748b !important; }
.text-slate-600 { color: #475569 !important; }
.text-slate-700 { color: #334155 !important; }
.text-slate-800 { color: #1e293b !important; }
.text-slate-900 { color: #0f172a !important; }
.text-purple-600 { color: #9333ea !important; }
.text-purple-700 { color: #7c3aed !important; }

/* Bordes */
.border { border-width: 1px !important; border-style: solid !important; }
.border-t { border-top-width: 1px !important; border-top-style: solid !important; }
.border-b { border-bottom-width: 1px !important; border-bottom-style: solid !important; }
.border-slate-100 { border-color: #f1f5f9 !important; }
.border-slate-200 { border-color: #e2e8f0 !important; }
.border-slate-300 { border-color: #cbd5e1 !important; }

/* Rounded */
.rounded { border-radius: 0.25rem !important; }
.rounded-lg { border-radius: 0.5rem !important; }
.rounded-xl { border-radius: 0.75rem !important; }
.rounded-2xl { border-radius: 1rem !important; }
.rounded-full { border-radius: 9999px !important; }

/* Shadow */
.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important; }
.shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important; }
.shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important; }
.shadow-xl { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important; }

/* CRÍTICO: Gradientes de fondo para vista CompactAwbView */
.bg-gradient-to-br {
  background-image: linear-gradient(to bottom right, var(--tw-gradient-stops)) !important;
}
.bg-gradient-to-r {
  background-image: linear-gradient(to right, var(--tw-gradient-stops)) !important;
}
.from-slate-100 { --tw-gradient-from: #f1f5f9 !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(241, 245, 249, 0)) !important; }
.via-purple-50 { --tw-gradient-stops: var(--tw-gradient-from), #faf5ff, var(--tw-gradient-to, rgba(250, 245, 255, 0)) !important; }
.to-indigo-100 { --tw-gradient-to: #e0e7ff !important; }
.from-purple-600 { --tw-gradient-from: #9333ea !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(147, 51, 234, 0)) !important; }
.to-indigo-600 { --tw-gradient-to: #4f46e5 !important; }
.from-purple-700 { --tw-gradient-from: #7c3aed !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(124, 58, 237, 0)) !important; }
.via-purple-800 { --tw-gradient-stops: var(--tw-gradient-from), #6b21a8, var(--tw-gradient-to, rgba(107, 33, 168, 0)) !important; }
.to-indigo-900 { --tw-gradient-to: #312e81 !important; }
.from-sky-300 { --tw-gradient-from: #7dd3fc !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(125, 211, 252, 0)) !important; }
.to-purple-500 { --tw-gradient-to: #a855f7 !important; }
.from-sky-400 { --tw-gradient-from: #38bdf8 !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(56, 189, 248, 0)) !important; }
.from-purple-400 { --tw-gradient-from: #c084fc !important; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(192, 132, 252, 0)) !important; }
.to-purple-600 { --tw-gradient-to: #9333ea !important; }

/* Backdrop blur */
.backdrop-blur-sm { backdrop-filter: blur(4px) !important; -webkit-backdrop-filter: blur(4px) !important; }

/* Opacidad de fondo blanco */
.bg-white/80 { background-color: rgba(255, 255, 255, 0.8) !important; }
.bg-white/20 { background-color: rgba(255, 255, 255, 0.2) !important; }

/* Colores adicionales de fondo */
.bg-indigo-100 { background-color: #e0e7ff !important; }
.bg-sky-400/20 { background-color: rgba(56, 189, 248, 0.2) !important; }

/* Sticky positioning */
.sticky { position: sticky !important; }
.top-0 { top: 0 !important; }
.z-10 { z-index: 10 !important; }

/* Colores de texto adicionales */
.text-purple-200 { color: #e9d5ff !important; }
.text-sky-100 { color: #e0f2fe !important; }
.text-green-600 { color: #16a34a !important; }
.text-sky-600 { color: #0284c7 !important; }
.text-amber-700 { color: #b45309 !important; }
.text-red-700 { color: #b91c1c !important; }
.text-indigo-600 { color: #4f46e5 !important; }

/* Bordes adicionales */
.border-sky-400/30 { border-color: rgba(56, 189, 248, 0.3) !important; }
.border-white/30 { border-color: rgba(255, 255, 255, 0.3) !important; }

/* Colores de fondo para estados */
.bg-gray-100 { background-color: #f3f4f6 !important; }
.text-gray-600 { color: #4b5563 !important; }
.bg-amber-100 { background-color: #fef3c7 !important; }
.bg-green-100 { background-color: #dcfce7 !important; }
.text-green-700 { color: #15803d !important; }
.bg-red-100 { background-color: #fee2e2 !important; }

/* Overflow */
.overflow-auto { overflow: auto !important; }

/* Flexbox helpers */
.flex { display: flex !important; }
.flex-col { flex-direction: column !important; }
.flex-row { flex-direction: row !important; }
.items-center { align-items: center !important; }
.justify-between { justify-content: space-between !important; }
.justify-center { justify-content: center !important; }

/* Tamaños de texto */
.text-xs { font-size: 0.75rem !important; line-height: 1rem !important; }
.text-sm { font-size: 0.875rem !important; line-height: 1.25rem !important; }
.text-base { font-size: 1rem !important; line-height: 1.5rem !important; }
.text-lg { font-size: 1.125rem !important; line-height: 1.75rem !important; }
.text-xl { font-size: 1.25rem !important; line-height: 1.75rem !important; }
.text-2xl { font-size: 1.5rem !important; line-height: 2rem !important; }
.text-3xl { font-size: 1.875rem !important; line-height: 2.25rem !important; }
.text-4xl { font-size: 2.25rem !important; line-height: 2.5rem !important; }

/* Font weights */
.font-medium { font-weight: 500 !important; }
.font-semibold { font-weight: 600 !important; }
.font-bold { font-weight: 700 !important; }

/* Max widths */
.max-w-6xl { max-width: 72rem !important; }
.max-w-7xl { max-width: 80rem !important; }
.mx-auto { margin-left: auto !important; margin-right: auto !important; }

/* Z-index */
.z-50 { z-index: 50 !important; }

/* Inset-0 */
.inset-0 {
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
}

/* Width/Height */
.w-full { width: 100% !important; }
.h-16 { height: 4rem !important; }
`+`/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-content:""}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-orange-50:oklch(98% .016 73.684);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-200:oklch(90.1% .076 70.697);--color-orange-300:oklch(83.7% .128 66.29);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-orange-800:oklch(47% .157 37.304);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-800:oklch(43.2% .095 166.913);--color-teal-50:oklch(98.4% .014 180.72);--color-teal-300:oklch(85.5% .138 181.071);--color-teal-700:oklch(51.1% .096 186.391);--color-cyan-50:oklch(98.4% .019 200.873);--color-cyan-100:oklch(95.6% .045 203.388);--color-cyan-300:oklch(86.5% .127 207.078);--color-cyan-500:oklch(71.5% .143 215.221);--color-cyan-700:oklch(52% .105 223.128);--color-cyan-800:oklch(45% .085 224.283);--color-sky-50:oklch(97.7% .013 236.62);--color-sky-100:oklch(95.1% .026 236.824);--color-sky-200:oklch(90.1% .058 230.902);--color-sky-300:oklch(82.8% .111 230.318);--color-sky-400:oklch(74.6% .16 232.661);--color-sky-500:oklch(68.5% .169 237.323);--color-sky-600:oklch(58.8% .158 241.966);--color-sky-700:oklch(50% .134 242.749);--color-sky-800:oklch(44.3% .11 240.79);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-blue-900:oklch(37.9% .146 265.522);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-indigo-900:oklch(35.9% .144 278.697);--color-violet-50:oklch(96.9% .016 293.756);--color-violet-100:oklch(94.3% .029 294.588);--color-violet-300:oklch(81.1% .111 293.571);--color-violet-700:oklch(49.1% .27 292.581);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-purple-800:oklch(43.8% .218 303.724);--color-purple-900:oklch(38.1% .176 304.987);--color-fuchsia-50:oklch(97.7% .017 320.058);--color-fuchsia-100:oklch(95.2% .037 318.852);--color-fuchsia-300:oklch(83.3% .145 321.434);--color-fuchsia-400:oklch(74% .238 322.16);--color-fuchsia-500:oklch(66.7% .295 322.15);--color-fuchsia-600:oklch(59.1% .293 322.896);--color-fuchsia-700:oklch(51.8% .253 323.949);--color-pink-50:oklch(97.1% .014 343.198);--color-pink-100:oklch(94.8% .028 342.258);--color-pink-300:oklch(82.3% .12 346.018);--color-pink-700:oklch(52.5% .223 3.958);--color-pink-800:oklch(45.9% .187 3.815);--color-rose-50:oklch(96.9% .015 12.422);--color-rose-100:oklch(94.1% .03 12.58);--color-rose-300:oklch(81% .117 11.638);--color-rose-700:oklch(51.4% .222 16.935);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-slate-950:oklch(12.9% .042 264.695);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-xs:20rem;--container-md:28rem;--container-3xl:48rem;--container-4xl:56rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-wide:.025em;--tracking-wider:.05em;--leading-tight:1.25;--leading-relaxed:1.625;--leading-loose:2;--radius-sm:.25rem;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--animate-bounce:bounce 1s infinite;--blur-sm:8px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.visible{visibility:visible}.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\\/2{top:50%}.right-0{right:calc(var(--spacing)*0)}.right-1{right:calc(var(--spacing)*1)}.right-2{right:calc(var(--spacing)*2)}.right-4{right:calc(var(--spacing)*4)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-1{bottom:calc(var(--spacing)*1)}.bottom-2{bottom:calc(var(--spacing)*2)}.bottom-full{bottom:100%}.left-0{left:calc(var(--spacing)*0)}.left-1{left:calc(var(--spacing)*1)}.left-1\\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.isolate{isolation:isolate}.z-10{z-index:10}.z-50{z-index:50}.z-\\[9999\\]{z-index:9999}.col-span-2{grid-column:span 2/span 2}.col-span-3{grid-column:span 3/span 3}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.-mx-2{margin-inline:calc(var(--spacing)*-2)}.mx-1{margin-inline:calc(var(--spacing)*1)}.mx-3{margin-inline:calc(var(--spacing)*3)}.mx-4{margin-inline:calc(var(--spacing)*4)}.mx-6{margin-inline:calc(var(--spacing)*6)}.mx-auto{margin-inline:auto}.-mt-2{margin-top:calc(var(--spacing)*-2)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-0{margin-bottom:calc(var(--spacing)*0)}.mb-0\\.5{margin-bottom:calc(var(--spacing)*.5)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.ml-0{margin-left:calc(var(--spacing)*0)}.ml-0\\.5{margin-left:calc(var(--spacing)*.5)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-6{margin-left:calc(var(--spacing)*6)}.ml-auto{margin-left:auto}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.table{display:table}.h-0{height:calc(var(--spacing)*0)}.h-0\\.5{height:calc(var(--spacing)*.5)}.h-1{height:calc(var(--spacing)*1)}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-16{height:calc(var(--spacing)*16)}.h-20{height:calc(var(--spacing)*20)}.h-\\[34px\\]{height:34px}.h-full{height:100%}.max-h-20{max-height:calc(var(--spacing)*20)}.max-h-32{max-height:calc(var(--spacing)*32)}.max-h-48{max-height:calc(var(--spacing)*48)}.max-h-60{max-height:calc(var(--spacing)*60)}.max-h-64{max-height:calc(var(--spacing)*64)}.max-h-80{max-height:calc(var(--spacing)*80)}.max-h-96{max-height:calc(var(--spacing)*96)}.max-h-\\[88vh\\]{max-height:88vh}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[200px\\]{max-height:200px}.max-h-\\[400px\\]{max-height:400px}.max-h-\\[500px\\]{max-height:500px}.min-h-\\[28px\\]{min-height:28px}.min-h-\\[32px\\]{min-height:32px}.min-h-\\[46px\\]{min-height:46px}.min-h-screen{min-height:100vh}.w-2{width:calc(var(--spacing)*2)}.w-3{width:calc(var(--spacing)*3)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-8{width:calc(var(--spacing)*8)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-28{width:calc(var(--spacing)*28)}.w-32{width:calc(var(--spacing)*32)}.w-56{width:calc(var(--spacing)*56)}.w-64{width:calc(var(--spacing)*64)}.w-full{width:100%}.w-px{width:1px}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-6xl{max-width:var(--container-6xl)}.max-w-7xl{max-width:var(--container-7xl)}.max-w-\\[80px\\]{max-width:80px}.max-w-\\[120px\\]{max-width:120px}.max-w-\\[150px\\]{max-width:150px}.max-w-\\[200px\\]{max-width:200px}.max-w-md{max-width:var(--container-md)}.max-w-xs{max-width:var(--container-xs)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\\[60px\\]{min-width:60px}.min-w-\\[80px\\]{min-width:80px}.min-w-\\[120px\\]{min-width:120px}.flex-1{flex:1}.flex-shrink{flex-shrink:1}.flex-shrink-0{flex-shrink:0}.border-collapse{border-collapse:collapse}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1{--tw-translate-y:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-1\\/2{--tw-translate-y: 50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-105{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-45{rotate:45deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-bounce{animation:var(--animate-bounce)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-help{cursor:help}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.flex-nowrap{flex-wrap:nowrap}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-0{gap:calc(var(--spacing)*0)}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-0\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-2{column-gap:calc(var(--spacing)*2)}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-1{row-gap:calc(var(--spacing)*1)}.gap-y-1\\.5{row-gap:calc(var(--spacing)*1.5)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-t-lg{border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg)}.rounded-t-md{border-top-left-radius:var(--radius-md);border-top-right-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-amber-200{border-color:var(--color-amber-200)}.border-amber-300{border-color:var(--color-amber-300)}.border-blue-100{border-color:var(--color-blue-100)}.border-blue-200{border-color:var(--color-blue-200)}.border-blue-300{border-color:var(--color-blue-300)}.border-cyan-300{border-color:var(--color-cyan-300)}.border-emerald-200{border-color:var(--color-emerald-200)}.border-emerald-300{border-color:var(--color-emerald-300)}.border-fuchsia-300{border-color:var(--color-fuchsia-300)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-green-200{border-color:var(--color-green-200)}.border-green-300{border-color:var(--color-green-300)}.border-green-400{border-color:var(--color-green-400)}.border-indigo-200{border-color:var(--color-indigo-200)}.border-indigo-300{border-color:var(--color-indigo-300)}.border-indigo-600{border-color:var(--color-indigo-600)}.border-orange-300{border-color:var(--color-orange-300)}.border-orange-400{border-color:var(--color-orange-400)}.border-pink-300{border-color:var(--color-pink-300)}.border-purple-100{border-color:var(--color-purple-100)}.border-purple-200{border-color:var(--color-purple-200)}.border-purple-300{border-color:var(--color-purple-300)}.border-purple-400{border-color:var(--color-purple-400)}.border-purple-400\\/30{border-color:#c07eff4d}@supports (color:color-mix(in lab,red,red)){.border-purple-400\\/30{border-color:color-mix(in oklab,var(--color-purple-400)30%,transparent)}}.border-purple-500{border-color:var(--color-purple-500)}.border-purple-600{border-color:var(--color-purple-600)}.border-red-200{border-color:var(--color-red-200)}.border-red-300{border-color:var(--color-red-300)}.border-red-400{border-color:var(--color-red-400)}.border-rose-300{border-color:var(--color-rose-300)}.border-sky-100{border-color:var(--color-sky-100)}.border-sky-200{border-color:var(--color-sky-200)}.border-sky-300{border-color:var(--color-sky-300)}.border-sky-400{border-color:var(--color-sky-400)}.border-sky-400\\/30{border-color:#00bcfe4d}@supports (color:color-mix(in lab,red,red)){.border-sky-400\\/30{border-color:color-mix(in oklab,var(--color-sky-400)30%,transparent)}}.border-sky-500{border-color:var(--color-sky-500)}.border-slate-100{border-color:var(--color-slate-100)}.border-slate-200{border-color:var(--color-slate-200)}.border-slate-300{border-color:var(--color-slate-300)}.border-teal-300{border-color:var(--color-teal-300)}.border-transparent{border-color:#0000}.border-violet-300{border-color:var(--color-violet-300)}.border-white{border-color:var(--color-white)}.border-white\\/30{border-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.border-white\\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-white\\/50{border-color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.border-white\\/50{border-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.border-white\\/80{border-color:#fffc}@supports (color:color-mix(in lab,red,red)){.border-white\\/80{border-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-50\\/50{background-color:#fffbeb80}@supports (color:color-mix(in lab,red,red)){.bg-amber-50\\/50{background-color:color-mix(in oklab,var(--color-amber-50)50%,transparent)}}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-200{background-color:var(--color-amber-200)}.bg-black{background-color:var(--color-black)}.bg-black\\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-100{background-color:var(--color-blue-100)}.bg-blue-200{background-color:var(--color-blue-200)}.bg-blue-500{background-color:var(--color-blue-500)}.bg-blue-600{background-color:var(--color-blue-600)}.bg-cyan-50{background-color:var(--color-cyan-50)}.bg-cyan-100{background-color:var(--color-cyan-100)}.bg-cyan-500{background-color:var(--color-cyan-500)}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-emerald-600{background-color:var(--color-emerald-600)}.bg-fuchsia-50{background-color:var(--color-fuchsia-50)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-green-50{background-color:var(--color-green-50)}.bg-green-50\\/50{background-color:#f0fdf480}@supports (color:color-mix(in lab,red,red)){.bg-green-50\\/50{background-color:color-mix(in oklab,var(--color-green-50)50%,transparent)}}.bg-green-100{background-color:var(--color-green-100)}.bg-green-200{background-color:var(--color-green-200)}.bg-green-200\\/70{background-color:#b9f8cfb3}@supports (color:color-mix(in lab,red,red)){.bg-green-200\\/70{background-color:color-mix(in oklab,var(--color-green-200)70%,transparent)}}.bg-green-500{background-color:var(--color-green-500)}.bg-green-600{background-color:var(--color-green-600)}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-orange-50{background-color:var(--color-orange-50)}.bg-orange-100{background-color:var(--color-orange-100)}.bg-orange-500{background-color:var(--color-orange-500)}.bg-orange-600{background-color:var(--color-orange-600)}.bg-pink-50{background-color:var(--color-pink-50)}.bg-pink-100{background-color:var(--color-pink-100)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-50\\/50{background-color:#faf5ff80}@supports (color:color-mix(in lab,red,red)){.bg-purple-50\\/50{background-color:color-mix(in oklab,var(--color-purple-50)50%,transparent)}}.bg-purple-100{background-color:var(--color-purple-100)}.bg-purple-200{background-color:var(--color-purple-200)}.bg-purple-400{background-color:var(--color-purple-400)}.bg-purple-400\\/20{background-color:#c07eff33}@supports (color:color-mix(in lab,red,red)){.bg-purple-400\\/20{background-color:color-mix(in oklab,var(--color-purple-400)20%,transparent)}}.bg-purple-500{background-color:var(--color-purple-500)}.bg-purple-600{background-color:var(--color-purple-600)}.bg-purple-700{background-color:var(--color-purple-700)}.bg-purple-800{background-color:var(--color-purple-800)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-50\\/50{background-color:#fef2f280}@supports (color:color-mix(in lab,red,red)){.bg-red-50\\/50{background-color:color-mix(in oklab,var(--color-red-50)50%,transparent)}}.bg-red-100{background-color:var(--color-red-100)}.bg-red-200{background-color:var(--color-red-200)}.bg-red-200\\/70{background-color:#ffcacab3}@supports (color:color-mix(in lab,red,red)){.bg-red-200\\/70{background-color:color-mix(in oklab,var(--color-red-200)70%,transparent)}}.bg-red-500{background-color:var(--color-red-500)}.bg-rose-50{background-color:var(--color-rose-50)}.bg-rose-100{background-color:var(--color-rose-100)}.bg-sky-50{background-color:var(--color-sky-50)}.bg-sky-50\\/50{background-color:#f0f9ff80}@supports (color:color-mix(in lab,red,red)){.bg-sky-50\\/50{background-color:color-mix(in oklab,var(--color-sky-50)50%,transparent)}}.bg-sky-100{background-color:var(--color-sky-100)}.bg-sky-400{background-color:var(--color-sky-400)}.bg-sky-400\\/20{background-color:#00bcfe33}@supports (color:color-mix(in lab,red,red)){.bg-sky-400\\/20{background-color:color-mix(in oklab,var(--color-sky-400)20%,transparent)}}.bg-sky-500{background-color:var(--color-sky-500)}.bg-sky-600{background-color:var(--color-sky-600)}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-50\\/30{background-color:#f8fafc4d}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/30{background-color:color-mix(in oklab,var(--color-slate-50)30%,transparent)}}.bg-slate-50\\/50{background-color:#f8fafc80}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/50{background-color:color-mix(in oklab,var(--color-slate-50)50%,transparent)}}.bg-slate-50\\/95{background-color:#f8fafcf2}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/95{background-color:color-mix(in oklab,var(--color-slate-50)95%,transparent)}}.bg-slate-100{background-color:var(--color-slate-100)}.bg-slate-200{background-color:var(--color-slate-200)}.bg-slate-300{background-color:var(--color-slate-300)}.bg-slate-600{background-color:var(--color-slate-600)}.bg-slate-800{background-color:var(--color-slate-800)}.bg-slate-900{background-color:var(--color-slate-900)}.bg-teal-50{background-color:var(--color-teal-50)}.bg-transparent{background-color:#0000}.bg-violet-50{background-color:var(--color-violet-50)}.bg-violet-100{background-color:var(--color-violet-100)}.bg-white{background-color:var(--color-white)}.bg-white\\/20{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.bg-white\\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-white\\/30{background-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.bg-white\\/30{background-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.bg-white\\/50{background-color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.bg-white\\/50{background-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.bg-white\\/60{background-color:#fff9}@supports (color:color-mix(in lab,red,red)){.bg-white\\/60{background-color:color-mix(in oklab,var(--color-white)60%,transparent)}}.bg-white\\/70{background-color:#ffffffb3}@supports (color:color-mix(in lab,red,red)){.bg-white\\/70{background-color:color-mix(in oklab,var(--color-white)70%,transparent)}}.bg-white\\/80{background-color:#fffc}@supports (color:color-mix(in lab,red,red)){.bg-white\\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-amber-50{--tw-gradient-from:var(--color-amber-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-50{--tw-gradient-from:var(--color-blue-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-600{--tw-gradient-from:var(--color-blue-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-emerald-50{--tw-gradient-from:var(--color-emerald-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-50{--tw-gradient-from:var(--color-green-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-100{--tw-gradient-from:var(--color-green-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-50{--tw-gradient-from:var(--color-purple-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-400{--tw-gradient-from:var(--color-purple-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-600{--tw-gradient-from:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-700{--tw-gradient-from:var(--color-purple-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-red-100{--tw-gradient-from:var(--color-red-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-sky-300{--tw-gradient-from:var(--color-sky-300);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-sky-400{--tw-gradient-from:var(--color-sky-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-50{--tw-gradient-from:var(--color-slate-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-100{--tw-gradient-from:var(--color-slate-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-800{--tw-gradient-from:var(--color-slate-800);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-purple-50{--tw-gradient-via:var(--color-purple-50);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-purple-700{--tw-gradient-via:var(--color-purple-700);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-purple-800{--tw-gradient-via:var(--color-purple-800);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-blue-700{--tw-gradient-to:var(--color-blue-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-emerald-50{--tw-gradient-to:var(--color-emerald-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-emerald-100{--tw-gradient-to:var(--color-emerald-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-fuchsia-50{--tw-gradient-to:var(--color-fuchsia-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-50{--tw-gradient-to:var(--color-indigo-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-100{--tw-gradient-to:var(--color-indigo-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-600{--tw-gradient-to:var(--color-indigo-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-indigo-900{--tw-gradient-to:var(--color-indigo-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-50{--tw-gradient-to:var(--color-orange-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-100{--tw-gradient-to:var(--color-orange-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-pink-50{--tw-gradient-to:var(--color-pink-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-50{--tw-gradient-to:var(--color-purple-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-500{--tw-gradient-to:var(--color-purple-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-600{--tw-gradient-to:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-800{--tw-gradient-to:var(--color-purple-800);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-slate-700{--tw-gradient-to:var(--color-slate-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-teal-50{--tw-gradient-to:var(--color-teal-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-yellow-50{--tw-gradient-to:var(--color-yellow-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-0{padding:calc(var(--spacing)*0)}.p-0\\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-1\\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-2\\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-4{padding-right:calc(var(--spacing)*4)}.pb-1{padding-bottom:calc(var(--spacing)*1)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[9px\\]{font-size:9px}.text-\\[10px\\]{font-size:10px}.text-\\[11px\\]{font-size:11px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-all{word-break:break-all}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.text-amber-500{color:var(--color-amber-500)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-amber-800{color:var(--color-amber-800)}.text-blue-100{color:var(--color-blue-100)}.text-blue-400{color:var(--color-blue-400)}.text-blue-500{color:var(--color-blue-500)}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-blue-800{color:var(--color-blue-800)}.text-blue-900{color:var(--color-blue-900)}.text-cyan-700{color:var(--color-cyan-700)}.text-cyan-800{color:var(--color-cyan-800)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-700{color:var(--color-emerald-700)}.text-emerald-800{color:var(--color-emerald-800)}.text-fuchsia-700{color:var(--color-fuchsia-700)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-green-200{color:var(--color-green-200)}.text-green-400{color:var(--color-green-400)}.text-green-500{color:var(--color-green-500)}.text-green-600{color:var(--color-green-600)}.text-green-700{color:var(--color-green-700)}.text-green-800{color:var(--color-green-800)}.text-indigo-200{color:var(--color-indigo-200)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-800{color:var(--color-indigo-800)}.text-orange-600{color:var(--color-orange-600)}.text-orange-700{color:var(--color-orange-700)}.text-orange-800{color:var(--color-orange-800)}.text-pink-700{color:var(--color-pink-700)}.text-pink-800{color:var(--color-pink-800)}.text-purple-100{color:var(--color-purple-100)}.text-purple-200{color:var(--color-purple-200)}.text-purple-300{color:var(--color-purple-300)}.text-purple-400{color:var(--color-purple-400)}.text-purple-500{color:var(--color-purple-500)}.text-purple-600{color:var(--color-purple-600)}.text-purple-700{color:var(--color-purple-700)}.text-purple-800{color:var(--color-purple-800)}.text-purple-900{color:var(--color-purple-900)}.text-red-200{color:var(--color-red-200)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-red-800{color:var(--color-red-800)}.text-rose-700{color:var(--color-rose-700)}.text-sky-100{color:var(--color-sky-100)}.text-sky-600{color:var(--color-sky-600)}.text-sky-700{color:var(--color-sky-700)}.text-sky-800{color:var(--color-sky-800)}.text-slate-50{color:var(--color-slate-50)}.text-slate-300{color:var(--color-slate-300)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-800{color:var(--color-slate-800)}.text-slate-900{color:var(--color-slate-900)}.text-teal-700{color:var(--color-teal-700)}.text-transparent{color:#0000}.text-violet-700{color:var(--color-violet-700)}.text-white{color:var(--color-white)}.normal-case{text-transform:none}.uppercase{text-transform:uppercase}.italic{font-style:italic}.line-through{text-decoration-line:line-through}.underline{text-decoration-line:underline}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-black{--tw-ring-color:var(--color-black)}.ring-black\\/5{--tw-ring-color:#0000000d}@supports (color:color-mix(in lab,red,red)){.ring-black\\/5{--tw-ring-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.ring-orange-500{--tw-ring-color:var(--color-orange-500)}.ring-purple-400{--tw-ring-color:var(--color-purple-400)}.ring-red-400{--tw-ring-color:var(--color-red-400)}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-150{--tw-duration:.15s;transition-duration:.15s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.outline-none{--tw-outline-style:none;outline-style:none}.group-open\\:rotate-90:is(:where(.group):is([open],:popover-open,:open) *){rotate:90deg}@media(hover:hover){.group-hover\\:block:is(:where(.group):hover *){display:block}.group-hover\\:translate-x-1:is(:where(.group):hover *){--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-hover\\:text-blue-600:is(:where(.group):hover *){color:var(--color-blue-600)}.group-hover\\:text-purple-600:is(:where(.group):hover *){color:var(--color-purple-600)}}.peer-checked\\:bg-amber-500:is(:where(.peer):checked~*){background-color:var(--color-amber-500)}.peer-checked\\:bg-green-600:is(:where(.peer):checked~*){background-color:var(--color-green-600)}.peer-checked\\:bg-purple-600:is(:where(.peer):checked~*){background-color:var(--color-purple-600)}.peer-focus\\:ring-2:is(:where(.peer):focus~*){--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.peer-focus\\:ring-amber-300:is(:where(.peer):focus~*){--tw-ring-color:var(--color-amber-300)}.peer-focus\\:ring-green-300:is(:where(.peer):focus~*){--tw-ring-color:var(--color-green-300)}.peer-focus\\:ring-purple-300:is(:where(.peer):focus~*){--tw-ring-color:var(--color-purple-300)}.placeholder\\:text-purple-400::placeholder{color:var(--color-purple-400)}.placeholder\\:text-slate-400::placeholder{color:var(--color-slate-400)}.placeholder\\:italic::placeholder{font-style:italic}.after\\:absolute:after{content:var(--tw-content);position:absolute}.after\\:top-\\[2px\\]:after{content:var(--tw-content);top:2px}.after\\:left-\\[2px\\]:after{content:var(--tw-content);left:2px}.after\\:h-5:after{content:var(--tw-content);height:calc(var(--spacing)*5)}.after\\:w-5:after{content:var(--tw-content);width:calc(var(--spacing)*5)}.after\\:rounded-full:after{content:var(--tw-content);border-radius:3.40282e38px}.after\\:bg-white:after{content:var(--tw-content);background-color:var(--color-white)}.after\\:transition-all:after{content:var(--tw-content);transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.after\\:content-\\[\\'\\'\\]:after{--tw-content:"";content:var(--tw-content)}.peer-checked\\:after\\:translate-x-full:is(:where(.peer):checked~*):after{content:var(--tw-content);--tw-translate-x:100%;translate:var(--tw-translate-x)var(--tw-translate-y)}@media(hover:hover){.hover\\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:border-blue-300:hover{border-color:var(--color-blue-300)}.hover\\:border-green-400:hover{border-color:var(--color-green-400)}.hover\\:border-slate-300:hover{border-color:var(--color-slate-300)}.hover\\:bg-amber-200:hover{background-color:var(--color-amber-200)}.hover\\:bg-black\\/5:hover{background-color:#0000000d}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-black\\/5:hover{background-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.hover\\:bg-blue-200:hover{background-color:var(--color-blue-200)}.hover\\:bg-emerald-700:hover{background-color:var(--color-emerald-700)}.hover\\:bg-green-50\\/30:hover{background-color:#f0fdf44d}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-green-50\\/30:hover{background-color:color-mix(in oklab,var(--color-green-50)30%,transparent)}}.hover\\:bg-green-100:hover{background-color:var(--color-green-100)}.hover\\:bg-green-200:hover{background-color:var(--color-green-200)}.hover\\:bg-green-700:hover{background-color:var(--color-green-700)}.hover\\:bg-indigo-50:hover{background-color:var(--color-indigo-50)}.hover\\:bg-indigo-200:hover{background-color:var(--color-indigo-200)}.hover\\:bg-indigo-700:hover{background-color:var(--color-indigo-700)}.hover\\:bg-purple-50:hover{background-color:var(--color-purple-50)}.hover\\:bg-purple-100:hover{background-color:var(--color-purple-100)}.hover\\:bg-purple-200:hover{background-color:var(--color-purple-200)}.hover\\:bg-purple-600:hover{background-color:var(--color-purple-600)}.hover\\:bg-purple-700:hover{background-color:var(--color-purple-700)}.hover\\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\\:bg-sky-100:hover{background-color:var(--color-sky-100)}.hover\\:bg-slate-50:hover{background-color:var(--color-slate-50)}.hover\\:bg-slate-100:hover{background-color:var(--color-slate-100)}.hover\\:bg-slate-200:hover{background-color:var(--color-slate-200)}.hover\\:bg-slate-200\\/50:hover{background-color:#e2e8f080}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-slate-200\\/50:hover{background-color:color-mix(in oklab,var(--color-slate-200)50%,transparent)}}.hover\\:bg-slate-300:hover{background-color:var(--color-slate-300)}.hover\\:bg-slate-700:hover{background-color:var(--color-slate-700)}.hover\\:bg-white\\/20:hover{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/20:hover{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.hover\\:bg-white\\/30:hover{background-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/30:hover{background-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.hover\\:bg-white\\/50:hover{background-color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/50:hover{background-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.hover\\:text-amber-700:hover{color:var(--color-amber-700)}.hover\\:text-amber-900:hover{color:var(--color-amber-900)}.hover\\:text-indigo-700:hover{color:var(--color-indigo-700)}.hover\\:text-purple-500:hover{color:var(--color-purple-500)}.hover\\:text-purple-600:hover{color:var(--color-purple-600)}.hover\\:text-purple-800:hover{color:var(--color-purple-800)}.hover\\:text-red-600:hover{color:var(--color-red-600)}.hover\\:text-red-700:hover{color:var(--color-red-700)}.hover\\:text-slate-600:hover{color:var(--color-slate-600)}.hover\\:text-slate-700:hover{color:var(--color-slate-700)}.hover\\:text-slate-800:hover{color:var(--color-slate-800)}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-80:hover{opacity:.8}.hover\\:opacity-90:hover{opacity:.9}.hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}}.focus\\:border-purple-500:focus{border-color:var(--color-purple-500)}.focus\\:border-slate-400:focus{border-color:var(--color-slate-400)}.focus\\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-amber-300:focus{--tw-ring-color:var(--color-amber-300)}.focus\\:ring-blue-400:focus{--tw-ring-color:var(--color-blue-400)}.focus\\:ring-blue-500:focus{--tw-ring-color:var(--color-blue-500)}.focus\\:ring-emerald-400:focus{--tw-ring-color:var(--color-emerald-400)}.focus\\:ring-purple-200:focus{--tw-ring-color:var(--color-purple-200)}.focus\\:ring-purple-300:focus{--tw-ring-color:var(--color-purple-300)}.focus\\:ring-purple-400:focus{--tw-ring-color:var(--color-purple-400)}.focus\\:ring-purple-500:focus{--tw-ring-color:var(--color-purple-500)}.focus\\:ring-slate-100:focus{--tw-ring-color:var(--color-slate-100)}.focus\\:ring-slate-200:focus{--tw-ring-color:var(--color-slate-200)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-slate-50:disabled{background-color:var(--color-slate-50)}.disabled\\:bg-slate-400:disabled{background-color:var(--color-slate-400)}.disabled\\:opacity-50:disabled{opacity:.5}@media(min-width:40rem){.sm\\:flex-row{flex-direction:row}.sm\\:px-6{padding-inline:calc(var(--spacing)*6)}}@media(min-width:48rem){.md\\:inline{display:inline}.md\\:w-80{width:calc(var(--spacing)*80)}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:items-center{align-items:center}.md\\:items-end{align-items:flex-end}.md\\:border-t-0{border-top-style:var(--tw-border-style);border-top-width:0}.md\\:border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.md\\:p-8{padding:calc(var(--spacing)*8)}.md\\:pt-0{padding-top:calc(var(--spacing)*0)}.md\\:pl-6{padding-left:calc(var(--spacing)*6)}.md\\:text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.md\\:text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}}@media(min-width:64rem){.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.lg\\:px-8{padding-inline:calc(var(--spacing)*8)}}}:host,:host *,#traxon-portal-mount,#traxon-portal-mount *{--color-white:#fff!important;--color-black:#000!important;--color-slate-50:#f8fafc!important;--color-slate-100:#f1f5f9!important;--color-slate-200:#e2e8f0!important;--color-slate-300:#cbd5e1!important;--color-slate-400:#94a3b8!important;--color-slate-500:#64748b!important;--color-slate-600:#475569!important;--color-slate-700:#334155!important;--color-slate-800:#1e293b!important;--color-slate-900:#0f172a!important;--color-slate-950:#020617!important;--color-gray-50:#f9fafb!important;--color-gray-100:#f3f4f6!important;--color-gray-200:#e5e7eb!important;--color-gray-300:#d1d5db!important;--color-gray-400:#9ca3af!important;--color-gray-500:#6b7280!important;--color-gray-600:#4b5563!important;--color-gray-700:#374151!important;--color-gray-800:#1f2937!important;--color-gray-900:#111827!important;--color-red-50:#fef2f2!important;--color-red-100:#fee2e2!important;--color-red-200:#fecaca!important;--color-red-300:#fca5a5!important;--color-red-400:#f87171!important;--color-red-500:#ef4444!important;--color-red-600:#dc2626!important;--color-red-700:#b91c1c!important;--color-red-800:#991b1b!important;--color-red-900:#7f1d1d!important;--color-orange-50:#fff7ed!important;--color-orange-100:#ffedd5!important;--color-orange-200:#fed7aa!important;--color-orange-300:#fdba74!important;--color-orange-400:#fb923c!important;--color-orange-500:#f97316!important;--color-orange-600:#ea580c!important;--color-orange-700:#c2410c!important;--color-amber-50:#fffbeb!important;--color-amber-100:#fef3c7!important;--color-amber-200:#fde68a!important;--color-amber-300:#fcd34d!important;--color-amber-400:#fbbf24!important;--color-amber-500:#f59e0b!important;--color-amber-600:#d97706!important;--color-amber-700:#b45309!important;--color-amber-800:#92400e!important;--color-amber-900:#78350f!important;--color-yellow-50:#fefce8!important;--color-yellow-100:#fef9c3!important;--color-yellow-200:#fef08a!important;--color-yellow-300:#fde047!important;--color-yellow-400:#facc15!important;--color-yellow-500:#eab308!important;--color-green-50:#f0fdf4!important;--color-green-100:#dcfce7!important;--color-green-200:#bbf7d0!important;--color-green-300:#86efac!important;--color-green-400:#4ade80!important;--color-green-500:#22c55e!important;--color-green-600:#16a34a!important;--color-green-700:#15803d!important;--color-green-800:#166534!important;--color-green-900:#14532d!important;--color-emerald-50:#ecfdf5!important;--color-emerald-100:#d1fae5!important;--color-emerald-500:#10b981!important;--color-emerald-600:#059669!important;--color-sky-50:#f0f9ff!important;--color-sky-100:#e0f2fe!important;--color-sky-200:#bae6fd!important;--color-sky-300:#7dd3fc!important;--color-sky-400:#38bdf8!important;--color-sky-500:#0ea5e9!important;--color-sky-600:#0284c7!important;--color-sky-700:#0369a1!important;--color-sky-800:#075985!important;--color-blue-50:#eff6ff!important;--color-blue-100:#dbeafe!important;--color-blue-200:#bfdbfe!important;--color-blue-300:#93c5fd!important;--color-blue-400:#60a5fa!important;--color-blue-500:#3b82f6!important;--color-blue-600:#2563eb!important;--color-blue-700:#1d4ed8!important;--color-blue-800:#1e40af!important;--color-blue-900:#1e3a8a!important;--color-indigo-50:#eef2ff!important;--color-indigo-100:#e0e7ff!important;--color-indigo-200:#c7d2fe!important;--color-indigo-300:#a5b4fc!important;--color-indigo-400:#818cf8!important;--color-indigo-500:#6366f1!important;--color-indigo-600:#4f46e5!important;--color-indigo-700:#4338ca!important;--color-indigo-800:#3730a3!important;--color-indigo-900:#312e81!important;--color-purple-50:#faf5ff!important;--color-purple-100:#f3e8ff!important;--color-purple-200:#e9d5ff!important;--color-purple-300:#d8b4fe!important;--color-purple-400:#c084fc!important;--color-purple-500:#a855f7!important;--color-purple-600:#9333ea!important;--color-purple-700:#7c3aed!important;--color-purple-800:#6b21a8!important;--color-purple-900:#581c87!important;--color-fuchsia-50:#fdf4ff!important;--color-fuchsia-100:#fae8ff!important;--color-fuchsia-400:#e879f9!important;--color-fuchsia-500:#d946ef!important;--color-fuchsia-600:#c026d3!important;--spacing:.25rem!important;--text-xs:.75rem!important;--text-xs--line-height:1rem!important;--text-sm:.875rem!important;--text-sm--line-height:1.25rem!important;--text-base:1rem!important;--text-base--line-height:1.5rem!important;--text-lg:1.125rem!important;--text-lg--line-height:1.75rem!important;--text-xl:1.25rem!important;--text-xl--line-height:1.75rem!important;--text-2xl:1.5rem!important;--text-2xl--line-height:2rem!important;--text-3xl:1.875rem!important;--text-3xl--line-height:2.25rem!important;--text-4xl:2.25rem!important;--text-4xl--line-height:2.5rem!important;--font-weight-normal:400!important;--font-weight-medium:500!important;--font-weight-semibold:600!important;--font-weight-bold:700!important;--font-mono:ui-monospace,SFMono-Regular,"SF Mono",Menlo,Consolas,monospace!important;--leading-tight:1.25!important;--leading-relaxed:1.625!important;--leading-loose:2!important;--tracking-wide:.025em!important;--tracking-wider:.05em!important;--ease-in-out:cubic-bezier(.4,0,.2,1)!important;--ease-out:cubic-bezier(0,0,.2,1)!important;--blur-sm:4px!important;--default-transition-timing-function:cubic-bezier(.4,0,.2,1)!important;--default-transition-duration:.15s!important;--tw-border-opacity:1!important;--tw-ring-opacity:1!important;--tw-ring-offset-width:0px!important;--tw-ring-offset-color:#fff!important;--radius-sm:.125rem!important;--radius-md:.375rem!important;--radius-lg:.5rem!important;--radius-xl:.75rem!important;--radius-2xl:1rem!important;--radius-full:9999px!important}:host input,:host select,:host textarea,:host button{font-family:inherit!important;font-size:inherit!important;line-height:inherit!important;color:inherit!important}:host input,:host select,:host textarea{border-width:1px;border-style:solid!important;border-color:var(--color-slate-200,#e2e8f0)!important;color:#0f172a!important;background-color:#fff!important}:host input[type=text],:host input[type=number],:host input[type=date],:host input[type=time],:host select{box-sizing:border-box!important;height:34px!important;min-height:34px!important;padding-top:.375rem!important;padding-bottom:.375rem!important}:host select{-webkit-appearance:auto!important;-moz-appearance:auto!important;appearance:auto!important;background-color:#fff!important}:host .border{border-style:solid!important;border-width:1px!important;border-color:var(--color-slate-200,#e2e8f0)!important}:host .focus\\:ring-1:focus{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)!important;--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color)!important;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)!important}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-content{syntax:"*";inherits:false;initial-value:""}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}`,dn=({initialShipment:r,initialShipments:t,onClose:a,isVisible:n,onCopyResult:o,onSaveConfig:s})=>{const[l,c]=L([]),[d,p]=L(null),[h,u]=L(!1),[i,m]=L(!1),x=l.length===1;or(()=>{if(n)if(t&&t.length>0){const f=t.map(T=>_a(T));c(f),f.length===1&&(p(f[0]),u(!0)),m(!1)}else if(r&&Object.keys(r).length>0){const f=_a(r);c([f]),p(f),u(!0),m(!1)}else c([xt[0]]),p(xt[0]),u(!0),m(!1);else u(!1),m(!1)},[n,r,t]);const v=J(f=>{c(T=>T.map(E=>E.id===f.id?f:E)),p(f)},[]),k=J((f,T)=>{const E=`log-${Date.now()}`,O=new Date().toISOString(),B=(d==null?void 0:d.awbNumber)||"";o&&o(!0,B,{timestamp:O,summary:"EDI copiado al portapapeles",ediContent:T});const X={id:E,timestamp:O,type:"OUTBOUND",status:"ACCEPTED",payloadJson:T,responseMessage:"EDI copiado exitosamente",responseTimestamp:new Date().toISOString()};c(_=>_.map(j=>j.id!==f?j:{...j,logs:[X,...j.logs||[]]})),console.log(`✅ EDI copiado para shipment ${f}`)},[d,o]),N=J(()=>{u(!1),l.length===1?(p(null),a()):p(null)},[l.length,a]),A=J(()=>{u(!1),m(!1),p(null),a()},[a]);J(()=>{u(!0)},[]);const F=J(f=>{p(f),u(!0)},[]);return n?x&&d?e(Ta,{isOpen:h,onClose:N,shipment:d,onSave:v,onCopySuccess:k,onSaveConfig:s}):e(ie,{children:[e(pn,{shipments:l,onSelectShipment:F,onClose:A}),e(Ta,{isOpen:h,onClose:N,shipment:d,onSave:v,onCopySuccess:k,onSaveConfig:s})]}):null},pn=({shipments:r,onSelectShipment:t,onClose:a})=>{const[n,o]=L(""),s=r.filter(c=>{if(!n.trim())return!0;const d=n.toLowerCase();return c.awbNumber.toLowerCase().includes(d)||c.shipper.name.toLowerCase().includes(d)||c.consignee.name.toLowerCase().includes(d)}),l=c=>{switch(c){case"TRANSMITTED":return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:"Pending"});case"ACKNOWLEDGED":return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:"Confirmed"});case"REJECTED":return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:"Rejected"});default:return e("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-600",children:"Draft"})}};return e("div",{className:"modal-overlay",children:e("div",{className:"modal-content max-w-4xl w-full",children:[e("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 flex items-center justify-between flex-shrink-0",children:[e("div",{className:"flex items-center gap-3",children:[e("div",{className:"bg-white/20 p-2 rounded-lg",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e("div",{children:[e("h2",{className:"text-lg font-bold",children:"Shipment Management"}),e("p",{className:"text-blue-100 text-sm",children:[r.length," AWBs para transmitir"]})]})]}),e("button",{onClick:a,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{className:"px-6 py-4 border-b border-slate-200 bg-slate-50",children:e("div",{className:"relative max-w-md",children:[e("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",placeholder:"Buscar AWB, Shipper, Consignee...",value:n,onChange:c=>o(c.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]})}),e("div",{className:"flex-1 overflow-y-auto p-4",style:{maxHeight:"calc(70vh - 150px)"},children:[e("div",{className:"space-y-3",children:s.map(c=>e("div",{onClick:()=>t(c),className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md hover:border-blue-300 transition-all cursor-pointer group",children:e("div",{className:"flex items-center justify-between",children:e("div",{className:"flex-1",children:[e("div",{className:"flex items-center gap-3 mb-2",children:[e("span",{className:"text-lg font-bold font-mono text-slate-900 group-hover:text-blue-600 transition-colors",children:c.awbNumber}),l(c.status),c.hasHouses&&e("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Consol (",c.houseBills.length,")"]})]}),e("div",{className:"grid grid-cols-4 gap-4 text-sm text-slate-600",children:[e("div",{children:[e("span",{className:"text-xs text-slate-400 uppercase block",children:"Ruta"}),e("span",{className:"font-semibold",children:[c.origin," → ",c.destination]})]}),e("div",{children:[e("span",{className:"text-xs text-slate-400 uppercase block",children:"Shipper"}),e("span",{className:"truncate block max-w-[150px]",children:c.shipper.name})]}),e("div",{children:[e("span",{className:"text-xs text-slate-400 uppercase block",children:"Piezas/Peso"}),e("span",{className:"font-semibold",children:[c.pieces," pcs / ",c.weight," kg"]})]}),e("div",{className:"flex items-center justify-end",children:e("span",{className:"text-blue-600 group-hover:translate-x-1 transition-transform",children:e("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]})]})})},c.id))}),s.length===0&&e("div",{className:"text-center py-12 text-slate-500",children:['No se encontraron guías que coincidan con "',n,'"']})]}),e("div",{className:"px-6 py-4 border-t border-slate-200 bg-slate-50 text-sm text-slate-600",children:"Selecciona una guía para revisar y transmitir a Traxon"})]})})};function mn(r){if(!r)return"KILOGRAM";const t=r.toUpperCase().trim();return["KG","KGS","KILOGRAM","KILOGRAMS","KILO","KILOS"].includes(t)?"KILOGRAM":["LB","LBS","POUND","POUNDS","LIBRA","LIBRAS"].includes(t)?"POUND":"KILOGRAM"}function un(r){if(!r)return;const t=r.toUpperCase().trim();return["CM3","CM³","CUBIC_CENTIMETRE","CUBIC_CENTIMETER","CC"].includes(t)?"CUBIC_CENTIMETRE":(["M3","M³","CUBIC_METRE","CUBIC_METER","CBM"].includes(t),"CUBIC_METRE")}function Ea(r){if(!r)return"Prepaid";const t=r.toUpperCase().trim();return["COLLECT","COL","C","COBRAR","POR_COBRAR"].includes(t)?"Collect":(["PREPAID","PRE","P","PP","PREPAGO","PAGADO"].includes(t),"Prepaid")}function gn(r){if(!r)return"DRAFT";const t=r.toUpperCase().trim();return["DRAFT","BORRADOR","NUEVO","NEW"].includes(t)?"DRAFT":["TRANSMITTED","ENVIADO","SENT","PENDING"].includes(t)?"TRANSMITTED":["ACKNOWLEDGED","ACK","CONFIRMADO","CONFIRMED","OK"].includes(t)?"ACKNOWLEDGED":["REJECTED","RECHAZADO","ERROR","FAILED"].includes(t)?"REJECTED":"DRAFT"}function hn(r){if(!r)return"CENTIMETRE";const t=r.toUpperCase().trim();return["IN","INCH","INCHES","PULGADA","PULGADAS"].includes(t)?"INCH":"CENTIMETRE"}function bn(r){if(!r)return"QUANTITY_RATE";const t=r.toUpperCase().trim(),a={Q:"QUANTITY_RATE",N:"NORMAL_RATE",M:"MINIMUM_CHARGE",B:"BASIC_CHARGE",C:"SPECIFIC_COMMODITY_RATE",K:"RATE_PER_KILOGRAM",R:"CLASS_RATE_REDUCTION",S:"CLASS_RATE_SURCHARGE",E:"INTERNATIONAL_PRIORITY_SERVICE_RATE",X:"UNIT_LOAD_DEVICE_ADDITIONAL_INFORMATION",Y:"UNIT_LOAD_DEVICE_ADDITIONAL_RATE",U:"UNIT_LOAD_DEVIDE_BASIC_CHARGE_OR_RATE",W:"UNIT_LOAD_DEVICE_DISCOUNT"};return a[t]?a[t]:new Set(Object.values(a)).has(t)?t:"QUANTITY_RATE"}function fn(r){if(!r)return"DueAgent";const t=r.toUpperCase().trim();return["DUECARRIER","DUE_CARRIER","CARRIER","C","AEROLINEA"].includes(t)?"DueCarrier":"DueAgent"}function Vr(r,t){var a,n,o,s,l,c,d,p,h,u;return r?{name:r.name||t.name,name2:r.name2||"",accountNumber:r.accountNumber||"",taxId:r.taxId||r.nit||r.ruc||"",address:{street:((a=r.address)==null?void 0:a.street)||r.direccion||t.address.street,street2:((n=r.address)==null?void 0:n.street2)||"",place:((o=r.address)==null?void 0:o.place)||((s=r.address)==null?void 0:s.city)||r.ciudad||t.address.place,state:((l=r.address)==null?void 0:l.state)||((c=r.address)==null?void 0:c.provincia)||"",countryCode:(((d=r.address)==null?void 0:d.countryCode)||((p=r.address)==null?void 0:p.country)||r.pais||t.address.countryCode).toUpperCase().substring(0,2),postalCode:((h=r.address)==null?void 0:h.postalCode)||((u=r.address)==null?void 0:u.zip)||""},contact:r.contact||t.contact||{identifier:"TE",number:""}}:t}function xn(r,t){return r?{name:r.name||t.name,iataCode:r.iataCode||r.codigoIata||t.iataCode,cassCode:r.cassCode||r.codigoCass||"",place:r.place||r.ciudad||t.place,accountNumber:r.accountNumber||""}:t}function vn(r){var N,A,F,f,T,E,O,B,X,_,j,ae,le,V,ue,Ae,Z,ye,ke,xe,ge,De,ve,I,Qe,$e,Je,er;const t=r.shipperName||((N=r.shipper)==null?void 0:N.name)||"",a=r.shipperTaxId||((A=r.shipper)==null?void 0:A.taxId)||"",n=r.shipperAddress||((f=(F=r.shipper)==null?void 0:F.address)==null?void 0:f.street)||"",o=r.shipperCity||((E=(T=r.shipper)==null?void 0:T.address)==null?void 0:E.place)||"",s=r.shipperCountry||((B=(O=r.shipper)==null?void 0:O.address)==null?void 0:B.countryCode)||"",l=r.shipperState||((_=(X=r.shipper)==null?void 0:X.address)==null?void 0:_.state)||"",c=r.shipperPostalCode||((ae=(j=r.shipper)==null?void 0:j.address)==null?void 0:ae.postalCode)||"",d=r.shipperPhone||((V=(le=r.shipper)==null?void 0:le.contact)==null?void 0:V.number)||"",p=r.consigneeName||((ue=r.consignee)==null?void 0:ue.name)||"",h=r.consigneeTaxId||((Ae=r.consignee)==null?void 0:Ae.taxId)||"",u=r.consigneeAddress||((ye=(Z=r.consignee)==null?void 0:Z.address)==null?void 0:ye.street)||"",i=r.consigneeCity||((xe=(ke=r.consignee)==null?void 0:ke.address)==null?void 0:xe.place)||"",m=r.consigneeCountry||((De=(ge=r.consignee)==null?void 0:ge.address)==null?void 0:De.countryCode)||"",x=r.consigneeState||((I=(ve=r.consignee)==null?void 0:ve.address)==null?void 0:I.state)||"",v=r.consigneePostalCode||(($e=(Qe=r.consignee)==null?void 0:Qe.address)==null?void 0:$e.postalCode)||"",k=r.consigneePhone||((er=(Je=r.consignee)==null?void 0:Je.contact)==null?void 0:er.number)||"";return{id:r.id||`house-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,messageId:r.messageId,hawbNumber:r.hawbNumber||r.numero||"",origin:r.origin||"",destination:r.destination||"",shipperName:t,shipperTaxId:a,shipperAddress:n,shipperCity:o,shipperCountry:s,shipperState:l,shipperPostalCode:c,shipperPhone:d,consigneeName:p,consigneeTaxId:h,consigneeAddress:u,consigneeCity:i,consigneeCountry:m,consigneeState:x,consigneePostalCode:v,consigneePhone:k,pieces:r.pieces??0,weight:r.weight??0,natureOfGoods:r.natureOfGoods||r.descripcion||"",commonName:r.commonName||"",htsCodes:r.htsCodes||[],shipper:r.shipper?Vr(r.shipper,{name:"",address:{street:"",place:"",countryCode:"CO",postalCode:""}}):t?{name:t,taxId:a,address:{street:n,place:o,countryCode:s||"CO",state:l,postalCode:c},contact:d?{identifier:"TE",number:d}:void 0}:void 0,consignee:r.consignee?Vr(r.consignee,{name:"",address:{street:"",place:"",countryCode:"US",postalCode:""}}):p?{name:p,taxId:h,address:{street:u,place:i,countryCode:m||"US",state:x,postalCode:v},contact:k?{identifier:"TE",number:k}:void 0}:void 0}}function Cn(r){return{pieces:r.pieces??0,weight:r.weight??0,chargeableWeight:r.chargeableWeight||r.pesoFacturable,rateClassCode:bn(r.rateClassCode),rateOrCharge:r.rateOrCharge??r.tarifa??0,total:r.total??0,description:r.description||r.descripcion||"",goodsDescriptionOverride:r.goodsDescriptionOverride||r.descripcionMercancia||void 0,commodityCode:r.commodityCode||"",hsCode:r.hsCode||""}}function wn(r){return{code:r.code||r.codigo||"",entitlement:fn(r.entitlement),amount:r.amount??r.monto??0,paymentMethod:Ea(r.paymentMethod)}}function yn(r){return{length:r.length??r.largo??0,width:r.width??r.ancho??0,height:r.height??r.alto??0,pieces:r.pieces??r.piezas??1,unit:hn(r.unit)}}function _a(r){const t=xt[0],a=(r.rates||t.rates).map(Cn),n=(r.houseBills||[]).map(vn),o=(r.otherCharges||[]).map(wn),s=r.dimensions?r.dimensions.map(yn):void 0;return{id:r.id||`shipment-${Date.now()}`,messageId:r.messageId,status:gn(r.status),traxonResponse:r.traxonResponse,awbNumber:r.awbNumber||t.awbNumber,origin:(r.origin||t.origin).toUpperCase().substring(0,3),destination:(r.destination||t.destination).toUpperCase().substring(0,3),pieces:r.pieces??t.pieces,weight:r.weight??t.weight,weightUnit:mn(r.weightUnit),volume:r.volume,volumeUnit:r.volume?un(r.volumeUnit):void 0,dimensions:s,description:r.description||t.description,commodityCode:r.commodityCode||t.commodityCode,currency:(r.currency||"USD").toUpperCase(),paymentMethod:Ea(r.paymentMethod),shipper:Vr(r.shipper,t.shipper),consignee:Vr(r.consignee,t.consignee),agent:xn(r.agent,t.agent),routing:r.routing||t.routing,flights:r.flights||t.flights,rates:a,otherCharges:o,oci:r.oci||[],specialHandlingCodes:r.specialHandlingCodes||[],specialServiceRequest:r.specialServiceRequest||void 0,chargeSummaryOverride:r.chargeSummaryOverride||void 0,executionDate:r.executionDate||new Date().toISOString().split("T")[0],executionPlace:r.executionPlace||"BOGOTA",signature:r.signature||"AVTOPF",hasHouses:r.hasHouses??n.length>0,houseBills:n,logs:r.logs||[],descartesConfig:r.descartesConfig}}class zr extends HTMLElement{constructor(){super(),this.portalMountRef=null,this.isVisible=!1,this.currentShipment=null,this.currentShipments=null,this.portalContainer=null,this.portalShadow=null,this.copyResultCallback=null,this.shadowRoot_=this.attachShadow({mode:"open"}),this.mountPoint=document.createElement("div"),this.mountPoint.id="cargo-imp-connector-root",this.shadowRoot_.appendChild(this.mountPoint)}getOrCreatePortal(){if(!this.portalContainer){this.portalContainer=document.createElement("div"),this.portalContainer.id="cargo-imp-connector-portal",this.portalContainer.style.cssText=`
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        z-index: 2147483647 !important;
        pointer-events: none;
      `,document.body.appendChild(this.portalContainer),this.portalShadow=this.portalContainer.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=cn,this.portalShadow.appendChild(t);const a=document.createElement("div");a.id="cargo-imp-portal-mount",this.portalShadow.appendChild(a)}return{container:this.portalContainer,shadow:this.portalShadow}}updatePortalVisibility(t){this.portalContainer&&(this.portalContainer.style.pointerEvents=t?"auto":"none",this.portalContainer.setAttribute("data-visible",t.toString()))}connectedCallback(){const{shadow:t}=this.getOrCreatePortal(),a=t.getElementById("cargo-imp-portal-mount");a&&(this.portalMountRef=a,this.renderApp())}disconnectedCallback(){this.portalMountRef&&(Lt(null,this.portalMountRef),this.portalMountRef=null),this.portalContainer&&this.portalContainer.parentNode&&(this.portalContainer.parentNode.removeChild(this.portalContainer),this.portalContainer=null,this.portalShadow=null)}renderApp(){this.updatePortalVisibility(this.isVisible),this.portalMountRef&&Lt(e(dn,{initialShipment:this.currentShipment,initialShipments:this.currentShipments,onClose:()=>this.close(),isVisible:this.isVisible,onCopyResult:(t,a,n)=>{const o={success:t,awbNumber:a,timestamp:n.timestamp,summary:n.summary,ediContent:n.ediContent};this.copyResultCallback&&this.copyResultCallback(o),this.dispatchEvent(new CustomEvent("cargo-imp-copy-result",{detail:o,bubbles:!0,composed:!0}))},onSaveConfig:t=>{this.dispatchEvent(new CustomEvent("cargo-imp-config-saved",{detail:{config:t,timestamp:new Date().toISOString()},bubbles:!0,composed:!0}))}}),this.portalMountRef)}openWithShipment(t){t.onCopyResult?this.copyResultCallback=t.onCopyResult:this.copyResultCallback=null;const{onCopyResult:a,...n}=t;this.currentShipment=n,this.currentShipments=null,this.isVisible=!0,this.setAttribute("data-visible","true"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-opened",{detail:{shipment:n,mode:"single"},bubbles:!0,composed:!0}))}openWithShipments(t){const a=t.map(n=>{const{onCopyResult:o,...s}=n;return s});this.currentShipment=null,this.currentShipments=a,this.isVisible=!0,this.setAttribute("data-visible","true"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-opened",{detail:{shipments:a,mode:"multiple",count:a.length},bubbles:!0,composed:!0}))}open(){this.currentShipment=null,this.currentShipments=null,this.isVisible=!0,this.setAttribute("data-visible","true"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-opened",{detail:{shipment:null,usingDemo:!0},bubbles:!0,composed:!0}))}close(){this.isVisible=!1,this.currentShipment=null,this.currentShipments=null,this.removeAttribute("data-visible"),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-closed",{bubbles:!0,composed:!0}))}getConfig(){return nr()}loadConfig(t){const n={...nr(),...t};Xt(n),this.renderApp(),this.dispatchEvent(new CustomEvent("cargo-imp-config-loaded",{detail:{config:n},bubbles:!0,composed:!0}))}setConfig(t){this.loadConfig(t)}resetConfig(){Xt(vr),this.dispatchEvent(new CustomEvent("cargo-imp-config-reset",{bubbles:!0,composed:!0}))}isOpen(){return this.isVisible}}if(customElements.get("traxon-connector")||customElements.define("traxon-connector",zr),!customElements.get("cargo-imp-connector")){class r extends zr{}customElements.define("cargo-imp-connector",r)}return _r.CargoImpConnectorElement=zr,_r.default=zr,Object.defineProperties(_r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),_r})({});
